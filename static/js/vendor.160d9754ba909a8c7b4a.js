webpackJsonp([1],{0:function(e,t){e.exports=function(e,t,r,i,n){var o,a=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(o=e,a=e.default);var c="function"==typeof a?a.options:a;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns),i&&(c._scopeId=i);var l;if(n?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=l):r&&(l=r),l){var u=c.functional,h=u?c.render:c.beforeCreate;u?c.render=function(e,t){return l.call(t),h(e,t)}:c.beforeCreate=h?[].concat(h,l):[l]}return{esModule:o,exports:a,options:c}}},1:function(e,t,r){var i,n;/*!
 * jQuery JavaScript Library v3.2.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2017-03-20T18:59Z
 */
!function(t,r){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:this,function(r,o){"use strict";function a(e,t){t=t||ae;var r=t.createElement("script");r.text=e,t.head.appendChild(r).parentNode.removeChild(r)}function s(e){var t=!!e&&"length"in e&&e.length,r=ye.type(e);return"function"!==r&&!ye.isWindow(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}function c(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function l(e,t,r){return ye.isFunction(t)?ye.grep(e,function(e,i){return!!t.call(e,i,e)!==r}):t.nodeType?ye.grep(e,function(e){return e===t!==r}):"string"!=typeof t?ye.grep(e,function(e){return he.call(t,e)>-1!==r}):Ee.test(t)?ye.filter(t,e,r):(t=ye.filter(t,e),ye.grep(e,function(e){return he.call(t,e)>-1!==r&&1===e.nodeType}))}function u(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function h(e){var t={};return ye.each(e.match(Fe)||[],function(e,r){t[r]=!0}),t}function f(e){return e}function p(e){throw e}function d(e,t,r,i){var n;try{e&&ye.isFunction(n=e.promise)?n.call(e).done(t).fail(r):e&&ye.isFunction(n=e.then)?n.call(e,t,r):t.apply(void 0,[e].slice(i))}catch(e){r.apply(void 0,[e])}}function m(){ae.removeEventListener("DOMContentLoaded",m),r.removeEventListener("load",m),ye.ready()}function v(){this.expando=ye.expando+v.uid++}function g(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ze.test(e)?JSON.parse(e):e)}function y(e,t,r){var i;if(void 0===r&&1===e.nodeType)if(i="data-"+t.replace(Ie,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(i))){try{r=g(r)}catch(e){}Be.set(e,t,r)}else r=void 0;return r}function x(e,t,r,i){var n,o=1,a=20,s=i?function(){return i.cur()}:function(){return ye.css(e,t,"")},c=s(),l=r&&r[3]||(ye.cssNumber[t]?"":"px"),u=(ye.cssNumber[t]||"px"!==l&&+c)&&He.exec(ye.css(e,t));if(u&&u[3]!==l){l=l||u[3],r=r||[],u=+c||1;do{o=o||".5",u/=o,ye.style(e,t,u+l)}while(o!==(o=s()/c)&&1!==o&&--a)}return r&&(u=+u||+c||0,n=r[1]?u+(r[1]+1)*r[2]:+r[2],i&&(i.unit=l,i.start=u,i.end=n)),n}function b(e){var t,r=e.ownerDocument,i=e.nodeName,n=qe[i];return n||(t=r.body.appendChild(r.createElement(i)),n=ye.css(t,"display"),t.parentNode.removeChild(t),"none"===n&&(n="block"),qe[i]=n,n)}function w(e,t){for(var r,i,n=[],o=0,a=e.length;o<a;o++)i=e[o],i.style&&(r=i.style.display,t?("none"===r&&(n[o]=Ve.get(i,"display")||null,n[o]||(i.style.display="")),""===i.style.display&&We(i)&&(n[o]=b(i))):"none"!==r&&(n[o]="none",Ve.set(i,"display",r)));for(o=0;o<a;o++)null!=n[o]&&(e[o].style.display=n[o]);return e}function _(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&c(e,t)?ye.merge([e],r):r}function M(e,t){for(var r=0,i=e.length;r<i;r++)Ve.set(e[r],"globalEval",!t||Ve.get(t[r],"globalEval"))}function S(e,t,r,i,n){for(var o,a,s,c,l,u,h=t.createDocumentFragment(),f=[],p=0,d=e.length;p<d;p++)if((o=e[p])||0===o)if("object"===ye.type(o))ye.merge(f,o.nodeType?[o]:o);else if(Qe.test(o)){for(a=a||h.appendChild(t.createElement("div")),s=(Ye.exec(o)||["",""])[1].toLowerCase(),c=Ze[s]||Ze._default,a.innerHTML=c[1]+ye.htmlPrefilter(o)+c[2],u=c[0];u--;)a=a.lastChild;ye.merge(f,a.childNodes),a=h.firstChild,a.textContent=""}else f.push(t.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(i&&ye.inArray(o,i)>-1)n&&n.push(o);else if(l=ye.contains(o.ownerDocument,o),a=_(h.appendChild(o),"script"),l&&M(a),r)for(u=0;o=a[u++];)Ke.test(o.type||"")&&r.push(o);return h}function C(){return!0}function T(){return!1}function A(){try{return ae.activeElement}catch(e){}}function E(e,t,r,i,n,o){var a,s;if("object"==typeof t){"string"!=typeof r&&(i=i||r,r=void 0);for(s in t)E(e,s,r,i,t[s],o);return e}if(null==i&&null==n?(n=r,i=r=void 0):null==n&&("string"==typeof r?(n=i,i=void 0):(n=i,i=r,r=void 0)),!1===n)n=T;else if(!n)return e;return 1===o&&(a=n,n=function(e){return ye().off(e),a.apply(this,arguments)},n.guid=a.guid||(a.guid=ye.guid++)),e.each(function(){ye.event.add(this,t,n,i,r)})}function L(e,t){return c(e,"table")&&c(11!==t.nodeType?t:t.firstChild,"tr")?ye(">tbody",e)[0]||e:e}function P(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function D(e){var t=at.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function R(e,t){var r,i,n,o,a,s,c,l;if(1===t.nodeType){if(Ve.hasData(e)&&(o=Ve.access(e),a=Ve.set(t,o),l=o.events)){delete a.handle,a.events={};for(n in l)for(r=0,i=l[n].length;r<i;r++)ye.event.add(t,n,l[n][r])}Be.hasData(e)&&(s=Be.access(e),c=ye.extend({},s),Be.set(t,c))}}function F(e,t){var r=t.nodeName.toLowerCase();"input"===r&&$e.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function k(e,t,r,i){t=le.apply([],t);var n,o,s,c,l,u,h=0,f=e.length,p=f-1,d=t[0],m=ye.isFunction(d);if(m||f>1&&"string"==typeof d&&!ge.checkClone&&ot.test(d))return e.each(function(n){var o=e.eq(n);m&&(t[0]=d.call(this,n,o.html())),k(o,t,r,i)});if(f&&(n=S(t,e[0].ownerDocument,!1,e,i),o=n.firstChild,1===n.childNodes.length&&(n=o),o||i)){for(s=ye.map(_(n,"script"),P),c=s.length;h<f;h++)l=n,h!==p&&(l=ye.clone(l,!0,!0),c&&ye.merge(s,_(l,"script"))),r.call(e[h],l,h);if(c)for(u=s[s.length-1].ownerDocument,ye.map(s,D),h=0;h<c;h++)l=s[h],Ke.test(l.type||"")&&!Ve.access(l,"globalEval")&&ye.contains(u,l)&&(l.src?ye._evalUrl&&ye._evalUrl(l.src):a(l.textContent.replace(st,""),u))}return e}function O(e,t,r){for(var i,n=t?ye.filter(t,e):e,o=0;null!=(i=n[o]);o++)r||1!==i.nodeType||ye.cleanData(_(i)),i.parentNode&&(r&&ye.contains(i.ownerDocument,i)&&M(_(i,"script")),i.parentNode.removeChild(i));return e}function U(e,t,r){var i,n,o,a,s=e.style;return r=r||ut(e),r&&(a=r.getPropertyValue(t)||r[t],""!==a||ye.contains(e.ownerDocument,e)||(a=ye.style(e,t)),!ge.pixelMarginRight()&&lt.test(a)&&ct.test(t)&&(i=s.width,n=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=r.width,s.width=i,s.minWidth=n,s.maxWidth=o)),void 0!==a?a+"":a}function N(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function V(e){if(e in vt)return e;for(var t=e[0].toUpperCase()+e.slice(1),r=mt.length;r--;)if((e=mt[r]+t)in vt)return e}function B(e){var t=ye.cssProps[e];return t||(t=ye.cssProps[e]=V(e)||e),t}function z(e,t,r){var i=He.exec(t);return i?Math.max(0,i[2]-(r||0))+(i[3]||"px"):t}function I(e,t,r,i,n){var o,a=0;for(o=r===(i?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===r&&(a+=ye.css(e,r+Ge[o],!0,n)),i?("content"===r&&(a-=ye.css(e,"padding"+Ge[o],!0,n)),"margin"!==r&&(a-=ye.css(e,"border"+Ge[o]+"Width",!0,n))):(a+=ye.css(e,"padding"+Ge[o],!0,n),"padding"!==r&&(a+=ye.css(e,"border"+Ge[o]+"Width",!0,n)));return a}function j(e,t,r){var i,n=ut(e),o=U(e,t,n),a="border-box"===ye.css(e,"boxSizing",!1,n);return lt.test(o)?o:(i=a&&(ge.boxSizingReliable()||o===e.style[t]),"auto"===o&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)]),(o=parseFloat(o)||0)+I(e,t,r||(a?"border":"content"),i,n)+"px")}function H(e,t,r,i,n){return new H.prototype.init(e,t,r,i,n)}function G(){yt&&(!1===ae.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(G):r.setTimeout(G,ye.fx.interval),ye.fx.tick())}function W(){return r.setTimeout(function(){gt=void 0}),gt=ye.now()}function X(e,t){var r,i=0,n={height:e};for(t=t?1:0;i<4;i+=2-t)r=Ge[i],n["margin"+r]=n["padding"+r]=e;return t&&(n.opacity=n.width=e),n}function q(e,t,r){for(var i,n=(K.tweeners[t]||[]).concat(K.tweeners["*"]),o=0,a=n.length;o<a;o++)if(i=n[o].call(r,t,e))return i}function $(e,t,r){var i,n,o,a,s,c,l,u,h="width"in t||"height"in t,f=this,p={},d=e.style,m=e.nodeType&&We(e),v=Ve.get(e,"fxshow");r.queue||(a=ye._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,ye.queue(e,"fx").length||a.empty.fire()})}));for(i in t)if(n=t[i],xt.test(n)){if(delete t[i],o=o||"toggle"===n,n===(m?"hide":"show")){if("show"!==n||!v||void 0===v[i])continue;m=!0}p[i]=v&&v[i]||ye.style(e,i)}if((c=!ye.isEmptyObject(t))||!ye.isEmptyObject(p)){h&&1===e.nodeType&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],l=v&&v.display,null==l&&(l=Ve.get(e,"display")),u=ye.css(e,"display"),"none"===u&&(l?u=l:(w([e],!0),l=e.style.display||l,u=ye.css(e,"display"),w([e]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===ye.css(e,"float")&&(c||(f.done(function(){d.display=l}),null==l&&(u=d.display,l="none"===u?"":u)),d.display="inline-block")),r.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]})),c=!1;for(i in p)c||(v?"hidden"in v&&(m=v.hidden):v=Ve.access(e,"fxshow",{display:l}),o&&(v.hidden=!m),m&&w([e],!0),f.done(function(){m||w([e]),Ve.remove(e,"fxshow");for(i in p)ye.style(e,i,p[i])})),c=q(m?v[i]:0,i,f),i in v||(v[i]=c.start,m&&(c.end=c.start,c.start=0))}}function Y(e,t){var r,i,n,o,a;for(r in e)if(i=ye.camelCase(r),n=t[i],o=e[r],Array.isArray(o)&&(n=o[1],o=e[r]=o[0]),r!==i&&(e[i]=o,delete e[r]),(a=ye.cssHooks[i])&&"expand"in a){o=a.expand(o),delete e[i];for(r in o)r in e||(e[r]=o[r],t[r]=n)}else t[i]=n}function K(e,t,r){var i,n,o=0,a=K.prefilters.length,s=ye.Deferred().always(function(){delete c.elem}),c=function(){if(n)return!1;for(var t=gt||W(),r=Math.max(0,l.startTime+l.duration-t),i=r/l.duration||0,o=1-i,a=0,c=l.tweens.length;a<c;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,r]),o<1&&c?r:(c||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:ye.extend({},t),opts:ye.extend(!0,{specialEasing:{},easing:ye.easing._default},r),originalProperties:t,originalOptions:r,startTime:gt||W(),duration:r.duration,tweens:[],createTween:function(t,r){var i=ye.Tween(e,l.opts,t,r,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var r=0,i=t?l.tweens.length:0;if(n)return this;for(n=!0;r<i;r++)l.tweens[r].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),u=l.props;for(Y(u,l.opts.specialEasing);o<a;o++)if(i=K.prefilters[o].call(l,e,u,l.opts))return ye.isFunction(i.stop)&&(ye._queueHooks(l.elem,l.opts.queue).stop=ye.proxy(i.stop,i)),i;return ye.map(u,q,l),ye.isFunction(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),ye.fx.timer(ye.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l}function Z(e){return(e.match(Fe)||[]).join(" ")}function Q(e){return e.getAttribute&&e.getAttribute("class")||""}function J(e,t,r,i){var n;if(Array.isArray(t))ye.each(t,function(t,n){r||Pt.test(e)?i(e,n):J(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,r,i)});else if(r||"object"!==ye.type(t))i(e,t);else for(n in t)J(e+"["+n+"]",t[n],r,i)}function ee(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var i,n=0,o=t.toLowerCase().match(Fe)||[];if(ye.isFunction(r))for(;i=o[n++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(r)):(e[i]=e[i]||[]).push(r)}}function te(e,t,r,i){function n(s){var c;return o[s]=!0,ye.each(e[s]||[],function(e,s){var l=s(t,r,i);return"string"!=typeof l||a||o[l]?a?!(c=l):void 0:(t.dataTypes.unshift(l),n(l),!1)}),c}var o={},a=e===jt;return n(t.dataTypes[0])||!o["*"]&&n("*")}function re(e,t){var r,i,n=ye.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((n[r]?e:i||(i={}))[r]=t[r]);return i&&ye.extend(!0,e,i),e}function ie(e,t,r){for(var i,n,o,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(n in s)if(s[n]&&s[n].test(i)){c.unshift(n);break}if(c[0]in r)o=c[0];else{for(n in r){if(!c[0]||e.converters[n+" "+c[0]]){o=n;break}a||(a=n)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),r[o]}function ne(e,t,r,i){var n,o,a,s,c,l={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(r[e.responseFields[o]]=t),!c&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(a=l[c+" "+o]||l["* "+o]))for(n in l)if(s=n.split(" "),s[1]===o&&(a=l[c+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[n]:!0!==l[n]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}var oe=[],ae=r.document,se=Object.getPrototypeOf,ce=oe.slice,le=oe.concat,ue=oe.push,he=oe.indexOf,fe={},pe=fe.toString,de=fe.hasOwnProperty,me=de.toString,ve=me.call(Object),ge={},ye=function(e,t){return new ye.fn.init(e,t)},xe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,be=/^-ms-/,we=/-([a-z])/g,_e=function(e,t){return t.toUpperCase()};ye.fn=ye.prototype={jquery:"3.2.1",constructor:ye,length:0,toArray:function(){return ce.call(this)},get:function(e){return null==e?ce.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ye.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ye.each(this,e)},map:function(e){return this.pushStack(ye.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(ce.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:ue,sort:oe.sort,splice:oe.splice},ye.extend=ye.fn.extend=function(){var e,t,r,i,n,o,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||ye.isFunction(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)r=a[t],i=e[t],a!==i&&(l&&i&&(ye.isPlainObject(i)||(n=Array.isArray(i)))?(n?(n=!1,o=r&&Array.isArray(r)?r:[]):o=r&&ye.isPlainObject(r)?r:{},a[t]=ye.extend(l,o,i)):void 0!==i&&(a[t]=i));return a},ye.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ye.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ye.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==pe.call(e))&&(!(t=se(e))||"function"==typeof(r=de.call(t,"constructor")&&t.constructor)&&me.call(r)===ve)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?fe[pe.call(e)]||"object":typeof e},globalEval:function(e){a(e)},camelCase:function(e){return e.replace(be,"ms-").replace(we,_e)},each:function(e,t){var r,i=0;if(s(e))for(r=e.length;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(xe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(s(Object(e))?ye.merge(r,"string"==typeof e?[e]:e):ue.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:he.call(t,e,r)},merge:function(e,t){for(var r=+t.length,i=0,n=e.length;i<r;i++)e[n++]=t[i];return e.length=n,e},grep:function(e,t,r){for(var i=[],n=0,o=e.length,a=!r;n<o;n++)!t(e[n],n)!==a&&i.push(e[n]);return i},map:function(e,t,r){var i,n,o=0,a=[];if(s(e))for(i=e.length;o<i;o++)null!=(n=t(e[o],o,r))&&a.push(n);else for(o in e)null!=(n=t(e[o],o,r))&&a.push(n);return le.apply([],a)},guid:1,proxy:function(e,t){var r,i,n;if("string"==typeof t&&(r=e[t],t=e,e=r),ye.isFunction(e))return i=ce.call(arguments,2),n=function(){return e.apply(t||this,i.concat(ce.call(arguments)))},n.guid=e.guid=e.guid||ye.guid++,n},now:Date.now,support:ge}),"function"==typeof Symbol&&(ye.fn[Symbol.iterator]=oe[Symbol.iterator]),ye.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){fe["[object "+t+"]"]=t.toLowerCase()});var Me=/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(e){function t(e,t,r,i){var n,o,a,s,c,u,f,p=t&&t.ownerDocument,d=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return r;if(!i&&((t?t.ownerDocument||t:B)!==D&&P(t),t=t||D,F)){if(11!==d&&(c=me.exec(e)))if(n=c[1]){if(9===d){if(!(a=t.getElementById(n)))return r;if(a.id===n)return r.push(a),r}else if(p&&(a=p.getElementById(n))&&N(t,a)&&a.id===n)return r.push(a),r}else{if(c[2])return K.apply(r,t.getElementsByTagName(e)),r;if((n=c[3])&&b.getElementsByClassName&&t.getElementsByClassName)return K.apply(r,t.getElementsByClassName(n)),r}if(b.qsa&&!G[e+" "]&&(!k||!k.test(e))){if(1!==d)p=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(xe,be):t.setAttribute("id",s=V),u=S(e),o=u.length;o--;)u[o]="#"+s+" "+h(u[o]);f=u.join(","),p=ve.test(e)&&l(t.parentNode)||t}if(f)try{return K.apply(r,p.querySelectorAll(f)),r}catch(e){}finally{s===V&&t.removeAttribute("id")}}}return T(e.replace(oe,"$1"),t,r,i)}function r(){function e(r,i){return t.push(r+" ")>w.cacheLength&&delete e[t.shift()],e[r+" "]=i}var t=[];return e}function i(e){return e[V]=!0,e}function n(e){var t=D.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var r=e.split("|"),i=r.length;i--;)w.attrHandle[r[i]]=t}function a(e,t){var r=t&&e,i=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&_e(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return i(function(t){return t=+t,i(function(r,i){for(var n,o=e([],r.length,t),a=o.length;a--;)r[n=o[a]]&&(r[n]=!(i[n]=r[n]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function u(){}function h(e){for(var t=0,r=e.length,i="";t<r;t++)i+=e[t].value;return i}function f(e,t,r){var i=t.dir,n=t.next,o=n||i,a=r&&"parentNode"===o,s=I++;return t.first?function(t,r,n){for(;t=t[i];)if(1===t.nodeType||a)return e(t,r,n);return!1}:function(t,r,c){var l,u,h,f=[z,s];if(c){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,r,c))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(h=t[V]||(t[V]={}),u=h[t.uniqueID]||(h[t.uniqueID]={}),n&&n===t.nodeName.toLowerCase())t=t[i]||t;else{if((l=u[o])&&l[0]===z&&l[1]===s)return f[2]=l[2];if(u[o]=f,f[2]=e(t,r,c))return!0}return!1}}function p(e){return e.length>1?function(t,r,i){for(var n=e.length;n--;)if(!e[n](t,r,i))return!1;return!0}:e[0]}function d(e,r,i){for(var n=0,o=r.length;n<o;n++)t(e,r[n],i);return i}function m(e,t,r,i,n){for(var o,a=[],s=0,c=e.length,l=null!=t;s<c;s++)(o=e[s])&&(r&&!r(o,i,n)||(a.push(o),l&&t.push(s)));return a}function v(e,t,r,n,o,a){return n&&!n[V]&&(n=v(n)),o&&!o[V]&&(o=v(o,a)),i(function(i,a,s,c){var l,u,h,f=[],p=[],v=a.length,g=i||d(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?g:m(g,f,e,s,c),x=r?o||(i?e:v||n)?[]:a:y;if(r&&r(y,x,s,c),n)for(l=m(x,p),n(l,[],s,c),u=l.length;u--;)(h=l[u])&&(x[p[u]]=!(y[p[u]]=h));if(i){if(o||e){if(o){for(l=[],u=x.length;u--;)(h=x[u])&&l.push(y[u]=h);o(null,x=[],l,c)}for(u=x.length;u--;)(h=x[u])&&(l=o?Q(i,h):f[u])>-1&&(i[l]=!(a[l]=h))}}else x=m(x===a?x.splice(v,x.length):x),o?o(null,a,x,c):K.apply(a,x)})}function g(e){for(var t,r,i,n=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,c=f(function(e){return e===t},a,!0),l=f(function(e){return Q(t,e)>-1},a,!0),u=[function(e,r,i){var n=!o&&(i||r!==A)||((t=r).nodeType?c(e,r,i):l(e,r,i));return t=null,n}];s<n;s++)if(r=w.relative[e[s].type])u=[f(p(u),r)];else{if(r=w.filter[e[s].type].apply(null,e[s].matches),r[V]){for(i=++s;i<n&&!w.relative[e[i].type];i++);return v(s>1&&p(u),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),r,s<i&&g(e.slice(s,i)),i<n&&g(e=e.slice(i)),i<n&&h(e))}u.push(r)}return p(u)}function y(e,r){var n=r.length>0,o=e.length>0,a=function(i,a,s,c,l){var u,h,f,p=0,d="0",v=i&&[],g=[],y=A,x=i||o&&w.find.TAG("*",l),b=z+=null==y?1:Math.random()||.1,_=x.length;for(l&&(A=a===D||a||l);d!==_&&null!=(u=x[d]);d++){if(o&&u){for(h=0,a||u.ownerDocument===D||(P(u),s=!F);f=e[h++];)if(f(u,a||D,s)){c.push(u);break}l&&(z=b)}n&&((u=!f&&u)&&p--,i&&v.push(u))}if(p+=d,n&&d!==p){for(h=0;f=r[h++];)f(v,g,a,s);if(i){if(p>0)for(;d--;)v[d]||g[d]||(g[d]=$.call(c));g=m(g)}K.apply(c,g),l&&!i&&g.length>0&&p+r.length>1&&t.uniqueSort(c)}return l&&(z=b,A=y),v};return n?i(a):a}var x,b,w,_,M,S,C,T,A,E,L,P,D,R,F,k,O,U,N,V="sizzle"+1*new Date,B=e.document,z=0,I=0,j=r(),H=r(),G=r(),W=function(e,t){return e===t&&(L=!0),0},X={}.hasOwnProperty,q=[],$=q.pop,Y=q.push,K=q.push,Z=q.slice,Q=function(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",re="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ie=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ne=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ce=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),le=new RegExp(ie),ue=new RegExp("^"+te+"$"),he={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,de=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ge=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ye=function(e,t,r){var i="0x"+t-65536;return i!==i||r?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,be=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},we=function(){P()},_e=f(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{K.apply(q=Z.call(B.childNodes),B.childNodes),q[B.childNodes.length].nodeType}catch(e){K={apply:q.length?function(e,t){Y.apply(e,Z.call(t))}:function(e,t){for(var r=e.length,i=0;e[r++]=t[i++];);e.length=r-1}}}b=t.support={},M=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},P=t.setDocument=function(e){var t,r,i=e?e.ownerDocument||e:B;return i!==D&&9===i.nodeType&&i.documentElement?(D=i,R=D.documentElement,F=!M(D),B!==D&&(r=D.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",we,!1):r.attachEvent&&r.attachEvent("onunload",we)),b.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=n(function(e){return e.appendChild(D.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=de.test(D.getElementsByClassName),b.getById=n(function(e){return R.appendChild(e).id=V,!D.getElementsByName||!D.getElementsByName(V).length}),b.getById?(w.filter.ID=function(e){var t=e.replace(ge,ye);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&F){var r=t.getElementById(e);return r?[r]:[]}}):(w.filter.ID=function(e){var t=e.replace(ge,ye);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&F){var r,i,n,o=t.getElementById(e);if(o){if((r=o.getAttributeNode("id"))&&r.value===e)return[o];for(n=t.getElementsByName(e),i=0;o=n[i++];)if((r=o.getAttributeNode("id"))&&r.value===e)return[o]}return[]}}),w.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,i=[],n=0,o=t.getElementsByTagName(e);if("*"===e){for(;r=o[n++];)1===r.nodeType&&i.push(r);return i}return o},w.find.CLASS=b.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&F)return t.getElementsByClassName(e)},O=[],k=[],(b.qsa=de.test(D.querySelectorAll))&&(n(function(e){R.appendChild(e).innerHTML="<a id='"+V+"'></a><select id='"+V+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&k.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||k.push("\\["+ee+"*(?:value|"+J+")"),e.querySelectorAll("[id~="+V+"-]").length||k.push("~="),e.querySelectorAll(":checked").length||k.push(":checked"),e.querySelectorAll("a#"+V+"+*").length||k.push(".#.+[+~]")}),n(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=D.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&k.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&k.push(":enabled",":disabled"),R.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&k.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),k.push(",.*:")})),(b.matchesSelector=de.test(U=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&n(function(e){b.disconnectedMatch=U.call(e,"*"),U.call(e,"[s!='']:x"),O.push("!=",ie)}),k=k.length&&new RegExp(k.join("|")),O=O.length&&new RegExp(O.join("|")),t=de.test(R.compareDocumentPosition),N=t||de.test(R.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return L=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!b.sortDetached&&t.compareDocumentPosition(e)===r?e===D||e.ownerDocument===B&&N(B,e)?-1:t===D||t.ownerDocument===B&&N(B,t)?1:E?Q(E,e)-Q(E,t):0:4&r?-1:1)}:function(e,t){if(e===t)return L=!0,0;var r,i=0,n=e.parentNode,o=t.parentNode,s=[e],c=[t];if(!n||!o)return e===D?-1:t===D?1:n?-1:o?1:E?Q(E,e)-Q(E,t):0;if(n===o)return a(e,t);for(r=e;r=r.parentNode;)s.unshift(r);for(r=t;r=r.parentNode;)c.unshift(r);for(;s[i]===c[i];)i++;return i?a(s[i],c[i]):s[i]===B?-1:c[i]===B?1:0},D):D},t.matches=function(e,r){return t(e,null,null,r)},t.matchesSelector=function(e,r){if((e.ownerDocument||e)!==D&&P(e),r=r.replace(ce,"='$1']"),b.matchesSelector&&F&&!G[r+" "]&&(!O||!O.test(r))&&(!k||!k.test(r)))try{var i=U.call(e,r);if(i||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(r,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==D&&P(e),N(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==D&&P(e);var r=w.attrHandle[t.toLowerCase()],i=r&&X.call(w.attrHandle,t.toLowerCase())?r(e,t,!F):void 0;return void 0!==i?i:b.attributes||!F?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(xe,be)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,r=[],i=0,n=0;if(L=!b.detectDuplicates,E=!b.sortStable&&e.slice(0),e.sort(W),L){for(;t=e[n++];)t===e[n]&&(i=r.push(n));for(;i--;)e.splice(r[i],1)}return E=null,e},_=t.getText=function(e){var t,r="",i=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=_(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[i++];)r+=_(t);return r},w=t.selectors={cacheLength:50,createPseudo:i,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ge,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(ge,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&le.test(r)&&(t=S(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ge,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,r,i){return function(n){var o=t.attr(n,e);return null==o?"!="===r:!r||(o+="","="===r?o===i:"!="===r?o!==i:"^="===r?i&&0===o.indexOf(i):"*="===r?i&&o.indexOf(i)>-1:"$="===r?i&&o.slice(-i.length)===i:"~="===r?(" "+o.replace(ne," ")+" ").indexOf(i)>-1:"|="===r&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,r,i,n){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===n?function(e){return!!e.parentNode}:function(t,r,c){var l,u,h,f,p,d,m=o!==a?"nextSibling":"previousSibling",v=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!c&&!s,x=!1;if(v){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;d=m="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?v.firstChild:v.lastChild],a&&y){for(f=v,h=f[V]||(f[V]={}),u=h[f.uniqueID]||(h[f.uniqueID]={}),l=u[e]||[],p=l[0]===z&&l[1],x=p&&l[2],f=p&&v.childNodes[p];f=++p&&f&&f[m]||(x=p=0)||d.pop();)if(1===f.nodeType&&++x&&f===t){u[e]=[z,p,x];break}}else if(y&&(f=t,h=f[V]||(f[V]={}),u=h[f.uniqueID]||(h[f.uniqueID]={}),l=u[e]||[],p=l[0]===z&&l[1],x=p),!1===x)for(;(f=++p&&f&&f[m]||(x=p=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++x||(y&&(h=f[V]||(f[V]={}),u=h[f.uniqueID]||(h[f.uniqueID]={}),u[e]=[z,x]),f!==t)););return(x-=n)===i||x%i==0&&x/i>=0}}},PSEUDO:function(e,r){var n,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[V]?o(r):o.length>1?(n=[e,e,"",r],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,n=o(e,r),a=n.length;a--;)i=Q(e,n[a]),e[i]=!(t[i]=n[a])}):function(e){return o(e,0,n)}):o}},pseudos:{not:i(function(e){var t=[],r=[],n=C(e.replace(oe,"$1"));return n[V]?i(function(e,t,r,i){for(var o,a=n(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,n(t,null,o,r),t[0]=null,!r.pop()}}),has:i(function(e){return function(r){return t(e,r).length>0}}),contains:i(function(e){return e=e.replace(ge,ye),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:i(function(e){return ue.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ge,ye).toLowerCase(),function(t){var r;do{if(r=F?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===R},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,r){return[r<0?r+t:r]}),even:c(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:c(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:c(function(e,t,r){for(var i=r<0?r+t:r;--i>=0;)e.push(i);return e}),gt:c(function(e,t,r){for(var i=r<0?r+t:r;++i<t;)e.push(i);return e})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=function(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}(x);return u.prototype=w.filters=w.pseudos,w.setFilters=new u,S=t.tokenize=function(e,r){var i,n,o,a,s,c,l,u=H[e+" "];if(u)return r?0:u.slice(0);for(s=e,c=[],l=w.preFilter;s;){i&&!(n=ae.exec(s))||(n&&(s=s.slice(n[0].length)||s),c.push(o=[])),i=!1,(n=se.exec(s))&&(i=n.shift(),o.push({value:i,type:n[0].replace(oe," ")}),s=s.slice(i.length));for(a in w.filter)!(n=he[a].exec(s))||l[a]&&!(n=l[a](n))||(i=n.shift(),o.push({value:i,type:a,matches:n}),s=s.slice(i.length));if(!i)break}return r?s.length:s?t.error(e):H(e,c).slice(0)},C=t.compile=function(e,t){var r,i=[],n=[],o=G[e+" "];if(!o){for(t||(t=S(e)),r=t.length;r--;)o=g(t[r]),o[V]?i.push(o):n.push(o);o=G(e,y(n,i)),o.selector=e}return o},T=t.select=function(e,t,r,i){var n,o,a,s,c,u="function"==typeof e&&e,f=!i&&S(e=u.selector||e);if(r=r||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&F&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(ge,ye),t)||[])[0]))return r;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(n=he.needsContext.test(e)?0:o.length;n--&&(a=o[n],!w.relative[s=a.type]);)if((c=w.find[s])&&(i=c(a.matches[0].replace(ge,ye),ve.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(n,1),!(e=i.length&&h(o)))return K.apply(r,i),r;break}}return(u||C(e,f))(i,t,!F,r,!t||ve.test(e)&&l(t.parentNode)||t),r},b.sortStable=V.split("").sort(W).join("")===V,b.detectDuplicates=!!L,P(),b.sortDetached=n(function(e){return 1&e.compareDocumentPosition(D.createElement("fieldset"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||o(J,function(e,t,r){var i;if(!r)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(r);ye.find=Me,ye.expr=Me.selectors,ye.expr[":"]=ye.expr.pseudos,ye.uniqueSort=ye.unique=Me.uniqueSort,ye.text=Me.getText,ye.isXMLDoc=Me.isXML,ye.contains=Me.contains,ye.escapeSelector=Me.escape;var Se=function(e,t,r){for(var i=[],n=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&ye(e).is(r))break;i.push(e)}return i},Ce=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},Te=ye.expr.match.needsContext,Ae=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Ee=/^.[^:#\[\.,]*$/;ye.filter=function(e,t,r){var i=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ye.find.matchesSelector(i,e)?[i]:[]:ye.find.matches(e,ye.grep(t,function(e){return 1===e.nodeType}))},ye.fn.extend({find:function(e){var t,r,i=this.length,n=this;if("string"!=typeof e)return this.pushStack(ye(e).filter(function(){for(t=0;t<i;t++)if(ye.contains(n[t],this))return!0}));for(r=this.pushStack([]),t=0;t<i;t++)ye.find(e,n[t],r);return i>1?ye.uniqueSort(r):r},filter:function(e){return this.pushStack(l(this,e||[],!1))},not:function(e){return this.pushStack(l(this,e||[],!0))},is:function(e){return!!l(this,"string"==typeof e&&Te.test(e)?ye(e):e||[],!1).length}});var Le,Pe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ye.fn.init=function(e,t,r){var i,n;if(!e)return this;if(r=r||Le,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Pe.exec(e))||!i[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof ye?t[0]:t,ye.merge(this,ye.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ae,!0)),Ae.test(i[1])&&ye.isPlainObject(t))for(i in t)ye.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return n=ae.getElementById(i[2]),n&&(this[0]=n,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ye.isFunction(e)?void 0!==r.ready?r.ready(e):e(ye):ye.makeArray(e,this)}).prototype=ye.fn,Le=ye(ae);var De=/^(?:parents|prev(?:Until|All))/,Re={children:!0,contents:!0,next:!0,prev:!0};ye.fn.extend({has:function(e){var t=ye(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(ye.contains(this,t[e]))return!0})},closest:function(e,t){var r,i=0,n=this.length,o=[],a="string"!=typeof e&&ye(e);if(!Te.test(e))for(;i<n;i++)for(r=this[i];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&ye.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?ye.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?he.call(ye(e),this[0]):he.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ye.uniqueSort(ye.merge(this.get(),ye(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ye.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Se(e,"parentNode")},parentsUntil:function(e,t,r){return Se(e,"parentNode",r)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return Se(e,"nextSibling")},prevAll:function(e){return Se(e,"previousSibling")},nextUntil:function(e,t,r){return Se(e,"nextSibling",r)},prevUntil:function(e,t,r){return Se(e,"previousSibling",r)},siblings:function(e){return Ce((e.parentNode||{}).firstChild,e)},children:function(e){return Ce(e.firstChild)},contents:function(e){return c(e,"iframe")?e.contentDocument:(c(e,"template")&&(e=e.content||e),ye.merge([],e.childNodes))}},function(e,t){ye.fn[e]=function(r,i){var n=ye.map(this,t,r);return"Until"!==e.slice(-5)&&(i=r),i&&"string"==typeof i&&(n=ye.filter(i,n)),this.length>1&&(Re[e]||ye.uniqueSort(n),De.test(e)&&n.reverse()),this.pushStack(n)}});var Fe=/[^\x20\t\r\n\f]+/g;ye.Callbacks=function(e){e="string"==typeof e?h(e):ye.extend({},e);var t,r,i,n,o=[],a=[],s=-1,c=function(){for(n=n||e.once,i=t=!0;a.length;s=-1)for(r=a.shift();++s<o.length;)!1===o[s].apply(r[0],r[1])&&e.stopOnFalse&&(s=o.length,r=!1);e.memory||(r=!1),t=!1,n&&(o=r?[]:"")},l={add:function(){return o&&(r&&!t&&(s=o.length-1,a.push(r)),function t(r){ye.each(r,function(r,i){ye.isFunction(i)?e.unique&&l.has(i)||o.push(i):i&&i.length&&"string"!==ye.type(i)&&t(i)})}(arguments),r&&!t&&c()),this},remove:function(){return ye.each(arguments,function(e,t){for(var r;(r=ye.inArray(t,o,r))>-1;)o.splice(r,1),r<=s&&s--}),this},has:function(e){return e?ye.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return n=a=[],o=r="",this},disabled:function(){return!o},lock:function(){return n=a=[],r||t||(o=r=""),this},locked:function(){return!!n},fireWith:function(e,r){return n||(r=r||[],r=[e,r.slice?r.slice():r],a.push(r),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},ye.extend({Deferred:function(e){var t=[["notify","progress",ye.Callbacks("memory"),ye.Callbacks("memory"),2],["resolve","done",ye.Callbacks("once memory"),ye.Callbacks("once memory"),0,"resolved"],["reject","fail",ye.Callbacks("once memory"),ye.Callbacks("once memory"),1,"rejected"]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return ye.Deferred(function(r){ye.each(t,function(t,i){var n=ye.isFunction(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=n&&n.apply(this,arguments);e&&ye.isFunction(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[i[0]+"With"](this,n?[e]:arguments)})}),e=null}).promise()},then:function(e,i,n){function o(e,t,i,n){return function(){var s=this,c=arguments,l=function(){var r,l;if(!(e<a)){if((r=i.apply(s,c))===t.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"==typeof r||"function"==typeof r)&&r.then,ye.isFunction(l)?n?l.call(r,o(a,t,f,n),o(a,t,p,n)):(a++,l.call(r,o(a,t,f,n),o(a,t,p,n),o(a,t,f,t.notifyWith))):(i!==f&&(s=void 0,c=[r]),(n||t.resolveWith)(s,c))}},u=n?l:function(){try{l()}catch(r){ye.Deferred.exceptionHook&&ye.Deferred.exceptionHook(r,u.stackTrace),e+1>=a&&(i!==p&&(s=void 0,c=[r]),t.rejectWith(s,c))}};e?u():(ye.Deferred.getStackHook&&(u.stackTrace=ye.Deferred.getStackHook()),r.setTimeout(u))}}var a=0;return ye.Deferred(function(r){t[0][3].add(o(0,r,ye.isFunction(n)?n:f,r.notifyWith)),t[1][3].add(o(0,r,ye.isFunction(e)?e:f)),t[2][3].add(o(0,r,ye.isFunction(i)?i:p))}).promise()},promise:function(e){return null!=e?ye.extend(e,n):n}},o={};return ye.each(t,function(e,r){var a=r[2],s=r[5];n[r[1]]=a.add,s&&a.add(function(){i=s},t[3-e][2].disable,t[0][2].lock),a.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=a.fireWith}),n.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,r=t,i=Array(r),n=ce.call(arguments),o=ye.Deferred(),a=function(e){return function(r){i[e]=this,n[e]=arguments.length>1?ce.call(arguments):r,--t||o.resolveWith(i,n)}};if(t<=1&&(d(e,o.done(a(r)).resolve,o.reject,!t),"pending"===o.state()||ye.isFunction(n[r]&&n[r].then)))return o.then();for(;r--;)d(n[r],a(r),o.reject);return o.promise()}});var ke=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ye.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&ke.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ye.readyException=function(e){r.setTimeout(function(){throw e})};var Oe=ye.Deferred();ye.fn.ready=function(e){return Oe.then(e).catch(function(e){ye.readyException(e)}),this},ye.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ye.readyWait:ye.isReady)||(ye.isReady=!0,!0!==e&&--ye.readyWait>0||Oe.resolveWith(ae,[ye]))}}),ye.ready.then=Oe.then,"complete"===ae.readyState||"loading"!==ae.readyState&&!ae.documentElement.doScroll?r.setTimeout(ye.ready):(ae.addEventListener("DOMContentLoaded",m),r.addEventListener("load",m));var Ue=function(e,t,r,i,n,o,a){var s=0,c=e.length,l=null==r;if("object"===ye.type(r)){n=!0;for(s in r)Ue(e,t,s,r[s],!0,o,a)}else if(void 0!==i&&(n=!0,ye.isFunction(i)||(a=!0),l&&(a?(t.call(e,i),t=null):(l=t,t=function(e,t,r){return l.call(ye(e),r)})),t))for(;s<c;s++)t(e[s],r,a?i:i.call(e[s],s,t(e[s],r)));return n?e:l?t.call(e):c?t(e[0],r):o},Ne=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};v.uid=1,v.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ne(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var i,n=this.cache(e);if("string"==typeof t)n[ye.camelCase(t)]=r;else for(i in t)n[ye.camelCase(i)]=t[i];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ye.camelCase(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,i=e[this.expando];if(void 0!==i){if(void 0!==t){Array.isArray(t)?t=t.map(ye.camelCase):(t=ye.camelCase(t),t=t in i?[t]:t.match(Fe)||[]),r=t.length;for(;r--;)delete i[t[r]]}(void 0===t||ye.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ye.isEmptyObject(t)}};var Ve=new v,Be=new v,ze=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ie=/[A-Z]/g;ye.extend({hasData:function(e){return Be.hasData(e)||Ve.hasData(e)},data:function(e,t,r){return Be.access(e,t,r)},removeData:function(e,t){Be.remove(e,t)},_data:function(e,t,r){return Ve.access(e,t,r)},_removeData:function(e,t){Ve.remove(e,t)}}),ye.fn.extend({data:function(e,t){var r,i,n,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(n=Be.get(o),1===o.nodeType&&!Ve.get(o,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&(i=a[r].name,0===i.indexOf("data-")&&(i=ye.camelCase(i.slice(5)),y(o,i,n[i])));Ve.set(o,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each(function(){Be.set(this,e)}):Ue(this,function(t){var r;if(o&&void 0===t){if(void 0!==(r=Be.get(o,e)))return r;if(void 0!==(r=y(o,e)))return r}else this.each(function(){Be.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Be.remove(this,e)})}}),ye.extend({queue:function(e,t,r){var i;if(e)return t=(t||"fx")+"queue",i=Ve.get(e,t),r&&(!i||Array.isArray(r)?i=Ve.access(e,t,ye.makeArray(r)):i.push(r)),i||[]},dequeue:function(e,t){t=t||"fx";var r=ye.queue(e,t),i=r.length,n=r.shift(),o=ye._queueHooks(e,t),a=function(){ye.dequeue(e,t)};"inprogress"===n&&(n=r.shift(),i--),n&&("fx"===t&&r.unshift("inprogress"),delete o.stop,n.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return Ve.get(e,r)||Ve.access(e,r,{empty:ye.Callbacks("once memory").add(function(){Ve.remove(e,[t+"queue",r])})})}}),ye.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?ye.queue(this[0],e):void 0===t?this:this.each(function(){var r=ye.queue(this,e,t);ye._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&ye.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ye.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,i=1,n=ye.Deferred(),o=this,a=this.length,s=function(){--i||n.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=Ve.get(o[a],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(s));return s(),n.promise(t)}});var je=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,He=new RegExp("^(?:([+-])=|)("+je+")([a-z%]*)$","i"),Ge=["Top","Right","Bottom","Left"],We=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&ye.contains(e.ownerDocument,e)&&"none"===ye.css(e,"display")},Xe=function(e,t,r,i){var n,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];n=r.apply(e,i||[]);for(o in t)e.style[o]=a[o];return n},qe={};ye.fn.extend({show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){We(this)?ye(this).show():ye(this).hide()})}});var $e=/^(?:checkbox|radio)$/i,Ye=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ke=/^$|\/(?:java|ecma)script/i,Ze={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ze.optgroup=Ze.option,Ze.tbody=Ze.tfoot=Ze.colgroup=Ze.caption=Ze.thead,Ze.th=Ze.td;var Qe=/<|&#?\w+;/;!function(){var e=ae.createDocumentFragment(),t=e.appendChild(ae.createElement("div")),r=ae.createElement("input");r.setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),t.appendChild(r),ge.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ge.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Je=ae.documentElement,et=/^key/,tt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rt=/^([^.]*)(?:\.(.+)|)/;ye.event={global:{},add:function(e,t,r,i,n){var o,a,s,c,l,u,h,f,p,d,m,v=Ve.get(e);if(v)for(r.handler&&(o=r,r=o.handler,n=o.selector),n&&ye.find.matchesSelector(Je,n),r.guid||(r.guid=ye.guid++),(c=v.events)||(c=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==ye&&ye.event.triggered!==t.type?ye.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Fe)||[""],l=t.length;l--;)s=rt.exec(t[l])||[],p=m=s[1],d=(s[2]||"").split(".").sort(),p&&(h=ye.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,h=ye.event.special[p]||{},u=ye.extend({type:p,origType:m,data:i,handler:r,guid:r.guid,selector:n,needsContext:n&&ye.expr.match.needsContext.test(n),namespace:d.join(".")},o),(f=c[p])||(f=c[p]=[],f.delegateCount=0,h.setup&&!1!==h.setup.call(e,i,d,a)||e.addEventListener&&e.addEventListener(p,a)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=r.guid)),n?f.splice(f.delegateCount++,0,u):f.push(u),ye.event.global[p]=!0)},remove:function(e,t,r,i,n){var o,a,s,c,l,u,h,f,p,d,m,v=Ve.hasData(e)&&Ve.get(e);if(v&&(c=v.events)){for(t=(t||"").match(Fe)||[""],l=t.length;l--;)if(s=rt.exec(t[l])||[],p=m=s[1],d=(s[2]||"").split(".").sort(),p){for(h=ye.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)u=f[o],!n&&m!==u.origType||r&&r.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,h.remove&&h.remove.call(e,u));a&&!f.length&&(h.teardown&&!1!==h.teardown.call(e,d,v.handle)||ye.removeEvent(e,p,v.handle),delete c[p])}else for(p in c)ye.event.remove(e,p+t[l],r,i,!0);ye.isEmptyObject(c)&&Ve.remove(e,"handle events")}},dispatch:function(e){var t,r,i,n,o,a,s=ye.event.fix(e),c=new Array(arguments.length),l=(Ve.get(this,"events")||{})[s.type]||[],u=ye.event.special[s.type]||{};for(c[0]=s,t=1;t<arguments.length;t++)c[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=ye.event.handlers.call(this,s,l),t=0;(n=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=n.elem,r=0;(o=n.handlers[r++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((ye.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,c))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var r,i,n,o,a,s=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},r=0;r<c;r++)i=t[r],n=i.selector+" ",void 0===a[n]&&(a[n]=i.needsContext?ye(n,this).index(l)>-1:ye.find(n,this,null,[l]).length),a[n]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return l=this,c<t.length&&s.push({elem:l,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(ye.Event.prototype,e,{enumerable:!0,configurable:!0,get:ye.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ye.expando]?e:new ye.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==A()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===A()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&c(this,"input"))return this.click(),!1},_default:function(e){return c(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ye.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},ye.Event=function(e,t){if(!(this instanceof ye.Event))return new ye.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?C:T,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ye.extend(this,t),this.timeStamp=e&&e.timeStamp||ye.now(),this[ye.expando]=!0},ye.Event.prototype={constructor:ye.Event,isDefaultPrevented:T,isPropagationStopped:T,isImmediatePropagationStopped:T,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=C,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=C,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=C,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ye.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&et.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&tt.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ye.event.addProp),ye.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ye.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,i=this,n=e.relatedTarget,o=e.handleObj;return n&&(n===i||ye.contains(i,n))||(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}}),ye.fn.extend({on:function(e,t,r,i){return E(this,e,t,r,i)},one:function(e,t,r,i){return E(this,e,t,r,i,1)},off:function(e,t,r){var i,n;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ye(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=T),this.each(function(){ye.event.remove(this,e,r,t)})}});var it=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,nt=/<script|<style|<link/i,ot=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^true\/(.*)/,st=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ye.extend({htmlPrefilter:function(e){return e.replace(it,"<$1></$2>")},clone:function(e,t,r){var i,n,o,a,s=e.cloneNode(!0),c=ye.contains(e.ownerDocument,e);if(!(ge.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ye.isXMLDoc(e)))for(a=_(s),o=_(e),i=0,n=o.length;i<n;i++)F(o[i],a[i]);if(t)if(r)for(o=o||_(e),a=a||_(s),i=0,n=o.length;i<n;i++)R(o[i],a[i]);else R(e,s);return a=_(s,"script"),a.length>0&&M(a,!c&&_(e,"script")),s},cleanData:function(e){for(var t,r,i,n=ye.event.special,o=0;void 0!==(r=e[o]);o++)if(Ne(r)){if(t=r[Ve.expando]){if(t.events)for(i in t.events)n[i]?ye.event.remove(r,i):ye.removeEvent(r,i,t.handle);r[Ve.expando]=void 0}r[Be.expando]&&(r[Be.expando]=void 0)}}}),ye.fn.extend({detach:function(e){return O(this,e,!0)},remove:function(e){return O(this,e)},text:function(e){return Ue(this,function(e){return void 0===e?ye.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return k(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){L(this,e).appendChild(e)}})},prepend:function(){return k(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=L(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return k(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return k(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ye.cleanData(_(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ye.clone(this,e,t)})},html:function(e){return Ue(this,function(e){var t=this[0]||{},r=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!nt.test(e)&&!Ze[(Ye.exec(e)||["",""])[1].toLowerCase()]){e=ye.htmlPrefilter(e);try{for(;r<i;r++)t=this[r]||{},1===t.nodeType&&(ye.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return k(this,arguments,function(t){var r=this.parentNode;ye.inArray(this,e)<0&&(ye.cleanData(_(this)),r&&r.replaceChild(t,this))},e)}}),ye.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ye.fn[e]=function(e){for(var r,i=[],n=ye(e),o=n.length-1,a=0;a<=o;a++)r=a===o?this:this.clone(!0),ye(n[a])[t](r),ue.apply(i,r.get());return this.pushStack(i)}});var ct=/^margin/,lt=new RegExp("^("+je+")(?!px)[a-z%]+$","i"),ut=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)};!function(){function e(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Je.appendChild(a);var e=r.getComputedStyle(s);t="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,s.style.marginRight="50%",n="4px"===e.marginRight,Je.removeChild(a),s=null}}var t,i,n,o,a=ae.createElement("div"),s=ae.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ge.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),ye.extend(ge,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return e(),i},pixelMarginRight:function(){return e(),n},reliableMarginLeft:function(){return e(),o}}))}();var ht=/^(none|table(?!-c[ea]).+)/,ft=/^--/,pt={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},mt=["Webkit","Moz","ms"],vt=ae.createElement("div").style;ye.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=U(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,o,a,s=ye.camelCase(t),c=ft.test(t),l=e.style;if(c||(t=B(s)),a=ye.cssHooks[t]||ye.cssHooks[s],void 0===r)return a&&"get"in a&&void 0!==(n=a.get(e,!1,i))?n:l[t];o=typeof r,"string"===o&&(n=He.exec(r))&&n[1]&&(r=x(e,t,n),o="number"),null!=r&&r===r&&("number"===o&&(r+=n&&n[3]||(ye.cssNumber[s]?"":"px")),ge.clearCloneStyle||""!==r||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(r=a.set(e,r,i))||(c?l.setProperty(t,r):l[t]=r))}},css:function(e,t,r,i){var n,o,a,s=ye.camelCase(t);return ft.test(t)||(t=B(s)),a=ye.cssHooks[t]||ye.cssHooks[s],a&&"get"in a&&(n=a.get(e,!0,r)),void 0===n&&(n=U(e,t,i)),"normal"===n&&t in dt&&(n=dt[t]),""===r||r?(o=parseFloat(n),!0===r||isFinite(o)?o||0:n):n}}),ye.each(["height","width"],function(e,t){ye.cssHooks[t]={get:function(e,r,i){if(r)return!ht.test(ye.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?j(e,t,i):Xe(e,pt,function(){return j(e,t,i)})},set:function(e,r,i){var n,o=i&&ut(e),a=i&&I(e,t,i,"border-box"===ye.css(e,"boxSizing",!1,o),o);return a&&(n=He.exec(r))&&"px"!==(n[3]||"px")&&(e.style[t]=r,r=ye.css(e,t)),z(e,r,a)}}}),ye.cssHooks.marginLeft=N(ge.reliableMarginLeft,function(e,t){if(t)return(parseFloat(U(e,"marginLeft"))||e.getBoundingClientRect().left-Xe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ye.each({margin:"",padding:"",border:"Width"},function(e,t){ye.cssHooks[e+t]={expand:function(r){for(var i=0,n={},o="string"==typeof r?r.split(" "):[r];i<4;i++)n[e+Ge[i]+t]=o[i]||o[i-2]||o[0];return n}},ct.test(e)||(ye.cssHooks[e+t].set=z)}),ye.fn.extend({css:function(e,t){return Ue(this,function(e,t,r){var i,n,o={},a=0;if(Array.isArray(t)){for(i=ut(e),n=t.length;a<n;a++)o[t[a]]=ye.css(e,t[a],!1,i);return o}return void 0!==r?ye.style(e,t,r):ye.css(e,t)},e,t,arguments.length>1)}}),ye.Tween=H,H.prototype={constructor:H,init:function(e,t,r,i,n,o){this.elem=e,this.prop=r,this.easing=n||ye.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ye.cssNumber[r]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,r=H.propHooks[this.prop];return this.options.duration?this.pos=t=ye.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ye.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ye.fx.step[e.prop]?ye.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ye.cssProps[e.prop]]&&!ye.cssHooks[e.prop]?e.elem[e.prop]=e.now:ye.style(e.elem,e.prop,e.now+e.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ye.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ye.fx=H.prototype.init,ye.fx.step={};var gt,yt,xt=/^(?:toggle|show|hide)$/,bt=/queueHooks$/;ye.Animation=ye.extend(K,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return x(r.elem,e,He.exec(t),r),r}]},tweener:function(e,t){ye.isFunction(e)?(t=e,e=["*"]):e=e.match(Fe);for(var r,i=0,n=e.length;i<n;i++)r=e[i],K.tweeners[r]=K.tweeners[r]||[],K.tweeners[r].unshift(t)},prefilters:[$],prefilter:function(e,t){t?K.prefilters.unshift(e):K.prefilters.push(e)}}),ye.speed=function(e,t,r){var i=e&&"object"==typeof e?ye.extend({},e):{complete:r||!r&&t||ye.isFunction(e)&&e,duration:e,easing:r&&t||t&&!ye.isFunction(t)&&t};return ye.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in ye.fx.speeds?i.duration=ye.fx.speeds[i.duration]:i.duration=ye.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ye.isFunction(i.old)&&i.old.call(this),i.queue&&ye.dequeue(this,i.queue)},i},ye.fn.extend({fadeTo:function(e,t,r,i){return this.filter(We).css("opacity",0).show().end().animate({opacity:t},e,r,i)},animate:function(e,t,r,i){var n=ye.isEmptyObject(e),o=ye.speed(t,r,i),a=function(){var t=K(this,ye.extend({},e),o);(n||Ve.get(this,"finish"))&&t.stop(!0)};return a.finish=a,n||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=ye.timers,a=Ve.get(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&bt.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));!t&&r||ye.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,r=Ve.get(this),i=r[e+"queue"],n=r[e+"queueHooks"],o=ye.timers,a=i?i.length:0;for(r.finish=!0,ye.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete r.finish})}}),ye.each(["toggle","show","hide"],function(e,t){var r=ye.fn[t];ye.fn[t]=function(e,i,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(X(t,!0),e,i,n)}}),ye.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ye.fn[e]=function(e,r,i){return this.animate(t,e,r,i)}}),ye.timers=[],ye.fx.tick=function(){var e,t=0,r=ye.timers;for(gt=ye.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||ye.fx.stop(),gt=void 0},ye.fx.timer=function(e){ye.timers.push(e),ye.fx.start()},ye.fx.interval=13,ye.fx.start=function(){yt||(yt=!0,G())},ye.fx.stop=function(){yt=null},ye.fx.speeds={slow:600,fast:200,_default:400},ye.fn.delay=function(e,t){return e=ye.fx?ye.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=r.setTimeout(t,e);i.stop=function(){r.clearTimeout(n)}})},function(){var e=ae.createElement("input"),t=ae.createElement("select"),r=t.appendChild(ae.createElement("option"));e.type="checkbox",ge.checkOn=""!==e.value,ge.optSelected=r.selected,e=ae.createElement("input"),e.value="t",e.type="radio",ge.radioValue="t"===e.value}();var wt,_t=ye.expr.attrHandle;ye.fn.extend({attr:function(e,t){return Ue(this,ye.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ye.removeAttr(this,e)})}}),ye.extend({attr:function(e,t,r){var i,n,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?ye.prop(e,t,r):(1===o&&ye.isXMLDoc(e)||(n=ye.attrHooks[t.toLowerCase()]||(ye.expr.match.bool.test(t)?wt:void 0)),void 0!==r?null===r?void ye.removeAttr(e,t):n&&"set"in n&&void 0!==(i=n.set(e,r,t))?i:(e.setAttribute(t,r+""),r):n&&"get"in n&&null!==(i=n.get(e,t))?i:(i=ye.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!ge.radioValue&&"radio"===t&&c(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,i=0,n=t&&t.match(Fe);if(n&&1===e.nodeType)for(;r=n[i++];)e.removeAttribute(r)}}),wt={set:function(e,t,r){return!1===t?ye.removeAttr(e,r):e.setAttribute(r,r),r}},ye.each(ye.expr.match.bool.source.match(/\w+/g),function(e,t){var r=_t[t]||ye.find.attr;_t[t]=function(e,t,i){var n,o,a=t.toLowerCase();return i||(o=_t[a],_t[a]=n,n=null!=r(e,t,i)?a:null,_t[a]=o),n}});var Mt=/^(?:input|select|textarea|button)$/i,St=/^(?:a|area)$/i;ye.fn.extend({prop:function(e,t){return Ue(this,ye.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ye.propFix[e]||e]})}}),ye.extend({prop:function(e,t,r){var i,n,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ye.isXMLDoc(e)||(t=ye.propFix[t]||t,n=ye.propHooks[t]),void 0!==r?n&&"set"in n&&void 0!==(i=n.set(e,r,t))?i:e[t]=r:n&&"get"in n&&null!==(i=n.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ye.find.attr(e,"tabindex");return t?parseInt(t,10):Mt.test(e.nodeName)||St.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ge.optSelected||(ye.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ye.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ye.propFix[this.toLowerCase()]=this}),ye.fn.extend({addClass:function(e){var t,r,i,n,o,a,s,c=0;if(ye.isFunction(e))return this.each(function(t){ye(this).addClass(e.call(this,t,Q(this)))});if("string"==typeof e&&e)for(t=e.match(Fe)||[];r=this[c++];)if(n=Q(r),i=1===r.nodeType&&" "+Z(n)+" "){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=Z(i),n!==s&&r.setAttribute("class",s)}return this},removeClass:function(e){var t,r,i,n,o,a,s,c=0;if(ye.isFunction(e))return this.each(function(t){ye(this).removeClass(e.call(this,t,Q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Fe)||[];r=this[c++];)if(n=Q(r),i=1===r.nodeType&&" "+Z(n)+" "){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=Z(i),n!==s&&r.setAttribute("class",s)}return this},toggleClass:function(e,t){var r=typeof e;return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):ye.isFunction(e)?this.each(function(r){ye(this).toggleClass(e.call(this,r,Q(this),t),t)}):this.each(function(){var t,i,n,o;if("string"===r)for(i=0,n=ye(this),o=e.match(Fe)||[];t=o[i++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==e&&"boolean"!==r||(t=Q(this),t&&Ve.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ve.get(this,"__className__")||""))})},hasClass:function(e){var t,r,i=0;for(t=" "+e+" ";r=this[i++];)if(1===r.nodeType&&(" "+Z(Q(r))+" ").indexOf(t)>-1)return!0;return!1}});var Ct=/\r/g;ye.fn.extend({val:function(e){var t,r,i,n=this[0];{if(arguments.length)return i=ye.isFunction(e),this.each(function(r){var n;1===this.nodeType&&(n=i?e.call(this,r,ye(this).val()):e,null==n?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=ye.map(n,function(e){return null==e?"":e+""})),(t=ye.valHooks[this.type]||ye.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))});if(n)return(t=ye.valHooks[n.type]||ye.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(n,"value"))?r:(r=n.value,"string"==typeof r?r.replace(Ct,""):null==r?"":r)}}}),ye.extend({valHooks:{option:{get:function(e){var t=ye.find.attr(e,"value");return null!=t?t:Z(ye.text(e))}},select:{get:function(e){var t,r,i,n=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:n.length;for(i=o<0?l:a?o:0;i<l;i++)if(r=n[i],(r.selected||i===o)&&!r.disabled&&(!r.parentNode.disabled||!c(r.parentNode,"optgroup"))){if(t=ye(r).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var r,i,n=e.options,o=ye.makeArray(t),a=n.length;a--;)i=n[a],(i.selected=ye.inArray(ye.valHooks.option.get(i),o)>-1)&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),ye.each(["radio","checkbox"],function(){ye.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=ye.inArray(ye(e).val(),t)>-1}},ge.checkOn||(ye.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Tt=/^(?:focusinfocus|focusoutblur)$/;ye.extend(ye.event,{trigger:function(e,t,i,n){var o,a,s,c,l,u,h,f=[i||ae],p=de.call(e,"type")?e.type:e,d=de.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||ae,3!==i.nodeType&&8!==i.nodeType&&!Tt.test(p+ye.event.triggered)&&(p.indexOf(".")>-1&&(d=p.split("."),p=d.shift(),d.sort()),l=p.indexOf(":")<0&&"on"+p,e=e[ye.expando]?e:new ye.Event(p,"object"==typeof e&&e),e.isTrigger=n?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:ye.makeArray(t,[e]),h=ye.event.special[p]||{},n||!h.trigger||!1!==h.trigger.apply(i,t))){if(!n&&!h.noBubble&&!ye.isWindow(i)){for(c=h.delegateType||p,Tt.test(c+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(i.ownerDocument||ae)&&f.push(s.defaultView||s.parentWindow||r)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)e.type=o>1?c:h.bindType||p,u=(Ve.get(a,"events")||{})[e.type]&&Ve.get(a,"handle"),u&&u.apply(a,t),(u=l&&a[l])&&u.apply&&Ne(a)&&(e.result=u.apply(a,t),!1===e.result&&e.preventDefault());return e.type=p,n||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),t)||!Ne(i)||l&&ye.isFunction(i[p])&&!ye.isWindow(i)&&(s=i[l],s&&(i[l]=null),ye.event.triggered=p,i[p](),ye.event.triggered=void 0,s&&(i[l]=s)),e.result}},simulate:function(e,t,r){var i=ye.extend(new ye.Event,r,{type:e,isSimulated:!0});ye.event.trigger(i,null,t)}}),ye.fn.extend({trigger:function(e,t){return this.each(function(){ye.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return ye.event.trigger(e,t,r,!0)}}),ye.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){ye.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}),ye.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ge.focusin="onfocusin"in r,ge.focusin||ye.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){ye.event.simulate(t,e.target,ye.event.fix(e))};ye.event.special[t]={setup:function(){var i=this.ownerDocument||this,n=Ve.access(i,t);n||i.addEventListener(e,r,!0),Ve.access(i,t,(n||0)+1)},teardown:function(){var i=this.ownerDocument||this,n=Ve.access(i,t)-1;n?Ve.access(i,t,n):(i.removeEventListener(e,r,!0),Ve.remove(i,t))}}});var At=r.location,Et=ye.now(),Lt=/\?/;ye.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||ye.error("Invalid XML: "+e),t};var Pt=/\[\]$/,Dt=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,Ft=/^(?:input|select|textarea|keygen)/i;ye.param=function(e,t){var r,i=[],n=function(e,t){var r=ye.isFunction(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(Array.isArray(e)||e.jquery&&!ye.isPlainObject(e))ye.each(e,function(){n(this.name,this.value)});else for(r in e)J(r,e[r],t,n);return i.join("&")},ye.fn.extend({serialize:function(){return ye.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ye.prop(this,"elements");return e?ye.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ye(this).is(":disabled")&&Ft.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!$e.test(e))}).map(function(e,t){var r=ye(this).val();return null==r?null:Array.isArray(r)?ye.map(r,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:r.replace(Dt,"\r\n")}}).get()}});var kt=/%20/g,Ot=/#.*$/,Ut=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Vt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bt=/^(?:GET|HEAD)$/,zt=/^\/\//,It={},jt={},Ht="*/".concat("*"),Gt=ae.createElement("a");Gt.href=At.href,ye.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:Vt.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ye.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?re(re(e,ye.ajaxSettings),t):re(ye.ajaxSettings,e)},ajaxPrefilter:ee(It),ajaxTransport:ee(jt),ajax:function(e,t){function i(e,t,i,s){var l,f,p,b,w,_=t;u||(u=!0,c&&r.clearTimeout(c),n=void 0,a=s||"",M.readyState=e>0?4:0,l=e>=200&&e<300||304===e,i&&(b=ie(d,M,i)),b=ne(d,b,M,l),l?(d.ifModified&&(w=M.getResponseHeader("Last-Modified"),w&&(ye.lastModified[o]=w),(w=M.getResponseHeader("etag"))&&(ye.etag[o]=w)),204===e||"HEAD"===d.type?_="nocontent":304===e?_="notmodified":(_=b.state,f=b.data,p=b.error,l=!p)):(p=_,!e&&_||(_="error",e<0&&(e=0))),M.status=e,M.statusText=(t||_)+"",l?g.resolveWith(m,[f,_,M]):g.rejectWith(m,[M,_,p]),M.statusCode(x),x=void 0,h&&v.trigger(l?"ajaxSuccess":"ajaxError",[M,d,l?f:p]),y.fireWith(m,[M,_]),h&&(v.trigger("ajaxComplete",[M,d]),--ye.active||ye.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,a,s,c,l,u,h,f,p,d=ye.ajaxSetup({},t),m=d.context||d,v=d.context&&(m.nodeType||m.jquery)?ye(m):ye.event,g=ye.Deferred(),y=ye.Callbacks("once memory"),x=d.statusCode||{},b={},w={},_="canceled",M={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=Nt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(e,t){return null==u&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==u&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)M.always(e[M.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||_;return n&&n.abort(t),i(0,t),this}};if(g.promise(M),d.url=((e||d.url||At.href)+"").replace(zt,At.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(Fe)||[""],null==d.crossDomain){l=ae.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Gt.protocol+"//"+Gt.host!=l.protocol+"//"+l.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ye.param(d.data,d.traditional)),te(It,d,t,M),u)return M;h=ye.event&&d.global,h&&0==ye.active++&&ye.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Bt.test(d.type),o=d.url.replace(Ot,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(kt,"+")):(p=d.url.slice(o.length),d.data&&(o+=(Lt.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(o=o.replace(Ut,"$1"),p=(Lt.test(o)?"&":"?")+"_="+Et+++p),d.url=o+p),d.ifModified&&(ye.lastModified[o]&&M.setRequestHeader("If-Modified-Since",ye.lastModified[o]),ye.etag[o]&&M.setRequestHeader("If-None-Match",ye.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&M.setRequestHeader("Content-Type",d.contentType),M.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ht+"; q=0.01":""):d.accepts["*"]);for(f in d.headers)M.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(m,M,d)||u))return M.abort();if(_="abort",y.add(d.complete),M.done(d.success),M.fail(d.error),n=te(jt,d,t,M)){if(M.readyState=1,h&&v.trigger("ajaxSend",[M,d]),u)return M;d.async&&d.timeout>0&&(c=r.setTimeout(function(){M.abort("timeout")},d.timeout));try{u=!1,n.send(b,i)}catch(e){if(u)throw e;i(-1,e)}}else i(-1,"No Transport");return M},getJSON:function(e,t,r){return ye.get(e,t,r,"json")},getScript:function(e,t){return ye.get(e,void 0,t,"script")}}),ye.each(["get","post"],function(e,t){ye[t]=function(e,r,i,n){return ye.isFunction(r)&&(n=n||i,i=r,r=void 0),ye.ajax(ye.extend({url:e,type:t,dataType:n,data:r,success:i},ye.isPlainObject(e)&&e))}}),ye._evalUrl=function(e){return ye.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ye.fn.extend({wrapAll:function(e){var t;return this[0]&&(ye.isFunction(e)&&(e=e.call(this[0])),t=ye(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ye.isFunction(e)?this.each(function(t){ye(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ye(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=ye.isFunction(e);return this.each(function(r){ye(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ye(this).replaceWith(this.childNodes)}),this}}),ye.expr.pseudos.hidden=function(e){return!ye.expr.pseudos.visible(e)},ye.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ye.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Wt={0:200,1223:204},Xt=ye.ajaxSettings.xhr();ge.cors=!!Xt&&"withCredentials"in Xt,ge.ajax=Xt=!!Xt,ye.ajaxTransport(function(e){var t,i;if(ge.cors||Xt&&!e.crossDomain)return{send:function(n,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(a in n)s.setRequestHeader(a,n[a]);t=function(e){return function(){t&&(t=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Wt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),i=s.onerror=t("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout(function(){t&&i()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),ye.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ye.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ye.globalEval(e),e}}}),ye.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ye.ajaxTransport("script",function(e){if(e.crossDomain){var t,r;return{send:function(i,n){t=ye("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&n("error"===e.type?404:200,e.type)}),ae.head.appendChild(t[0])},abort:function(){r&&r()}}}});var qt=[],$t=/(=)\?(?=&|$)|\?\?/;ye.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=qt.pop()||ye.expando+"_"+Et++;return this[e]=!0,e}}),ye.ajaxPrefilter("json jsonp",function(e,t,i){var n,o,a,s=!1!==e.jsonp&&($t.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$t.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=ye.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace($t,"$1"+n):!1!==e.jsonp&&(e.url+=(Lt.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return a||ye.error(n+" was not called"),a[0]},e.dataTypes[0]="json",o=r[n],r[n]=function(){a=arguments},i.always(function(){void 0===o?ye(r).removeProp(n):r[n]=o,e[n]&&(e.jsonpCallback=t.jsonpCallback,qt.push(n)),a&&ye.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ge.createHTMLDocument=function(){var e=ae.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ye.parseHTML=function(e,t,r){if("string"!=typeof e)return[];"boolean"==typeof t&&(r=t,t=!1);var i,n,o;return t||(ge.createHTMLDocument?(t=ae.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=ae.location.href,t.head.appendChild(i)):t=ae),n=Ae.exec(e),o=!r&&[],n?[t.createElement(n[1])]:(n=S([e],t,o),o&&o.length&&ye(o).remove(),ye.merge([],n.childNodes))},ye.fn.load=function(e,t,r){var i,n,o,a=this,s=e.indexOf(" ");return s>-1&&(i=Z(e.slice(s)),e=e.slice(0,s)),ye.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(n="POST"),a.length>0&&ye.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?ye("<div>").append(ye.parseHTML(e)).find(i):e)}).always(r&&function(e,t){a.each(function(){r.apply(this,o||[e.responseText,t,e])})}),this},ye.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ye.fn[t]=function(e){return this.on(t,e)}}),ye.expr.pseudos.animated=function(e){return ye.grep(ye.timers,function(t){return e===t.elem}).length},ye.offset={setOffset:function(e,t,r){var i,n,o,a,s,c,l,u=ye.css(e,"position"),h=ye(e),f={};"static"===u&&(e.style.position="relative"),s=h.offset(),o=ye.css(e,"top"),c=ye.css(e,"left"),l=("absolute"===u||"fixed"===u)&&(o+c).indexOf("auto")>-1,l?(i=h.position(),a=i.top,n=i.left):(a=parseFloat(o)||0,n=parseFloat(c)||0),ye.isFunction(t)&&(t=t.call(e,r,ye.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+n),"using"in t?t.using.call(e,f):h.css(f)}},ye.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ye.offset.setOffset(this,e,t)});var t,r,i,n,o=this[0];if(o)return o.getClientRects().length?(i=o.getBoundingClientRect(),t=o.ownerDocument,r=t.documentElement,n=t.defaultView,{top:i.top+n.pageYOffset-r.clientTop,left:i.left+n.pageXOffset-r.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var e,t,r=this[0],i={top:0,left:0};return"fixed"===ye.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),c(e[0],"html")||(i=e.offset()),i={top:i.top+ye.css(e[0],"borderTopWidth",!0),left:i.left+ye.css(e[0],"borderLeftWidth",!0)}),{top:t.top-i.top-ye.css(r,"marginTop",!0),left:t.left-i.left-ye.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ye.css(e,"position");)e=e.offsetParent;return e||Je})}}),ye.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;ye.fn[e]=function(i){return Ue(this,function(e,i,n){var o;if(ye.isWindow(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===n)return o?o[t]:e[i];o?o.scrollTo(r?o.pageXOffset:n,r?n:o.pageYOffset):e[i]=n},e,i,arguments.length)}}),ye.each(["top","left"],function(e,t){ye.cssHooks[t]=N(ge.pixelPosition,function(e,r){if(r)return r=U(e,t),lt.test(r)?ye(e).position()[t]+"px":r})}),ye.each({Height:"height",Width:"width"},function(e,t){ye.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,i){ye.fn[i]=function(n,o){var a=arguments.length&&(r||"boolean"!=typeof n),s=r||(!0===n||!0===o?"margin":"border");return Ue(this,function(t,r,n){var o;return ye.isWindow(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===n?ye.css(t,r,s):ye.style(t,r,n,s)},t,a?n:void 0,a)}})}),ye.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,i){return this.on(t,e,r,i)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}}),ye.holdReady=function(e){e?ye.readyWait++:ye.ready(!0)},ye.isArray=Array.isArray,ye.parseJSON=JSON.parse,ye.nodeName=c,i=[],void 0!==(n=function(){return ye}.apply(t,i))&&(e.exports=n);var Yt=r.jQuery,Kt=r.$;return ye.noConflict=function(e){return r.$===ye&&(r.$=Kt),e&&r.jQuery===ye&&(r.jQuery=Yt),ye},o||(r.jQuery=r.$=ye),ye})},101:function(e,t,r){"use strict";function i(e,t){}function n(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function o(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0}}function a(e,t,r){void 0===t&&(t={});var i,n=r||s;try{i=n(e||"")}catch(e){i={}}for(var o in t){var a=t[o];i[o]=Array.isArray(a)?a.slice():a}return i}function s(e){var t={};return(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var r=e.replace(/\+/g," ").split("="),i=Oe(r.shift()),n=r.length>0?Oe(r.join("=")):null;void 0===t[i]?t[i]=n:Array.isArray(t[i])?t[i].push(n):t[i]=[t[i],n]}),t):t}function c(e){var t=e?Object.keys(e).map(function(t){var r=e[t];if(void 0===r)return"";if(null===r)return ke(t);if(Array.isArray(r)){var i=[];return r.forEach(function(e){void 0!==e&&(null===e?i.push(ke(t)):i.push(ke(t)+"="+ke(e)))}),i.join("&")}return ke(t)+"="+ke(r)}).filter(function(e){return e.length>0}).join("&"):null;return t?"?"+t:""}function l(e,t,r,i){var n=i&&i.options.stringifyQuery,o={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:t.query||{},params:t.params||{},fullPath:h(t,n),matched:e?u(e):[]};return r&&(o.redirectedFrom=h(r,n)),Object.freeze(o)}function u(e){for(var t=[];e;)t.unshift(e),e=e.parent;return t}function h(e,t){var r=e.path,i=e.query;void 0===i&&(i={});var n=e.hash;void 0===n&&(n="");var o=t||c;return(r||"/")+o(i)+n}function f(e,t){return t===Ne?e===t:!!t&&(e.path&&t.path?e.path.replace(Ue,"")===t.path.replace(Ue,"")&&e.hash===t.hash&&p(e.query,t.query):!(!e.name||!t.name)&&(e.name===t.name&&e.hash===t.hash&&p(e.query,t.query)&&p(e.params,t.params)))}function p(e,t){void 0===e&&(e={}),void 0===t&&(t={});var r=Object.keys(e),i=Object.keys(t);return r.length===i.length&&r.every(function(r){var i=e[r],n=t[r];return"object"==typeof i&&"object"==typeof n?p(i,n):String(i)===String(n)})}function d(e,t){return 0===e.path.replace(Ue,"/").indexOf(t.path.replace(Ue,"/"))&&(!t.hash||e.hash===t.hash)&&m(e.query,t.query)}function m(e,t){for(var r in t)if(!(r in e))return!1;return!0}function v(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){if(/\b_blank\b/i.test(e.currentTarget.getAttribute("target")))return}return e.preventDefault&&e.preventDefault(),!0}}function g(e){if(e)for(var t,r=0;r<e.length;r++){if(t=e[r],"a"===t.tag)return t;if(t.children&&(t=g(t.children)))return t}}function y(e){if(!y.installed){y.installed=!0,Le=e;var t=function(e){return void 0!==e},r=function(e,r){var i=e.$options._parentVnode;t(i)&&t(i=i.data)&&t(i=i.registerRouteInstance)&&i(e,r)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("router-view",Pe),e.component("router-link",ze);var i=e.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}}function x(e,t,r){var i=e.charAt(0);if("/"===i)return e;if("?"===i||"#"===i)return t+e;var n=t.split("/");r&&n[n.length-1]||n.pop();for(var o=e.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?n.pop():"."!==s&&n.push(s)}return""!==n[0]&&n.unshift(""),n.join("/")}function b(e){var t="",r="",i=e.indexOf("#");i>=0&&(t=e.slice(i),e=e.slice(0,i));var n=e.indexOf("?");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{path:e,query:r,hash:t}}function w(e){return e.replace(/\/\//g,"/")}function _(e,t){for(var r,i=[],n=0,o=0,a="",s=t&&t.delimiter||"/";null!=(r=$e.exec(e));){var c=r[0],l=r[1],u=r.index;if(a+=e.slice(o,u),o=u+c.length,l)a+=l[1];else{var h=e[o],f=r[2],p=r[3],d=r[4],m=r[5],v=r[6],g=r[7];a&&(i.push(a),a="");var y=null!=f&&null!=h&&h!==f,x="+"===v||"*"===v,b="?"===v||"*"===v,w=r[2]||s,_=d||m;i.push({name:p||n++,prefix:f||"",delimiter:w,optional:b,repeat:x,partial:y,asterisk:!!g,pattern:_?E(_):g?".*":"[^"+A(w)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&i.push(a),i}function M(e,t){return T(_(e,t))}function S(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function C(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function T(e){for(var t=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$"));return function(r,i){for(var n="",o=r||{},a=i||{},s=a.pretty?S:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var u,h=o[l.name];if(null==h){if(l.optional){l.partial&&(n+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(je(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(u=s(h[f]),!t[c].test(u))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(u)+"`");n+=(0===f?l.prefix:l.delimiter)+u}}else{if(u=l.asterisk?C(h):s(h),!t[c].test(u))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+u+'"');n+=l.prefix+u}}else n+=l}return n}}function A(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function E(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function L(e,t){return e.keys=t,e}function P(e){return e.sensitive?"":"i"}function D(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var i=0;i<r.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return L(e,t)}function R(e,t,r){for(var i=[],n=0;n<e.length;n++)i.push(O(e[n],t,r).source);return L(new RegExp("(?:"+i.join("|")+")",P(r)),t)}function F(e,t,r){return k(_(e,r),t,r)}function k(e,t,r){je(t)||(r=t||r,t=[]),r=r||{};for(var i=r.strict,n=!1!==r.end,o="",a=0;a<e.length;a++){var s=e[a];if("string"==typeof s)o+=A(s);else{var c=A(s.prefix),l="(?:"+s.pattern+")";t.push(s),s.repeat&&(l+="(?:"+c+l+")*"),l=s.optional?s.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")",o+=l}}var u=A(r.delimiter||"/"),h=o.slice(-u.length)===u;return i||(o=(h?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=n?"$":i&&h?"":"(?="+u+"|$)",L(new RegExp("^"+o,P(r)),t)}function O(e,t,r){return je(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?D(e,t):je(e)?R(e,t,r):F(e,t,r)}function U(e,t,r){try{return(Ye[e]||(Ye[e]=He.compile(e)))(t||{},{pretty:!0})}catch(e){return""}}function N(e,t,r,i){var n=t||[],o=r||Object.create(null),a=i||Object.create(null);e.forEach(function(e){V(n,o,a,e)});for(var s=0,c=n.length;s<c;s++)"*"===n[s]&&(n.push(n.splice(s,1)[0]),c--,s--);return{pathList:n,pathMap:o,nameMap:a}}function V(e,t,r,i,n,o){var a=i.path,s=i.name,c=z(a,n),l=i.pathToRegexpOptions||{};"boolean"==typeof i.caseSensitive&&(l.sensitive=i.caseSensitive);var u={path:c,regex:B(c,l),components:i.components||{default:i.component},instances:{},name:s,parent:n,matchAs:o,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};if(i.children&&i.children.forEach(function(i){var n=o?w(o+"/"+i.path):void 0;V(e,t,r,i,u,n)}),void 0!==i.alias){(Array.isArray(i.alias)?i.alias:[i.alias]).forEach(function(o){var a={path:o,children:i.children};V(e,t,r,a,n,u.path||"/")})}t[u.path]||(e.push(u.path),t[u.path]=u),s&&(r[s]||(r[s]=u))}function B(e,t){var r=He(e,[],t);return r}function z(e,t){return e=e.replace(/\/$/,""),"/"===e[0]?e:null==t?e:w(t.path+"/"+e)}function I(e,t,r,i){var n="string"==typeof e?{path:e}:e;if(n.name||n._normalized)return n;if(!n.path&&n.params&&t){n=j({},n),n._normalized=!0;var o=j(j({},t.params),n.params);if(t.name)n.name=t.name,n.params=o;else if(t.matched.length){var s=t.matched[t.matched.length-1].path;n.path=U(s,o,"path "+t.path)}return n}var c=b(n.path||""),l=t&&t.path||"/",u=c.path?x(c.path,l,r||n.append):l,h=a(c.query,n.query,i&&i.options.parseQuery),f=n.hash||c.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:u,query:h,hash:f}}function j(e,t){for(var r in t)e[r]=t[r];return e}function H(e,t){function r(e){N(e,c,u,h)}function i(e,r,i){var n=I(e,r,!1,t),o=n.name;if(o){var s=h[o];if(!s)return a(null,n);var l=s.regex.keys.filter(function(e){return!e.optional}).map(function(e){return e.name});if("object"!=typeof n.params&&(n.params={}),r&&"object"==typeof r.params)for(var f in r.params)!(f in n.params)&&l.indexOf(f)>-1&&(n.params[f]=r.params[f]);if(s)return n.path=U(s.path,n.params,'named route "'+o+'"'),a(s,n,i)}else if(n.path){n.params={};for(var p=0;p<c.length;p++){var d=c[p],m=u[d];if(G(m.regex,n.path,n.params))return a(m,n,i)}}return a(null,n)}function n(e,r){var n=e.redirect,o="function"==typeof n?n(l(e,r,null,t)):n;if("string"==typeof o&&(o={path:o}),!o||"object"!=typeof o)return a(null,r);var s=o,c=s.name,u=s.path,f=r.query,p=r.hash,d=r.params;if(f=s.hasOwnProperty("query")?s.query:f,p=s.hasOwnProperty("hash")?s.hash:p,d=s.hasOwnProperty("params")?s.params:d,c){h[c];return i({_normalized:!0,name:c,query:f,hash:p,params:d},void 0,r)}if(u){var m=W(u,e);return i({_normalized:!0,path:U(m,d,'redirect route with path "'+m+'"'),query:f,hash:p},void 0,r)}return a(null,r)}function o(e,t,r){var n=U(r,t.params,'aliased route with path "'+r+'"'),o=i({_normalized:!0,path:n});if(o){var s=o.matched,c=s[s.length-1];return t.params=o.params,a(c,t)}return a(null,t)}function a(e,r,i){return e&&e.redirect?n(e,i||r):e&&e.matchAs?o(e,r,e.matchAs):l(e,r,i,t)}var s=N(e),c=s.pathList,u=s.pathMap,h=s.nameMap;return{match:i,addRoutes:r}}function G(e,t,r){var i=t.match(e);if(!i)return!1;if(!r)return!0;for(var n=1,o=i.length;n<o;++n){var a=e.keys[n-1],s="string"==typeof i[n]?decodeURIComponent(i[n]):i[n];a&&(r[a.name]=s)}return!0}function W(e,t){return x(e,t.parent?t.parent.path:"/",!0)}function X(){window.addEventListener("popstate",function(e){$(),e.state&&e.state.key&&ie(e.state.key)})}function q(e,t,r,i){if(e.app){var n=e.options.scrollBehavior;n&&e.app.$nextTick(function(){var e=Y(),o=n(t,r,i?e:null);if(o){var a="object"==typeof o;if(a&&"string"==typeof o.selector){var s=document.querySelector(o.selector);if(s){var c=o.offset&&"object"==typeof o.offset?o.offset:{};c=J(c),e=K(s,c)}else Z(o)&&(e=Q(o))}else a&&Z(o)&&(e=Q(o));e&&window.scrollTo(e.x,e.y)}})}}function $(){var e=re();e&&(Ke[e]={x:window.pageXOffset,y:window.pageYOffset})}function Y(){var e=re();if(e)return Ke[e]}function K(e,t){var r=document.documentElement,i=r.getBoundingClientRect(),n=e.getBoundingClientRect();return{x:n.left-i.left-t.x,y:n.top-i.top-t.y}}function Z(e){return ee(e.x)||ee(e.y)}function Q(e){return{x:ee(e.x)?e.x:window.pageXOffset,y:ee(e.y)?e.y:window.pageYOffset}}function J(e){return{x:ee(e.x)?e.x:0,y:ee(e.y)?e.y:0}}function ee(e){return"number"==typeof e}function te(){return Qe.now().toFixed(3)}function re(){return Je}function ie(e){Je=e}function ne(e,t){$();var r=window.history;try{t?r.replaceState({key:Je},"",e):(Je=te(),r.pushState({key:Je},"",e))}catch(r){window.location[t?"replace":"assign"](e)}}function oe(e){ne(e,!0)}function ae(e,t,r){var i=function(n){n>=e.length?r():e[n]?t(e[n],function(){i(n+1)}):i(n+1)};i(0)}function se(e){return function(t,r,i){var o=!1,a=0,s=null;ce(e,function(e,t,r,c){if("function"==typeof e&&void 0===e.cid){o=!0,a++;var l,u=ue(function(t){t.__esModule&&t.default&&(t=t.default),e.resolved="function"==typeof t?t:Le.extend(t),r.components[c]=t,--a<=0&&i()}),h=ue(function(e){var t="Failed to resolve async component "+c+": "+e;s||(s=n(e)?e:new Error(t),i(s))});try{l=e(u,h)}catch(e){h(e)}if(l)if("function"==typeof l.then)l.then(u,h);else{var f=l.component;f&&"function"==typeof f.then&&f.then(u,h)}}}),o||i()}}function ce(e,t){return le(e.map(function(e){return Object.keys(e.components).map(function(r){return t(e.components[r],e.instances[r],e,r)})}))}function le(e){return Array.prototype.concat.apply([],e)}function ue(e){var t=!1;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(!t)return t=!0,e.apply(this,r)}}function he(e){if(!e)if(Ie){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}function fe(e,t){var r,i=Math.max(e.length,t.length);for(r=0;r<i&&e[r]===t[r];r++);return{updated:t.slice(0,r),activated:t.slice(r),deactivated:e.slice(r)}}function pe(e,t,r,i){var n=ce(e,function(e,i,n,o){var a=de(e,t);if(a)return Array.isArray(a)?a.map(function(e){return r(e,i,n,o)}):r(a,i,n,o)});return le(i?n.reverse():n)}function de(e,t){return"function"!=typeof e&&(e=Le.extend(e)),e.options[t]}function me(e){return pe(e,"beforeRouteLeave",ge,!0)}function ve(e){return pe(e,"beforeRouteUpdate",ge)}function ge(e,t){if(t)return function(){return e.apply(t,arguments)}}function ye(e,t,r){return pe(e,"beforeRouteEnter",function(e,i,n,o){return xe(e,n,o,t,r)})}function xe(e,t,r,i,n){return function(o,a,s){return e(o,a,function(e){s(e),"function"==typeof e&&i.push(function(){be(e,t.instances,r,n)})})}}function be(e,t,r,i){t[r]?e(t[r]):i()&&setTimeout(function(){be(e,t,r,i)},16)}function we(e){var t=window.location.pathname;return e&&0===t.indexOf(e)&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}function _e(e){var t=we(e);if(!/^\/#/.test(t))return window.location.replace(w(e+"/#"+t)),!0}function Me(){var e=Se();return"/"===e.charAt(0)||(Te("/"+e),!1)}function Se(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.slice(t+1)}function Ce(e){window.location.hash=e}function Te(e){var t=window.location.href,r=t.indexOf("#"),i=r>=0?t.slice(0,r):t;window.location.replace(i+"#"+e)}function Ae(e,t){return e.push(t),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function Ee(e,t,r){var i="hash"===r?"#"+t:t;return e?w(e+"/"+i):i}var Le,Pe={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var r=t.props,i=t.children,n=t.parent,a=t.data;a.routerView=!0;for(var s=n.$createElement,c=r.name,l=n.$route,u=n._routerViewCache||(n._routerViewCache={}),h=0,f=!1;n&&n._routerRoot!==n;)n.$vnode&&n.$vnode.data.routerView&&h++,n._inactive&&(f=!0),n=n.$parent;if(a.routerViewDepth=h,f)return s(u[c],a,i);var p=l.matched[h];if(!p)return u[c]=null,s();var d=u[c]=p.components[c];return a.registerRouteInstance=function(e,t){var r=p.instances[c];(t&&r!==e||!t&&r===e)&&(p.instances[c]=t)},(a.hook||(a.hook={})).prepatch=function(e,t){p.instances[c]=t.componentInstance},a.props=o(l,p.props&&p.props[c]),s(d,a,i)}},De=/[!'()*]/g,Re=function(e){return"%"+e.charCodeAt(0).toString(16)},Fe=/%2C/g,ke=function(e){return encodeURIComponent(e).replace(De,Re).replace(Fe,",")},Oe=decodeURIComponent,Ue=/\/?$/,Ne=l(null,{path:"/"}),Ve=[String,Object],Be=[String,Array],ze={name:"router-link",props:{to:{type:Ve,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:Be,default:"click"}},render:function(e){var t=this,r=this.$router,i=this.$route,n=r.resolve(this.to,i,this.append),o=n.location,a=n.route,s=n.href,c={},u=r.options.linkActiveClass,h=r.options.linkExactActiveClass,p=null==u?"router-link-active":u,m=null==h?"router-link-exact-active":h,y=null==this.activeClass?p:this.activeClass,x=null==this.exactActiveClass?m:this.exactActiveClass,b=o.path?l(null,o,null,r):a;c[x]=f(i,b),c[y]=this.exact?c[x]:d(i,b);var w=function(e){v(e)&&(t.replace?r.replace(o):r.push(o))},_={click:v};Array.isArray(this.event)?this.event.forEach(function(e){_[e]=w}):_[this.event]=w;var M={class:c};if("a"===this.tag)M.on=_,M.attrs={href:s};else{var S=g(this.$slots.default);if(S){S.isStatic=!1;var C=Le.util.extend;(S.data=C({},S.data)).on=_;(S.data.attrs=C({},S.data.attrs)).href=s}else M.on=_}return e(this.tag,M,this.$slots.default)}},Ie="undefined"!=typeof window,je=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},He=O,Ge=_,We=M,Xe=T,qe=k,$e=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");He.parse=Ge,He.compile=We,He.tokensToFunction=Xe,He.tokensToRegExp=qe;var Ye=Object.create(null),Ke=Object.create(null),Ze=Ie&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),Qe=Ie&&window.performance&&window.performance.now?window.performance:Date,Je=te(),et=function(e,t){this.router=e,this.base=he(t),this.current=Ne,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};et.prototype.listen=function(e){this.cb=e},et.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},et.prototype.onError=function(e){this.errorCbs.push(e)},et.prototype.transitionTo=function(e,t,r){var i=this,n=this.router.match(e,this.current);this.confirmTransition(n,function(){i.updateRoute(n),t&&t(n),i.ensureURL(),i.ready||(i.ready=!0,i.readyCbs.forEach(function(e){e(n)}))},function(e){r&&r(e),e&&!i.ready&&(i.ready=!0,i.readyErrorCbs.forEach(function(t){t(e)}))})},et.prototype.confirmTransition=function(e,t,r){var o=this,a=this.current,s=function(e){n(e)&&(o.errorCbs.length?o.errorCbs.forEach(function(t){t(e)}):(i(!1,"uncaught error during route navigation:"),console.error(e))),r&&r(e)};if(f(e,a)&&e.matched.length===a.matched.length)return this.ensureURL(),s();var c=fe(this.current.matched,e.matched),l=c.updated,u=c.deactivated,h=c.activated,p=[].concat(me(u),this.router.beforeHooks,ve(l),h.map(function(e){return e.beforeEnter}),se(h));this.pending=e;var d=function(t,r){if(o.pending!==e)return s();try{t(e,a,function(e){!1===e||n(e)?(o.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(),"object"==typeof e&&e.replace?o.replace(e):o.push(e)):r(e)})}catch(e){s(e)}};ae(p,d,function(){var r=[];ae(ye(h,r,function(){return o.current===e}).concat(o.router.resolveHooks),d,function(){if(o.pending!==e)return s();o.pending=null,t(e),o.router.app&&o.router.app.$nextTick(function(){r.forEach(function(e){e()})})})})},et.prototype.updateRoute=function(e){var t=this.current;this.current=e,this.cb&&this.cb(e),this.router.afterHooks.forEach(function(r){r&&r(e,t)})};var tt=function(e){function t(t,r){var i=this;e.call(this,t,r);var n=t.options.scrollBehavior;n&&X(),window.addEventListener("popstate",function(e){var r=i.current;i.transitionTo(we(i.base),function(e){n&&q(t,e,r,!0)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,r){var i=this,n=this,o=n.current;this.transitionTo(e,function(e){ne(w(i.base+e.fullPath)),q(i.router,e,o,!1),t&&t(e)},r)},t.prototype.replace=function(e,t,r){var i=this,n=this,o=n.current;this.transitionTo(e,function(e){oe(w(i.base+e.fullPath)),q(i.router,e,o,!1),t&&t(e)},r)},t.prototype.ensureURL=function(e){if(we(this.base)!==this.current.fullPath){var t=w(this.base+this.current.fullPath);e?ne(t):oe(t)}},t.prototype.getCurrentLocation=function(){return we(this.base)},t}(et),rt=function(e){function t(t,r,i){e.call(this,t,r),i&&_e(this.base)||Me()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;window.addEventListener("hashchange",function(){Me()&&e.transitionTo(Se(),function(e){Te(e.fullPath)})})},t.prototype.push=function(e,t,r){this.transitionTo(e,function(e){Ce(e.fullPath),t&&t(e)},r)},t.prototype.replace=function(e,t,r){this.transitionTo(e,function(e){Te(e.fullPath),t&&t(e)},r)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;Se()!==t&&(e?Ce(t):Te(t))},t.prototype.getCurrentLocation=function(){return Se()},t}(et),it=function(e){function t(t,r){e.call(this,t,r),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,r){var i=this;this.transitionTo(e,function(e){i.stack=i.stack.slice(0,i.index+1).concat(e),i.index++,t&&t(e)},r)},t.prototype.replace=function(e,t,r){var i=this;this.transitionTo(e,function(e){i.stack=i.stack.slice(0,i.index).concat(e),t&&t(e)},r)},t.prototype.go=function(e){var t=this,r=this.index+e;if(!(r<0||r>=this.stack.length)){var i=this.stack[r];this.confirmTransition(i,function(){t.index=r,t.updateRoute(i)})}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(et),nt=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=H(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!Ze&&!1!==e.fallback,this.fallback&&(t="hash"),Ie||(t="abstract"),this.mode=t,t){case"history":this.history=new tt(this,e.base);break;case"hash":this.history=new rt(this,e.base,this.fallback);break;case"abstract":this.history=new it(this,e.base)}},ot={currentRoute:{}};nt.prototype.match=function(e,t,r){return this.matcher.match(e,t,r)},ot.currentRoute.get=function(){return this.history&&this.history.current},nt.prototype.init=function(e){var t=this;if(this.apps.push(e),!this.app){this.app=e;var r=this.history;if(r instanceof tt)r.transitionTo(r.getCurrentLocation());else if(r instanceof rt){var i=function(){r.setupListeners()};r.transitionTo(r.getCurrentLocation(),i,i)}r.listen(function(e){t.apps.forEach(function(t){t._route=e})})}},nt.prototype.beforeEach=function(e){return Ae(this.beforeHooks,e)},nt.prototype.beforeResolve=function(e){return Ae(this.resolveHooks,e)},nt.prototype.afterEach=function(e){return Ae(this.afterHooks,e)},nt.prototype.onReady=function(e,t){this.history.onReady(e,t)},nt.prototype.onError=function(e){this.history.onError(e)},nt.prototype.push=function(e,t,r){this.history.push(e,t,r)},nt.prototype.replace=function(e,t,r){this.history.replace(e,t,r)},nt.prototype.go=function(e){this.history.go(e)},nt.prototype.back=function(){this.go(-1)},nt.prototype.forward=function(){this.go(1)},nt.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map(function(e){return Object.keys(e.components).map(function(t){return e.components[t]})})):[]},nt.prototype.resolve=function(e,t,r){var i=I(e,t||this.history.current,r,this),n=this.match(i,t),o=n.redirectedFrom||n.fullPath;return{location:i,route:n,href:Ee(this.history.base,o,this.mode),normalizedTo:i,resolved:n}},nt.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==Ne&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(nt.prototype,ot),nt.install=y,nt.version="2.7.0",Ie&&window.Vue&&window.Vue.use(nt),t.a=nt},102:function(e,t){e.exports=function(e,t){for(var r=[],i={},n=0;n<t.length;n++){var o=t[n],a=o[0],s=o[1],c=o[2],l=o[3],u={id:e+":"+n,css:s,media:c,sourceMap:l};i[a]?i[a].parts.push(u):r.push(i[a]={id:a,parts:[u]})}return r}},103:function(e,t){function r(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var o=i(n);return[r].concat(n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"})).concat([o]).join("\n")}return[r].join("\n")}function i(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=r(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},n=0;n<this.length;n++){var o=this[n][0];"number"==typeof o&&(i[o]=!0)}for(n=0;n<e.length;n++){var a=e[n];"number"==typeof a[0]&&i[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},104:function(e,t,r){function i(e){for(var t=0;t<e.length;t++){var r=e[t],i=u[r.id];if(i){i.refs++;for(var n=0;n<i.parts.length;n++)i.parts[n](r.parts[n]);for(;n<r.parts.length;n++)i.parts.push(o(r.parts[n]));i.parts.length>r.parts.length&&(i.parts.length=r.parts.length)}else{for(var a=[],n=0;n<r.parts.length;n++)a.push(o(r.parts[n]));u[r.id]={id:r.id,refs:1,parts:a}}}}function n(){var e=document.createElement("style");return e.type="text/css",h.appendChild(e),e}function o(e){var t,r,i=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(i){if(d)return m;i.parentNode.removeChild(i)}if(v){var o=p++;i=f||(f=n()),t=a.bind(null,i,o,!1),r=a.bind(null,i,o,!0)}else i=n(),t=s.bind(null,i),r=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else r()}}function a(e,t,r,i){var n=r?"":i.css;if(e.styleSheet)e.styleSheet.cssText=g(t,n);else{var o=document.createTextNode(n),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function s(e,t){var r=t.css,i=t.media,n=t.sourceMap;if(i&&e.setAttribute("media",i),n&&(r+="\n/*# sourceURL="+n.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l=r(102),u={},h=c&&(document.head||document.getElementsByTagName("head")[0]),f=null,p=0,d=!1,m=function(){},v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,r){d=r;var n=l(e,t);return i(n),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o],s=u[a.id];s.refs--,r.push(s)}t?(n=l(e,t),i(n)):n=[];for(var o=0;o<r.length;o++){var s=r[o];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete u[s.id]}}}};var g=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},14:function(e,t,r){!function(t,r){e.exports=r()}(0,function(){"use strict";function e(e,t){return 1-3*t+3*e}function t(e,t){return 3*t-6*e}function r(e){return 3*e}function i(i,n,o){return((e(n,o)*i+t(n,o))*i+r(n))*i}function n(i,n,o){return 3*e(n,o)*i*i+2*t(n,o)*i+r(n)}function o(e,t,r,n,o){var a,s,c=0;do{s=t+(r-t)/2,a=i(s,n,o)-e,a>0?r=s:t=s}while(Math.abs(a)>d&&++c<m);return s}function a(e,t,r,o){for(var a=0;a<f;++a){var s=n(t,r,o);if(0===s)return t;t-=(i(t,r,o)-e)/s}return t}function s(e){C=M({},C,e)}function c(e){for(var t=0;t<A.length;++t)if(A[t].el===e)return A.splice(t,1),!0;return!1}function l(e){for(var t=0;t<A.length;++t)if(A[t].el===e)return A[t]}function u(e){var t=l(e);return t||(A.push(t={el:e,binding:{}}),t)}function h(e){e.preventDefault();var t=u(this).binding;if("string"==typeof t.value)return T(t.value);T(t.value.el||t.value.element,t.value)}var f=4,p=.001,d=1e-7,m=10,v=11,g=1/(v-1),y="function"==typeof Float32Array,x=function(e,t,r,s){function c(t){for(var i=0,s=1,c=v-1;s!==c&&l[s]<=t;++s)i+=g;--s;var u=(t-l[s])/(l[s+1]-l[s]),h=i+u*g,f=n(h,e,r);return f>=p?a(t,h,e,r):0===f?h:o(t,i,i+g,e,r)}if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");var l=y?new Float32Array(v):new Array(v);if(e!==t||r!==s)for(var u=0;u<v;++u)l[u]=i(u*g,e,r);return function(n){return e===t&&r===s?n:0===n?0:1===n?1:i(c(n),t,s)}},b={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},w={$:function(e){return"string"!=typeof e?e:document.querySelector(e)},on:function(e,t,r){t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++)e.addEventListener(t[i],r)},off:function(e,t,r){t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++)e.removeEventListener(t[i],r)},cumulativeOffset:function(e){var t=0,r=0;do{t+=e.offsetTop||0,r+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:r}}},_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},S=["mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],C={container:"body",duration:500,easing:"ease",offset:0,cancelable:!0,onDone:!1,onCancel:!1,x:!1,y:!0},T=function(){function e(e){var t=e.scrollTop;return"body"===e.tagName.toLowerCase()&&(t=t||document.documentElement.scrollTop),t}function t(e){var t=e.scrollLeft;return"body"===e.tagName.toLowerCase()&&(t=t||document.documentElement.scrollLeft),t}function r(e){if(E)return i();R||(R=e),F=e-R,k=Math.min(F/c,1),k=D(k),n(s,y+A*k,v+T*k),F<c?window.requestAnimationFrame(r):i()}function i(){E||n(s,M,g),R=!1,w.off(s,S,P),E&&p&&p(L),!E&&f&&f()}function n(e,t,r){m&&(e.scrollTop=t),d&&(e.scrollLeft=r),"body"===e.tagName.toLowerCase()&&(m&&(document.documentElement.scrollTop=t),d&&(document.documentElement.scrollLeft=r))}function o(i,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"===(void 0===n?"undefined":_(n))?o=n:"number"==typeof n&&(o.duration=n),!(a=w.$(i)))return console.warn("[vue-scrollto warn]: Trying to scroll to an element that is not on the page: "+i);s=w.$(o.container||C.container),c=o.duration||C.duration,l=o.easing||C.easing,u=o.offset||C.offset,h=!1!==o.cancelable,f=o.onDone||C.onDone,p=o.onCancel||C.onCancel,d=void 0===o.x?C.x:o.x,m=void 0===o.y?C.y:o.y;var R=w.cumulativeOffset(a);return y=e(s),M=R.top-s.offsetTop+u,v=t(s),g=R.left-s.offsetLeft+u,E=!1,A=M-y,T=g-v,"string"==typeof l&&(l=b[l]||b.ease),D=x.apply(x,l),A||T?(w.on(s,S,P,{passive:!0}),window.requestAnimationFrame(r),function(){L=null,E=!0}):void 0}var a=void 0,s=void 0,c=void 0,l=void 0,u=void 0,h=void 0,f=void 0,p=void 0,d=void 0,m=void 0,v=void 0,g=void 0,y=void 0,M=void 0,T=void 0,A=void 0,E=void 0,L=void 0,P=function(e){h&&(L=e,E=!0)},D=void 0,R=void 0,F=void 0,k=void 0;return o}(),A=[],E={bind:function(e,t){u(e).binding=t,w.on(e,"click",h)},unbind:function(e){c(e),w.off(e,"click",h)},update:function(e,t){u(e).binding=t},scrollTo:T,bindings:A},L=function(e,t){t&&s(t),e.directive("scroll-to",E),e.prototype.$scrollTo=E.scrollTo};return"undefined"!=typeof window&&window.Vue&&(window.VueScrollTo=E,window.VueScrollTo.setDefaults=s,Vue.use(L)),E.install=L,E})},2:function(e,t,r){(function(t){!function(t,r){e.exports=r()}(0,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}var r=function(e){var t=e.id,r=e.viewBox,i=e.content;this.id=t,this.viewBox=r,this.content=i};r.prototype.stringify=function(){return this.content},r.prototype.toString=function(){return this.stringify()},r.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};var i=function(e){var t=!!document.importNode,r=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(r,!0):r},n=("undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self,e(function(e,t){!function(t,r){e.exports=r()}(0,function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function r(r,i){return i&&!0===i.clone&&e(r)?o(t(r),r,i):r}function i(t,i,n){var a=t.slice();return i.forEach(function(i,s){void 0===a[s]?a[s]=r(i,n):e(i)?a[s]=o(t[s],i,n):-1===t.indexOf(i)&&a.push(r(i,n))}),a}function n(t,i,n){var a={};return e(t)&&Object.keys(t).forEach(function(e){a[e]=r(t[e],n)}),Object.keys(i).forEach(function(s){e(i[s])&&t[s]?a[s]=o(t[s],i[s],n):a[s]=r(i[s],n)}),a}function o(e,t,o){var a=Array.isArray(t),s=o||{arrayMerge:i},c=s.arrayMerge||i;return a?Array.isArray(e)?c(e,t,o):r(t,o):n(e,t,o)}return o.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,r){return o(e,r,t)})},o})})),o=e(function(e,t){var r={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=r,e.exports=t.default}),a=function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")},s=o.svg,c=o.xlink,l={};l[s.name]=s.uri,l[c.name]=c.uri;var u=function(e,t){void 0===e&&(e="");var r=n(l,t||{});return"<svg "+a(r)+">"+e+"</svg>"};return function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t.appendChild(r),r},t.prototype.render=function(){var e=this.stringify();return i(u(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,r),t}(r)})}).call(t,r(7))},28:function(e,t,r){var i;!function(){"use strict";function t(e){var t,r,i,n,o,a,s=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;for(t=e.length;t--;)e[t][0]<s&&(s=e[t][0]),e[t][0]>l&&(l=e[t][0]),e[t][1]<c&&(c=e[t][1]),e[t][1]>u&&(u=e[t][1]);return r=l-s,i=u-c,n=Math.max(r,i),o=s+.5*r,a=c+.5*i,[[o-20*n,a-n],[o,a+20*n],[o+20*n,a-n]]}function r(e,t,r,i){var n,a,s,c,l,u,h,f,p,d,m=e[t][0],v=e[t][1],g=e[r][0],y=e[r][1],x=e[i][0],b=e[i][1],w=Math.abs(v-y),_=Math.abs(y-b);if(w<o&&_<o)throw new Error("Eek! Coincident points!");return w<o?(c=-(x-g)/(b-y),u=(g+x)/2,f=(y+b)/2,n=(g+m)/2,a=c*(n-u)+f):_<o?(s=-(g-m)/(y-v),l=(m+g)/2,h=(v+y)/2,n=(x+g)/2,a=s*(n-l)+h):(s=-(g-m)/(y-v),c=-(x-g)/(b-y),l=(m+g)/2,u=(g+x)/2,h=(v+y)/2,f=(y+b)/2,n=(s*l-c*u+f-h)/(s-c),a=w>_?s*(n-l)+h:c*(n-u)+f),p=g-n,d=y-a,{i:t,j:r,k:i,x:n,y:a,r:p*p+d*d}}function n(e){var t,r,i,n,o,a;for(r=e.length;r;)for(n=e[--r],i=e[--r],t=r;t;)if(a=e[--t],o=e[--t],i===o&&n===a||i===a&&n===o){e.splice(r,2),e.splice(t,2);break}}var o=1/1048576;i={triangulate:function(e,i){var a,s,c,l,u,h,f,p,d,m,v,g,y=e.length;if(y<3)return[];if(e=e.slice(0),i)for(a=y;a--;)e[a]=e[a][i];for(c=new Array(y),a=y;a--;)c[a]=a;for(c.sort(function(t,r){return e[r][0]-e[t][0]}),l=t(e),e.push(l[0],l[1],l[2]),u=[r(e,y+0,y+1,y+2)],h=[],f=[],a=c.length;a--;f.length=0){for(g=c[a],s=u.length;s--;)p=e[g][0]-u[s].x,p>0&&p*p>u[s].r?(h.push(u[s]),u.splice(s,1)):(d=e[g][1]-u[s].y,p*p+d*d-u[s].r>o||(f.push(u[s].i,u[s].j,u[s].j,u[s].k,u[s].k,u[s].i),u.splice(s,1)));for(n(f),s=f.length;s;)v=f[--s],m=f[--s],u.push(r(e,m,v,g))}for(a=u.length;a--;)h.push(u[a]);for(u.length=0,a=h.length;a--;)h[a].i<y&&h[a].j<y&&h[a].k<y&&u.push(h[a].i,h[a].j,h[a].k);return u},contains:function(e,t){if(t[0]<e[0][0]&&t[0]<e[1][0]&&t[0]<e[2][0]||t[0]>e[0][0]&&t[0]>e[1][0]&&t[0]>e[2][0]||t[1]<e[0][1]&&t[1]<e[1][1]&&t[1]<e[2][1]||t[1]>e[0][1]&&t[1]>e[1][1]&&t[1]>e[2][1])return null;var r=e[1][0]-e[0][0],i=e[2][0]-e[0][0],n=e[1][1]-e[0][1],o=e[2][1]-e[0][1],a=r*o-i*n;if(0===a)return null;var s=(o*(t[0]-e[0][0])-i*(t[1]-e[0][1]))/a,c=(r*(t[1]-e[0][1])-n*(t[0]-e[0][0]))/a;return s<0||c<0||s+c>1?null:[s,c]}},e.exports=i}()},3:function(e,t,r){(function(t){!function(t,r){e.exports=r()}(0,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function r(e){return e=e||Object.create(null),{on:function(t,r){(e[t]||(e[t]=[])).push(r)},off:function(t,r){e[t]&&e[t].splice(e[t].indexOf(r)>>>0,1)},emit:function(t,r){(e[t]||[]).map(function(e){e(r)}),(e["*"]||[]).map(function(e){e(t,r)})}}}function i(e,t){return M(e).reduce(function(e,r){if(!r.attributes)return e;var i=M(r.attributes),n=t?i.filter(t):i;return e.concat(n)},[])}function n(e){return e.replace(F,function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()})}function o(e,t,r){return M(e).forEach(function(e){var i=e.getAttribute(R);if(i&&0===i.indexOf(t)){var n=i.replace(t,r);e.setAttributeNS(D,R,n)}}),e}var a=("undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self,e(function(e,t){!function(t,r){e.exports=r()}(0,function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function r(r,i){return i&&!0===i.clone&&e(r)?o(t(r),r,i):r}function i(t,i,n){var a=t.slice();return i.forEach(function(i,s){void 0===a[s]?a[s]=r(i,n):e(i)?a[s]=o(t[s],i,n):-1===t.indexOf(i)&&a.push(r(i,n))}),a}function n(t,i,n){var a={};return e(t)&&Object.keys(t).forEach(function(e){a[e]=r(t[e],n)}),Object.keys(i).forEach(function(s){e(i[s])&&t[s]?a[s]=o(t[s],i[s],n):a[s]=r(i[s],n)}),a}function o(e,t,o){var a=Array.isArray(t),s=o||{arrayMerge:i},c=s.arrayMerge||i;return a?Array.isArray(e)?c(e,t,o):r(t,o):n(e,t,o)}return o.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,r){return o(e,r,t)})},o})})),s=e(function(e,t){var r={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=r,e.exports=t.default}),c=function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")},l=s.svg,u=s.xlink,h={};h[l.name]=l.uri,h[u.name]=u.uri;var f,p=function(e,t){void 0===e&&(e="");var r=a(h,t||{});return"<svg "+c(r)+">"+e+"</svg>"},d=s.svg,m=s.xlink,v={attrs:(f={style:["position: absolute","width: 0","height: 0"].join("; ")},f[d.name]=d.uri,f[m.name]=m.uri,f)},g=function(e){this.config=a(v,e||{}),this.symbols=[]};g.prototype.add=function(e){var t=this,r=t.symbols,i=this.find(e.id);return i?(r[r.indexOf(i)]=e,!1):(r.push(e),!0)},g.prototype.remove=function(e){var t=this,r=t.symbols,i=this.find(e);return!!i&&(r.splice(r.indexOf(i),1),i.destroy(),!0)},g.prototype.find=function(e){return this.symbols.filter(function(t){return t.id===e})[0]||null},g.prototype.has=function(e){return null!==this.find(e)},g.prototype.stringify=function(){var e=this.config,t=e.attrs,r=this.symbols.map(function(e){return e.stringify()}).join("");return p(r,t)},g.prototype.toString=function(){return this.stringify()},g.prototype.destroy=function(){this.symbols.forEach(function(e){return e.destroy()})};var y=function(e){var t=e.id,r=e.viewBox,i=e.content;this.id=t,this.viewBox=r,this.content=i};y.prototype.stringify=function(){return this.content},y.prototype.toString=function(){return this.stringify()},y.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};var x,b=function(e){var t=!!document.importNode,r=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(r,!0):r},w=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t.appendChild(r),r},t.prototype.render=function(){var e=this.stringify();return b(p(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,r),t}(y),_={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},M=function(e){return Array.prototype.slice.call(e,0)},S=navigator.userAgent,C={isChrome:/chrome/i.test(S),isFirefox:/firefox/i.test(S),isIE:/msie/i.test(S)||/trident/i.test(S),isEdge:/edge/i.test(S)},T=function(e,t){var r=document.createEvent("CustomEvent");r.initCustomEvent(e,!1,!1,t),window.dispatchEvent(r)},A=function(e){var t=[];return M(e.querySelectorAll("style")).forEach(function(e){e.textContent+="",t.push(e)}),t},E=function(e){return(e||window.location.href).split("#")[0]},L=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",function(t,r,i){T(e,{oldUrl:i,newUrl:r})})}])},P=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern"),M(e.querySelectorAll("symbol")).forEach(function(e){M(e.querySelectorAll(t)).forEach(function(t){e.parentNode.insertBefore(t,e)})}),e},D=s.xlink.uri,R="xlink:href",F=/[{}|\\\^\[\]`"<>]/g,k=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],O=k.map(function(e){return"["+e+"]"}).join(","),U=function(e,t,r,a){var s=n(r),c=n(a);i(e.querySelectorAll(O),function(e){var t=e.localName,r=e.value;return-1!==k.indexOf(t)&&-1!==r.indexOf("url("+s)}).forEach(function(e){return e.value=e.value.replace(s,c)}),o(t,s,c)},N={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"},V=function(e){function t(t){var i=this;void 0===t&&(t={}),e.call(this,a(_,t));var n=r();this._emitter=n,this.node=null;var o=this,s=o.config;if(s.autoConfigure&&this._autoConfigure(t),s.syncUrlsWithBaseTag){var c=document.getElementsByTagName("base")[0].getAttribute("href");n.on(N.MOUNT,function(){return i.updateUrls("#",c)})}var l=this._handleLocationChange.bind(this);this._handleLocationChange=l,s.listenLocationChangeEvent&&window.addEventListener(s.locationChangeEvent,l),s.locationChangeAngularEmitter&&L(s.locationChangeEvent),n.on(N.MOUNT,function(e){s.moveGradientsOutsideSymbol&&P(e)}),n.on(N.SYMBOL_MOUNT,function(e){s.moveGradientsOutsideSymbol&&P(e.parentNode),(C.isIE||C.isEdge)&&A(e)})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={isMounted:{}};return i.isMounted.get=function(){return!!this.node},t.prototype._autoConfigure=function(e){var t=this,r=t.config;void 0===e.syncUrlsWithBaseTag&&(r.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(r.locationChangeAngularEmitter="angular"in window),void 0===e.moveGradientsOutsideSymbol&&(r.moveGradientsOutsideSymbol=C.isFirefox)},t.prototype._handleLocationChange=function(e){var t=e.detail,r=t.oldUrl,i=t.newUrl;this.updateUrls(r,i)},t.prototype.add=function(t){var r=this,i=e.prototype.add.call(this,t);return this.isMounted&&i&&(t.mount(r.node),this._emitter.emit(N.SYMBOL_MOUNT,t.node)),i},t.prototype.attach=function(e){var t=this,r=this;if(r.isMounted)return r.node;var i="string"==typeof e?document.querySelector(e):e;return r.node=i,this.symbols.forEach(function(e){e.mount(r.node),t._emitter.emit(N.SYMBOL_MOUNT,e.node)}),M(i.querySelectorAll("symbol")).forEach(function(e){var t=w.createFromExistingNode(e);t.node=e,r.add(t)}),this._emitter.emit(N.MOUNT,i),i},t.prototype.destroy=function(){var e=this,t=e.config,r=e.symbols,i=e._emitter;r.forEach(function(e){return e.destroy()}),i.off("*"),window.removeEventListener(t.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},t.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);var r=this;if(r.isMounted)return r.node;var i="string"==typeof e?document.querySelector(e):e,n=r.render();return this.node=n,t&&i.childNodes[0]?i.insertBefore(n,i.childNodes[0]):i.appendChild(n),this._emitter.emit(N.MOUNT,n),n},t.prototype.render=function(){return b(this.stringify())},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},t.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var r=document.querySelectorAll(this.config.usagesToUpdate);return U(this.node,r,E(e)+"#",E(t)+"#"),!0},Object.defineProperties(t.prototype,i),t}(g),B=e(function(e){/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
!function(t,r){e.exports=function(){var e,t=[],r=document,i=r.documentElement.doScroll,n=(i?/^loaded|^c/:/^loaded|^i|^c/).test(r.readyState);return n||r.addEventListener("DOMContentLoaded",e=function(){for(r.removeEventListener("DOMContentLoaded",e),n=1;e=t.shift();)e()}),function(e){n?setTimeout(e,0):t.push(e)}}()}()}),z=!!window.__SVG_SPRITE__;z?x=window.__SVG_SPRITE__:(x=new V({attrs:{id:"__SVG_SPRITE_NODE__"}}),window.__SVG_SPRITE__=x);var I=function(){var e=document.getElementById("__SVG_SPRITE_NODE__");e?x.attach(e):x.mount(document.body,!0)};return document.body?I():B(I),x})}).call(t,r(7))},37:function(e,t){function r(){function e(e){return e*e*e*(e*(6*e-15)+10)}function t(e,t,r){return t+e*(r-t)}function r(e,t,r,i){var n=15&e,o=n<8?t:r,a=n<4?r:12==n||14==n?t:i;return(0==(1&n)?o:-o)+(0==(2&n)?a:-a)}for(var i=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],n=0;n<256;n++)i[256+n]=i[n];return{noise:function(n,o,a){var s=Math.floor(n),c=Math.floor(o),l=Math.floor(a),u=255&s,h=255&c,f=255&l;n-=s,o-=c,a-=l;var p=n-1,d=o-1,m=a-1,v=e(n),g=e(o),y=e(a),x=i[u]+h,b=i[x]+f,w=i[x+1]+f,_=i[u+1]+h,M=i[_]+f,S=i[_+1]+f;return t(y,t(g,t(v,r(i[b],n,o,a),r(i[M],p,o,a)),t(v,r(i[w],n,d,a),r(i[S],p,d,a))),t(g,t(v,r(i[b+1],n,o,m),r(i[M+1],p,o,a-1)),t(v,r(i[w+1],n,d,m),r(i[S+1],p,d,m))))}}}e.exports=r},38:function(e,t,r){var i,n,o;!function(a,s){n=[r(1)],i=s,void 0!==(o="function"==typeof i?i.apply(t,n):i)&&(e.exports=o)}(0,function(e){function t(e){if(e in u.style)return e;for(var t=["Moz","Webkit","O","ms"],r=e.charAt(0).toUpperCase()+e.substr(1),i=0;i<t.length;++i){var n=t[i]+r;if(n in u.style)return n}}function r(e){return"string"==typeof e&&this.parse(e),this}function i(e,t,r){!0===t?e.queue(r):t?e.queue(t,r):e.each(function(){r.call(this)})}function n(t){var r=[];return e.each(t,function(t){t=e.camelCase(t),t=e.transit.propertyMap[t]||e.cssProps[t]||t,t=s(t),h[t]&&(t=s(h[t])),-1===e.inArray(t,r)&&r.push(t)}),r}function o(t,r,i,o){var a=n(t);e.cssEase[i]&&(i=e.cssEase[i]);var s=l(r)+" "+i;parseInt(o,10)>0&&(s+=" "+l(o));var c=[];return e.each(a,function(e,t){c.push(t+" "+s)}),c.join(", ")}function a(t,r){r||(e.cssNumber[t]=!0),e.transit.propertyMap[t]=h.transform,e.cssHooks[t]={get:function(r){return e(r).css("transit:transform").get(t)},set:function(r,i){var n=e(r).css("transit:transform");n.setFromString(t,i),e(r).css({"transit:transform":n})}}}function s(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function c(e,t){return"string"!=typeof e||e.match(/^[\-0-9\.]+$/)?""+e+t:e}function l(t){var r=t;return"string"!=typeof r||r.match(/^[\-0-9\.]+/)||(r=e.fx.speeds[r]||e.fx.speeds._default),c(r,"ms")}e.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var u=document.createElement("div"),h={},f=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;h.transition=t("transition"),h.transitionDelay=t("transitionDelay"),h.transform=t("transform"),h.transformOrigin=t("transformOrigin"),h.filter=t("Filter"),h.transform3d=function(){return u.style[h.transform]="",u.style[h.transform]="rotateY(90deg)",""!==u.style[h.transform]}();var p={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},d=h.transitionEnd=p[h.transition]||null;for(var m in h)h.hasOwnProperty(m)&&void 0===e.support[m]&&(e.support[m]=h[m]);return u=null,e.cssEase={_default:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},e.cssHooks["transit:transform"]={get:function(t){return e(t).data("transform")||new r},set:function(t,i){var n=i;n instanceof r||(n=new r(n)),"WebkitTransform"!==h.transform||f?t.style[h.transform]=n.toString():t.style[h.transform]=n.toString(!0),e(t).data("transform",n)}},e.cssHooks.transform={set:e.cssHooks["transit:transform"].set},e.cssHooks.filter={get:function(e){return e.style[h.filter]},set:function(e,t){e.style[h.filter]=t}},e.fn.jquery<"1.8"&&(e.cssHooks.transformOrigin={get:function(e){return e.style[h.transformOrigin]},set:function(e,t){e.style[h.transformOrigin]=t}},e.cssHooks.transition={get:function(e){return e.style[h.transition]},set:function(e,t){e.style[h.transition]=t}}),a("scale"),a("scaleX"),a("scaleY"),a("translate"),a("rotate"),a("rotateX"),a("rotateY"),a("rotate3d"),a("perspective"),a("skewX"),a("skewY"),a("x",!0),a("y",!0),r.prototype={setFromString:function(e,t){var i="string"==typeof t?t.split(","):t.constructor===Array?t:[t];i.unshift(e),r.prototype.set.apply(this,i)},set:function(e){var t=Array.prototype.slice.apply(arguments,[1]);this.setter[e]?this.setter[e].apply(this,t):this[e]=t.join(",")},get:function(e){return this.getter[e]?this.getter[e].apply(this):this[e]||0},setter:{rotate:function(e){this.rotate=c(e,"deg")},rotateX:function(e){this.rotateX=c(e,"deg")},rotateY:function(e){this.rotateY=c(e,"deg")},scale:function(e,t){void 0===t&&(t=e),this.scale=e+","+t},skewX:function(e){this.skewX=c(e,"deg")},skewY:function(e){this.skewY=c(e,"deg")},perspective:function(e){this.perspective=c(e,"px")},x:function(e){this.set("translate",e,null)},y:function(e){this.set("translate",null,e)},translate:function(e,t){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==e&&void 0!==e&&(this._translateX=c(e,"px")),null!==t&&void 0!==t&&(this._translateY=c(t,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var e=(this.scale||"1,1").split(",");return e[0]&&(e[0]=parseFloat(e[0])),e[1]&&(e[1]=parseFloat(e[1])),e[0]===e[1]?e[0]:e},rotate3d:function(){for(var e=(this.rotate3d||"0,0,0,0deg").split(","),t=0;t<=3;++t)e[t]&&(e[t]=parseFloat(e[t]));return e[3]&&(e[3]=c(e[3],"deg")),e}},parse:function(e){var t=this;e.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,r,i){t.setFromString(r,i)})},toString:function(e){var t=[];for(var r in this)if(this.hasOwnProperty(r)){if(!h.transform3d&&("rotateX"===r||"rotateY"===r||"perspective"===r||"transformOrigin"===r))continue;"_"!==r[0]&&(e&&"scale"===r?t.push(r+"3d("+this[r]+",1)"):e&&"translate"===r?t.push(r+"3d("+this[r]+",0)"):t.push(r+"("+this[r]+")"))}return t.join(" ")}},e.fn.transition=e.fn.transit=function(t,r,n,a){var s=this,c=0,u=!0,f=e.extend(!0,{},t);"function"==typeof r&&(a=r,r=void 0),"object"==typeof r&&(n=r.easing,c=r.delay||0,u=void 0===r.queue||r.queue,a=r.complete,r=r.duration),"function"==typeof n&&(a=n,n=void 0),void 0!==f.easing&&(n=f.easing,delete f.easing),void 0!==f.duration&&(r=f.duration,delete f.duration),void 0!==f.complete&&(a=f.complete,delete f.complete),void 0!==f.queue&&(u=f.queue,delete f.queue),void 0!==f.delay&&(c=f.delay,delete f.delay),void 0===r&&(r=e.fx.speeds._default),void 0===n&&(n=e.cssEase._default),r=l(r);var p=o(f,r,n,c),m=e.transit.enabled&&h.transition,v=m?parseInt(r,10)+parseInt(c,10):0;if(0===v){return i(s,u,function(e){s.css(f),a&&a.apply(s),e&&e()}),s}var g={},y=function(t){var r=!1,i=function(){r&&s.unbind(d,i),v>0&&s.each(function(){this.style[h.transition]=g[this]||null}),"function"==typeof a&&a.apply(s),"function"==typeof t&&t()};v>0&&d&&e.transit.useTransitionEnd?(r=!0,s.bind(d,i)):window.setTimeout(i,v),s.each(function(){v>0&&(this.style[h.transition]=p),e(this).css(f)})};return i(s,u,function(e){this.offsetWidth,y(e)}),this},e.transit.getTransitionValue=o,e})},48:function(e,t,r){var i=i||{},n={REVISION:"67"};i.console=i.console||{info:function(){},log:function(){},debug:function(){},warn:function(){},error:function(){}},function(){for(var e=0,t=["ms","moz","webkit","o"],r=0;r<t.length&&!i.requestAnimationFrame;++r)i.requestAnimationFrame=i[t[r]+"RequestAnimationFrame"],i.cancelAnimationFrame=i[t[r]+"CancelAnimationFrame"]||i[t[r]+"CancelRequestAnimationFrame"];void 0===i.requestAnimationFrame&&void 0!==i.setTimeout&&(i.requestAnimationFrame=function(t){var r=Date.now(),n=Math.max(0,16-(r-e)),o=i.setTimeout(function(){t(r+n)},n);return e=r+n,o}),void 0===i.cancelAnimationFrame&&void 0!==i.clearTimeout&&(i.cancelAnimationFrame=function(e){i.clearTimeout(e)})}(),n.CullFaceNone=0,n.CullFaceBack=1,n.CullFaceFront=2,n.CullFaceFrontBack=3,n.FrontFaceDirectionCW=0,n.FrontFaceDirectionCCW=1,n.BasicShadowMap=0,n.PCFShadowMap=1,n.PCFSoftShadowMap=2,n.FrontSide=0,n.BackSide=1,n.DoubleSide=2,n.NoShading=0,n.FlatShading=1,n.SmoothShading=2,n.NoColors=0,n.FaceColors=1,n.VertexColors=2,n.NoBlending=0,n.NormalBlending=1,n.AdditiveBlending=2,n.SubtractiveBlending=3,n.MultiplyBlending=4,n.CustomBlending=5,n.AddEquation=100,n.SubtractEquation=101,n.ReverseSubtractEquation=102,n.ZeroFactor=200,n.OneFactor=201,n.SrcColorFactor=202,n.OneMinusSrcColorFactor=203,n.SrcAlphaFactor=204,n.OneMinusSrcAlphaFactor=205,n.DstAlphaFactor=206,n.OneMinusDstAlphaFactor=207,n.DstColorFactor=208,n.OneMinusDstColorFactor=209,n.SrcAlphaSaturateFactor=210,n.MultiplyOperation=0,n.MixOperation=1,n.AddOperation=2,n.UVMapping=function(){},n.CubeReflectionMapping=function(){},n.CubeRefractionMapping=function(){},n.SphericalReflectionMapping=function(){},n.SphericalRefractionMapping=function(){},n.RepeatWrapping=1e3,n.ClampToEdgeWrapping=1001,n.MirroredRepeatWrapping=1002,n.NearestFilter=1003,n.NearestMipMapNearestFilter=1004,n.NearestMipMapLinearFilter=1005,n.LinearFilter=1006,n.LinearMipMapNearestFilter=1007,n.LinearMipMapLinearFilter=1008,n.UnsignedByteType=1009,n.ByteType=1010,n.ShortType=1011,n.UnsignedShortType=1012,n.IntType=1013,n.UnsignedIntType=1014,n.FloatType=1015,n.UnsignedShort4444Type=1016,n.UnsignedShort5551Type=1017,n.UnsignedShort565Type=1018,n.AlphaFormat=1019,n.RGBFormat=1020,n.RGBAFormat=1021,n.LuminanceFormat=1022,n.LuminanceAlphaFormat=1023,n.RGB_S3TC_DXT1_Format=2001,n.RGBA_S3TC_DXT1_Format=2002,n.RGBA_S3TC_DXT3_Format=2003,n.RGBA_S3TC_DXT5_Format=2004,n.Color=function(e){return 3===arguments.length?this.setRGB(arguments[0],arguments[1],arguments[2]):this.set(e)},n.Color.prototype={constructor:n.Color,r:1,g:1,b:1,set:function(e){return e instanceof n.Color?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,r){return this.r=e,this.g=t,this.b=r,this},setHSL:function(e,t,r){if(0===t)this.r=this.g=this.b=r;else{var i=function(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+6*(t-e)*(2/3-r):e},n=r<=.5?r*(1+t):r+t-r*t,o=2*r-n;this.r=i(o,n,e+1/3),this.g=i(o,n,e),this.b=i(o,n,e-1/3)}return this},setStyle:function(e){if(/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(e)){var t=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(e);return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,this}if(/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(e)){var t=/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(e);return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,this}if(/^\#([0-9a-f]{6})$/i.test(e)){var t=/^\#([0-9a-f]{6})$/i.exec(e);return this.setHex(parseInt(t[1],16)),this}if(/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(e)){var t=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e);return this.setHex(parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3],16)),this}if(/^(\w+)$/i.test(e))return this.setHex(n.ColorKeywords[e]),this},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e){return this.r=e.r*e.r,this.g=e.g*e.g,this.b=e.b*e.b,this},copyLinearToGamma:function(e){return this.r=Math.sqrt(e.r),this.g=Math.sqrt(e.g),this.b=Math.sqrt(e.b),this},convertGammaToLinear:function(){var e=this.r,t=this.g,r=this.b;return this.r=e*e,this.g=t*t,this.b=r*r,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,r,i=e||{h:0,s:0,l:0},n=this.r,o=this.g,a=this.b,s=Math.max(n,o,a),c=Math.min(n,o,a),l=(c+s)/2;if(c===s)t=0,r=0;else{var u=s-c;switch(r=l<=.5?u/(s+c):u/(2-s-c),s){case n:t=(o-a)/u+(o<a?6:0);break;case o:t=(a-n)/u+2;break;case a:t=(n-o)/u+4}t/=6}return i.h=t,i.s=r,i.l=l,i},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,r){var i=this.getHSL();return i.h+=e,i.s+=t,i.l+=r,this.setHSL(i.h,i.s,i.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e){return this.r=e[0],this.g=e[1],this.b=e[2],this},toArray:function(){return[this.r,this.g,this.b]},clone:function(){return(new n.Color).setRGB(this.r,this.g,this.b)}},n.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},n.Quaternion=function(e,t,r,i){this._x=e||0,this._y=t||0,this._z=r||0,this._w=void 0!==i?i:1},n.Quaternion.prototype={constructor:n.Quaternion,_x:0,_y:0,_z:0,_w:0,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get w(){return this._w},set w(e){this._w=e,this.onChangeCallback()},set:function(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this.onChangeCallback(),this},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._w=e._w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(e instanceof n.Euler==!1)throw new Error("ERROR: Quaternion's .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.");var r=Math.cos(e._x/2),i=Math.cos(e._y/2),o=Math.cos(e._z/2),a=Math.sin(e._x/2),s=Math.sin(e._y/2),c=Math.sin(e._z/2);return"XYZ"===e.order?(this._x=a*i*o+r*s*c,this._y=r*s*o-a*i*c,this._z=r*i*c+a*s*o,this._w=r*i*o-a*s*c):"YXZ"===e.order?(this._x=a*i*o+r*s*c,this._y=r*s*o-a*i*c,this._z=r*i*c-a*s*o,this._w=r*i*o+a*s*c):"ZXY"===e.order?(this._x=a*i*o-r*s*c,this._y=r*s*o+a*i*c,this._z=r*i*c+a*s*o,this._w=r*i*o-a*s*c):"ZYX"===e.order?(this._x=a*i*o-r*s*c,this._y=r*s*o+a*i*c,this._z=r*i*c-a*s*o,this._w=r*i*o+a*s*c):"YZX"===e.order?(this._x=a*i*o+r*s*c,this._y=r*s*o+a*i*c,this._z=r*i*c-a*s*o,this._w=r*i*o-a*s*c):"XZY"===e.order&&(this._x=a*i*o-r*s*c,this._y=r*s*o-a*i*c,this._z=r*i*c+a*s*o,this._w=r*i*o+a*s*c),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,r=e.elements,i=r[0],n=r[4],o=r[8],a=r[1],s=r[5],c=r[9],l=r[2],u=r[6],h=r[10],f=i+s+h;return f>0?(t=.5/Math.sqrt(f+1),this._w=.25/t,this._x=(u-c)*t,this._y=(o-l)*t,this._z=(a-n)*t):i>s&&i>h?(t=2*Math.sqrt(1+i-s-h),this._w=(u-c)/t,this._x=.25*t,this._y=(n+a)/t,this._z=(o+l)/t):s>h?(t=2*Math.sqrt(1+s-i-h),this._w=(o-l)/t,this._x=(n+a)/t,this._y=.25*t,this._z=(c+u)/t):(t=2*Math.sqrt(1+h-i-s),this._w=(a-n)/t,this._x=(o+l)/t,this._y=(c+u)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t;return function(r,i){return void 0===e&&(e=new n.Vector3),t=r.dot(i)+1,t<1e-6?(t=0,Math.abs(r.x)>Math.abs(r.z)?e.set(-r.y,r.x,0):e.set(0,-r.z,r.y)):e.crossVectors(r,i),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize(),this}}(),inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Quaternion's .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var r=e._x,i=e._y,n=e._z,o=e._w,a=t._x,s=t._y,c=t._z,l=t._w;return this._x=r*l+o*a+i*c-n*s,this._y=i*l+o*s+n*a-r*c,this._z=n*l+o*c+r*s-i*a,this._w=o*l-r*a-i*s-n*c,this.onChangeCallback(),this},multiplyVector3:function(e){return console.warn("DEPRECATED: Quaternion's .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},slerp:function(e,t){var r=this._x,i=this._y,n=this._z,o=this._w,a=o*e._w+r*e._x+i*e._y+n*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=n,this;var s=Math.acos(a),c=Math.sqrt(1-a*a);if(Math.abs(c)<.001)return this._w=.5*(o+this._w),this._x=.5*(r+this._x),this._y=.5*(i+this._y),this._z=.5*(n+this._z),this;var l=Math.sin((1-t)*s)/c,u=Math.sin(t*s)/c;return this._w=o*l+this._w*u,this._x=r*l+this._x*u,this._y=i*l+this._y*u,this._z=n*l+this._z*u,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],this._w=e[3],this.onChangeCallback(),this},toArray:function(){return[this._x,this._y,this._z,this._w]},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){},clone:function(){return new n.Quaternion(this._x,this._y,this._z,this._w)}},n.Quaternion.slerp=function(e,t,r,i){return r.copy(e).slerp(t,i)},n.Vector2=function(e,t){this.x=e||0,this.y=t||0},n.Vector2.prototype={constructor:n.Vector2,set:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector2's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScalar:function(e){return this.x+=e,this.y+=e,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector2's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t}else this.x=0,this.y=0;return this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this},clampScalar:function(){var e,t;return function(r,i){return void 0===e&&(e=new n.Vector2,t=new n.Vector2),e.set(r,r),t.set(i,i),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e){return this.x=e[0],this.y=e[1],this},toArray:function(){return[this.x,this.y]},clone:function(){return new n.Vector2(this.x,this.y)}},n.Vector3=function(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0},n.Vector3.prototype={constructor:n.Vector3,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e;return function(t){return t instanceof n.Euler==!1&&console.error("ERROR: Vector3's .applyEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code."),void 0===e&&(e=new n.Quaternion),this.applyQuaternion(e.setFromEuler(t)),this}}(),applyAxisAngle:function(){var e;return function(t,r){return void 0===e&&(e=new n.Quaternion),this.applyQuaternion(e.setFromAxisAngle(t,r)),this}}(),applyMatrix3:function(e){var t=this.x,r=this.y,i=this.z,n=e.elements;return this.x=n[0]*t+n[3]*r+n[6]*i,this.y=n[1]*t+n[4]*r+n[7]*i,this.z=n[2]*t+n[5]*r+n[8]*i,this},applyMatrix4:function(e){var t=this.x,r=this.y,i=this.z,n=e.elements;return this.x=n[0]*t+n[4]*r+n[8]*i+n[12],this.y=n[1]*t+n[5]*r+n[9]*i+n[13],this.z=n[2]*t+n[6]*r+n[10]*i+n[14],this},applyProjection:function(e){var t=this.x,r=this.y,i=this.z,n=e.elements,o=1/(n[3]*t+n[7]*r+n[11]*i+n[15]);return this.x=(n[0]*t+n[4]*r+n[8]*i+n[12])*o,this.y=(n[1]*t+n[5]*r+n[9]*i+n[13])*o,this.z=(n[2]*t+n[6]*r+n[10]*i+n[14])*o,this},applyQuaternion:function(e){var t=this.x,r=this.y,i=this.z,n=e.x,o=e.y,a=e.z,s=e.w,c=s*t+o*i-a*r,l=s*r+a*t-n*i,u=s*i+n*r-o*t,h=-n*t-o*r-a*i;return this.x=c*s+h*-n+l*-a-u*-o,this.y=l*s+h*-o+u*-n-c*-a,this.z=u*s+h*-a+c*-o-l*-n,this},transformDirection:function(e){var t=this.x,r=this.y,i=this.z,n=e.elements;return this.x=n[0]*t+n[4]*r+n[8]*i,this.y=n[1]*t+n[5]*r+n[9]*i,this.z=n[2]*t+n[6]*r+n[10]*i,this.normalize(),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t,this.z*=t}else this.x=0,this.y=0,this.z=0;return this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this},clampScalar:function(){var e,t;return function(r,i){return void 0===e&&(e=new n.Vector3,t=new n.Vector3),e.set(r,r,r),t.set(i,i,i),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},cross:function(e,t){if(void 0!==t)return console.warn("DEPRECATED: Vector3's .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var r=this.x,i=this.y,n=this.z;return this.x=i*e.z-n*e.y,this.y=n*e.x-r*e.z,this.z=r*e.y-i*e.x,this},crossVectors:function(e,t){var r=e.x,i=e.y,n=e.z,o=t.x,a=t.y,s=t.z;return this.x=i*s-n*a,this.y=n*o-r*s,this.z=r*a-i*o,this},projectOnVector:function(){var e,t;return function(r){return void 0===e&&(e=new n.Vector3),e.copy(r).normalize(),t=this.dot(e),this.copy(e).multiplyScalar(t)}}(),projectOnPlane:function(){var e;return function(t){return void 0===e&&(e=new n.Vector3),e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e;return function(t){return void 0===e&&(e=new n.Vector3),this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/(this.length()*e.length());return Math.acos(n.Math.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i},setEulerFromRotationMatrix:function(e,t){console.error("REMOVED: Vector3's setEulerFromRotationMatrix has been removed in favor of Euler.setFromRotationMatrix(), please update your code.")},setEulerFromQuaternion:function(e,t){console.error("REMOVED: Vector3's setEulerFromQuaternion: has been removed in favor of Euler.setFromQuaternion(), please update your code.")},getPositionFromMatrix:function(e){return console.warn("DEPRECATED: Vector3's .getPositionFromMatrix() has been renamed to .setFromMatrixPosition(). Please update your code."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("DEPRECATED: Vector3's .getScaleFromMatrix() has been renamed to .setFromMatrixScale(). Please update your code."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("DEPRECATED: Vector3's .getColumnFromMatrix() has been renamed to .setFromMatrixColumn(). Please update your code."),this.setFromMatrixColumn(e,t)},setFromMatrixPosition:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},setFromMatrixScale:function(e){var t=this.set(e.elements[0],e.elements[1],e.elements[2]).length(),r=this.set(e.elements[4],e.elements[5],e.elements[6]).length(),i=this.set(e.elements[8],e.elements[9],e.elements[10]).length();return this.x=t,this.y=r,this.z=i,this},setFromMatrixColumn:function(e,t){var r=4*e,i=t.elements;return this.x=i[r],this.y=i[r+1],this.z=i[r+2],this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e){return this.x=e[0],this.y=e[1],this.z=e[2],this},toArray:function(){return[this.x,this.y,this.z]},clone:function(){return new n.Vector3(this.x,this.y,this.z)}},n.Vector4=function(e,t,r,i){this.x=e||0,this.y=t||0,this.z=r||0,this.w=void 0!==i?i:1},n.Vector4.prototype={constructor:n.Vector4,set:function(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector4's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector4's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,r=this.y,i=this.z,n=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*n,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*n,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*n,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*n,this},divideScalar:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t,this.z*=t,this.w*=t}else this.x=0,this.y=0,this.z=0,this.w=1;return this},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,r,i,n,o=e.elements,a=o[0],s=o[4],c=o[8],l=o[1],u=o[5],h=o[9],f=o[2],p=o[6],d=o[10];if(Math.abs(s-l)<.01&&Math.abs(c-f)<.01&&Math.abs(h-p)<.01){if(Math.abs(s+l)<.1&&Math.abs(c+f)<.1&&Math.abs(h+p)<.1&&Math.abs(a+u+d-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(a+1)/2,v=(u+1)/2,g=(d+1)/2,y=(s+l)/4,x=(c+f)/4,b=(h+p)/4;return m>v&&m>g?m<.01?(r=0,i=.707106781,n=.707106781):(r=Math.sqrt(m),i=y/r,n=x/r):v>g?v<.01?(r=.707106781,i=0,n=.707106781):(i=Math.sqrt(v),r=y/i,n=b/i):g<.01?(r=.707106781,i=.707106781,n=0):(n=Math.sqrt(g),r=x/n,i=b/n),this.set(r,i,n,t),this}var w=Math.sqrt((p-h)*(p-h)+(c-f)*(c-f)+(l-s)*(l-s));return Math.abs(w)<.001&&(w=1),this.x=(p-h)/w,this.y=(c-f)/w,this.z=(l-s)/w,this.w=Math.acos((a+u+d-1)/2),this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this.w>e.w&&(this.w=e.w),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this.w<e.w&&(this.w=e.w),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this.w<e.w?this.w=e.w:this.w>t.w&&(this.w=t.w),this},clampScalar:function(){var e,t;return function(r,i){return void 0===e&&(e=new n.Vector4,t=new n.Vector4),e.set(r,r,r,r),t.set(i,i,i,i),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e){return this.x=e[0],this.y=e[1],this.z=e[2],this.w=e[3],this},toArray:function(){return[this.x,this.y,this.z,this.w]},clone:function(){return new n.Vector4(this.x,this.y,this.z,this.w)}},n.Euler=function(e,t,r,i){this._x=e||0,this._y=t||0,this._z=r||0,this._order=i||n.Euler.DefaultOrder},n.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],n.Euler.DefaultOrder="XYZ",n.Euler.prototype={constructor:n.Euler,_x:0,_y:0,_z:0,_order:n.Euler.DefaultOrder,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get order(){return this._order},set order(e){this._order=e,this.onChangeCallback()},set:function(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._order=i||this._order,this.onChangeCallback(),this},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t){var r=n.Math.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],c=i[1],l=i[5],u=i[9],h=i[2],f=i[6],p=i[10];return t=t||this._order,"XYZ"===t?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===t?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(f,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,l))):"YZX"===t?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===t?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,l),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,p),this._y=0)):console.warn("WARNING: Euler.setFromRotationMatrix() given unsupported order: "+t),this._order=t,this.onChangeCallback(),this},setFromQuaternion:function(e,t,r){var i=n.Math.clamp,o=e.x*e.x,a=e.y*e.y,s=e.z*e.z,c=e.w*e.w;return t=t||this._order,"XYZ"===t?(this._x=Math.atan2(2*(e.x*e.w-e.y*e.z),c-o-a+s),this._y=Math.asin(i(2*(e.x*e.z+e.y*e.w),-1,1)),this._z=Math.atan2(2*(e.z*e.w-e.x*e.y),c+o-a-s)):"YXZ"===t?(this._x=Math.asin(i(2*(e.x*e.w-e.y*e.z),-1,1)),this._y=Math.atan2(2*(e.x*e.z+e.y*e.w),c-o-a+s),this._z=Math.atan2(2*(e.x*e.y+e.z*e.w),c-o+a-s)):"ZXY"===t?(this._x=Math.asin(i(2*(e.x*e.w+e.y*e.z),-1,1)),this._y=Math.atan2(2*(e.y*e.w-e.z*e.x),c-o-a+s),this._z=Math.atan2(2*(e.z*e.w-e.x*e.y),c-o+a-s)):"ZYX"===t?(this._x=Math.atan2(2*(e.x*e.w+e.z*e.y),c-o-a+s),this._y=Math.asin(i(2*(e.y*e.w-e.x*e.z),-1,1)),this._z=Math.atan2(2*(e.x*e.y+e.z*e.w),c+o-a-s)):"YZX"===t?(this._x=Math.atan2(2*(e.x*e.w-e.z*e.y),c-o+a-s),this._y=Math.atan2(2*(e.y*e.w-e.x*e.z),c+o-a-s),this._z=Math.asin(i(2*(e.x*e.y+e.z*e.w),-1,1))):"XZY"===t?(this._x=Math.atan2(2*(e.x*e.w+e.y*e.z),c-o+a-s),this._y=Math.atan2(2*(e.x*e.z+e.y*e.w),c+o-a-s),this._z=Math.asin(i(2*(e.z*e.w-e.x*e.y),-1,1))):console.warn("WARNING: Euler.setFromQuaternion() given unsupported order: "+t),this._order=t,!1!==r&&this.onChangeCallback(),this},reorder:function(){var e=new n.Quaternion;return function(t){e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(){return[this._x,this._y,this._z,this._order]},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){},clone:function(){return new n.Euler(this._x,this._y,this._z,this._order)}},n.Line3=function(e,t){this.start=void 0!==e?e:new n.Vector3,this.end=void 0!==t?t:new n.Vector3},n.Line3.prototype={constructor:n.Line3,set:function(e,t){return this.start.copy(e),this.end.copy(t),this},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},center:function(e){return(e||new n.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new n.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var r=t||new n.Vector3;return this.delta(r).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new n.Vector3,t=new n.Vector3;return function(r,i){e.subVectors(r,this.start),t.subVectors(this.end,this.start);var o=t.dot(t),a=t.dot(e),s=a/o;return i&&(s=n.Math.clamp(s,0,1)),s}}(),closestPointToPoint:function(e,t,r){var i=this.closestPointToPointParameter(e,t),o=r||new n.Vector3;return this.delta(o).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)},clone:function(){return(new n.Line3).copy(this)}},n.Box2=function(e,t){this.min=void 0!==e?e:new n.Vector2(1/0,1/0),this.max=void 0!==t?t:new n.Vector2(-1/0,-1/0)},n.Box2.prototype={constructor:n.Box2,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){if(e.length>0){var t=e[0];this.min.copy(t),this.max.copy(t);for(var r=1,i=e.length;r<i;r++)t=e[r],t.x<this.min.x?this.min.x=t.x:t.x>this.max.x&&(this.max.x=t.x),t.y<this.min.y?this.min.y=t.y:t.y>this.max.y&&(this.max.y=t.y)}else this.makeEmpty();return this},setFromCenterAndSize:function(){var e=new n.Vector2;return function(t,r){var i=e.copy(r).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}}(),copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(e){return(e||new n.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){return(e||new n.Vector2).subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new n.Vector2).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new n.Vector2).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new n.Vector2;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},clone:function(){return(new n.Box2).copy(this)}},n.Box3=function(e,t){this.min=void 0!==e?e:new n.Vector3(1/0,1/0,1/0),this.max=void 0!==t?t:new n.Vector3(-1/0,-1/0,-1/0)},n.Box3.prototype={constructor:n.Box3,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},addPoint:function(e){return e.x<this.min.x?this.min.x=e.x:e.x>this.max.x&&(this.max.x=e.x),e.y<this.min.y?this.min.y=e.y:e.y>this.max.y&&(this.max.y=e.y),e.z<this.min.z?this.min.z=e.z:e.z>this.max.z&&(this.max.z=e.z),this},setFromPoints:function(e){if(e.length>0){var t=e[0];this.min.copy(t),this.max.copy(t);for(var r=1,i=e.length;r<i;r++)this.addPoint(e[r])}else this.makeEmpty();return this},setFromCenterAndSize:function(){var e=new n.Vector3;return function(t,r){var i=e.copy(r).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}}(),setFromObject:function(){var e=new n.Vector3;return function(t){var r=this;return t.updateMatrixWorld(!0),this.makeEmpty(),t.traverse(function(t){if(void 0!==t.geometry&&void 0!==t.geometry.vertices)for(var i=t.geometry.vertices,n=0,o=i.length;n<o;n++)e.copy(i[n]),e.applyMatrix4(t.matrixWorld),r.expandByPoint(e)}),this}}(),copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(e){return(e||new n.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){return(e||new n.Vector3).subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new n.Vector3).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},clampPoint:function(e,t){return(t||new n.Vector3).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new n.Vector3;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new n.Vector3;return function(t){var r=t||new n.Sphere;return r.center=this.center(),r.radius=.5*this.size(e).length(),r}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3,new n.Vector3];return function(t){return e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.makeEmpty(),this.setFromPoints(e),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},clone:function(){return(new n.Box3).copy(this)}},n.Matrix3=function(e,t,r,i,n,o,a,s,c){this.elements=new Float32Array(9);var l=this.elements;l[0]=void 0!==e?e:1,l[3]=t||0,l[6]=r||0,l[1]=i||0,l[4]=void 0!==n?n:1,l[7]=o||0,l[2]=a||0,l[5]=s||0,l[8]=void 0!==c?c:1},n.Matrix3.prototype={constructor:n.Matrix3,set:function(e,t,r,i,n,o,a,s,c){var l=this.elements;return l[0]=e,l[3]=t,l[6]=r,l[1]=i,l[4]=n,l[7]=o,l[2]=a,l[5]=s,l[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]),this},multiplyVector3:function(e){return console.warn("DEPRECATED: Matrix3's .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(e){return console.warn("DEPRECATED: Matrix3's .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToVector3Array:function(){var e=new n.Vector3;return function(t,r,i){void 0===r&&(r=0),void 0===i&&(i=t.length);for(var n=0,o=r;n<i;n+=3,o+=3)e.x=t[o],e.y=t[o+1],e.z=t[o+2],e.applyMatrix3(this),t[o]=e.x,t[o+1]=e.y,t[o+2]=e.z;return t}}(),multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],r=e[1],i=e[2],n=e[3],o=e[4],a=e[5],s=e[6],c=e[7],l=e[8];return t*o*l-t*a*c-r*n*l+r*a*s+i*n*c-i*o*s},getInverse:function(e,t){var r=e.elements,i=this.elements;i[0]=r[10]*r[5]-r[6]*r[9],i[1]=-r[10]*r[1]+r[2]*r[9],i[2]=r[6]*r[1]-r[2]*r[5],i[3]=-r[10]*r[4]+r[6]*r[8],i[4]=r[10]*r[0]-r[2]*r[8],i[5]=-r[6]*r[0]+r[2]*r[4],i[6]=r[9]*r[4]-r[5]*r[8],i[7]=-r[9]*r[0]+r[1]*r[8],i[8]=r[5]*r[0]-r[1]*r[4];var n=r[0]*i[0]+r[1]*i[3]+r[2]*i[6];if(0===n){var o="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(o);return console.warn(o),this.identity(),this}return this.multiplyScalar(1/n),this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},flattenToArrayOffset:function(e,t){var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e},getNormalMatrix:function(e){return this.getInverse(e).transpose(),this},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},clone:function(){var e=this.elements;return new n.Matrix3(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])}},n.Matrix4=function(e,t,r,i,n,o,a,s,c,l,u,h,f,p,d,m){this.elements=new Float32Array(16);var v=this.elements;v[0]=void 0!==e?e:1,v[4]=t||0,v[8]=r||0,v[12]=i||0,v[1]=n||0,v[5]=void 0!==o?o:1,v[9]=a||0,v[13]=s||0,v[2]=c||0,v[6]=l||0,v[10]=void 0!==u?u:1,v[14]=h||0,v[3]=f||0,v[7]=p||0,v[11]=d||0,v[15]=void 0!==m?m:1},n.Matrix4.prototype={constructor:n.Matrix4,set:function(e,t,r,i,n,o,a,s,c,l,u,h,f,p,d,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=r,v[12]=i,v[1]=n,v[5]=o,v[9]=a,v[13]=s,v[2]=c,v[6]=l,v[10]=u,v[14]=h,v[3]=f,v[7]=p,v[11]=d,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(e){return this.elements.set(e.elements),this},extractPosition:function(e){return console.warn("DEPRECATED: Matrix4's .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},copyPosition:function(e){var t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this},extractRotation:function(){var e=new n.Vector3;return function(t){var r=this.elements,i=t.elements,n=1/e.set(i[0],i[1],i[2]).length(),o=1/e.set(i[4],i[5],i[6]).length(),a=1/e.set(i[8],i[9],i[10]).length();return r[0]=i[0]*n,r[1]=i[1]*n,r[2]=i[2]*n,r[4]=i[4]*o,r[5]=i[5]*o,r[6]=i[6]*o,r[8]=i[8]*a,r[9]=i[9]*a,r[10]=i[10]*a,this}}(),makeRotationFromEuler:function(e){e instanceof n.Euler==!1&&console.error("ERROR: Matrix's .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.  Please update your code.");var t=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),c=Math.cos(i),l=Math.sin(i),u=Math.cos(o),h=Math.sin(o);if("XYZ"===e.order){var f=a*u,p=a*h,d=s*u,m=s*h;t[0]=c*u,t[4]=-c*h,t[8]=l,t[1]=p+d*l,t[5]=f-m*l,t[9]=-s*c,t[2]=m-f*l,t[6]=d+p*l,t[10]=a*c}else if("YXZ"===e.order){var v=c*u,g=c*h,y=l*u,x=l*h;t[0]=v+x*s,t[4]=y*s-g,t[8]=a*l,t[1]=a*h,t[5]=a*u,t[9]=-s,t[2]=g*s-y,t[6]=x+v*s,t[10]=a*c}else if("ZXY"===e.order){var v=c*u,g=c*h,y=l*u,x=l*h;t[0]=v-x*s,t[4]=-a*h,t[8]=y+g*s,t[1]=g+y*s,t[5]=a*u,t[9]=x-v*s,t[2]=-a*l,t[6]=s,t[10]=a*c}else if("ZYX"===e.order){var f=a*u,p=a*h,d=s*u,m=s*h;t[0]=c*u,t[4]=d*l-p,t[8]=f*l+m,t[1]=c*h,t[5]=m*l+f,t[9]=p*l-d,t[2]=-l,t[6]=s*c,t[10]=a*c}else if("YZX"===e.order){var b=a*c,w=a*l,_=s*c,M=s*l;t[0]=c*u,t[4]=M-b*h,t[8]=_*h+w,t[1]=h,t[5]=a*u,t[9]=-s*u,t[2]=-l*u,t[6]=w*h+_,t[10]=b-M*h}else if("XZY"===e.order){var b=a*c,w=a*l,_=s*c,M=s*l;t[0]=c*u,t[4]=-h,t[8]=l*u,t[1]=b*h+M,t[5]=a*u,t[9]=w*h-_,t[2]=_*h-w,t[6]=s*u,t[10]=M*h+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},setRotationFromQuaternion:function(e){return console.warn("DEPRECATED: Matrix4's .setRotationFromQuaternion() has been deprecated in favor of makeRotationFromQuaternion.  Please update your code."),this.makeRotationFromQuaternion(e)},makeRotationFromQuaternion:function(e){var t=this.elements,r=e.x,i=e.y,n=e.z,o=e.w,a=r+r,s=i+i,c=n+n,l=r*a,u=r*s,h=r*c,f=i*s,p=i*c,d=n*c,m=o*a,v=o*s,g=o*c;return t[0]=1-(f+d),t[4]=u-g,t[8]=h+v,t[1]=u+g,t[5]=1-(l+d),t[9]=p-m,t[2]=h-v,t[6]=p+m,t[10]=1-(l+f),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new n.Vector3,t=new n.Vector3,r=new n.Vector3;return function(i,n,o){var a=this.elements;return r.subVectors(i,n).normalize(),0===r.length()&&(r.z=1),e.crossVectors(o,r).normalize(),0===e.length()&&(r.x+=1e-4,e.crossVectors(o,r).normalize()),t.crossVectors(r,e),a[0]=e.x,a[4]=t.x,a[8]=r.x,a[1]=e.y,a[5]=t.y,a[9]=r.y,a[2]=e.z,a[6]=t.z,a[10]=r.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Matrix4's .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},multiplyMatrices:function(e,t){var r=e.elements,i=t.elements,n=this.elements,o=r[0],a=r[4],s=r[8],c=r[12],l=r[1],u=r[5],h=r[9],f=r[13],p=r[2],d=r[6],m=r[10],v=r[14],g=r[3],y=r[7],x=r[11],b=r[15],w=i[0],_=i[4],M=i[8],S=i[12],C=i[1],T=i[5],A=i[9],E=i[13],L=i[2],P=i[6],D=i[10],R=i[14],F=i[3],k=i[7],O=i[11],U=i[15];return n[0]=o*w+a*C+s*L+c*F,n[4]=o*_+a*T+s*P+c*k,n[8]=o*M+a*A+s*D+c*O,n[12]=o*S+a*E+s*R+c*U,n[1]=l*w+u*C+h*L+f*F,n[5]=l*_+u*T+h*P+f*k,n[9]=l*M+u*A+h*D+f*O,n[13]=l*S+u*E+h*R+f*U,n[2]=p*w+d*C+m*L+v*F,n[6]=p*_+d*T+m*P+v*k,n[10]=p*M+d*A+m*D+v*O,n[14]=p*S+d*E+m*R+v*U,n[3]=g*w+y*C+x*L+b*F,n[7]=g*_+y*T+x*P+b*k,n[11]=g*M+y*A+x*D+b*O,n[15]=g*S+y*E+x*R+b*U,this},multiplyToArray:function(e,t,r){var i=this.elements;return this.multiplyMatrices(e,t),r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],r[9]=i[9],r[10]=i[10],r[11]=i[11],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15],this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},multiplyVector3:function(e){return console.warn("DEPRECATED: Matrix4's .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),e.applyProjection(this)},multiplyVector4:function(e){return console.warn("DEPRECATED: Matrix4's .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(e){return console.warn("DEPRECATED: Matrix4's .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToVector3Array:function(){var e=new n.Vector3;return function(t,r,i){void 0===r&&(r=0),void 0===i&&(i=t.length);for(var n=0,o=r;n<i;n+=3,o+=3)e.x=t[o],e.y=t[o+1],e.z=t[o+2],e.applyMatrix4(this),t[o]=e.x,t[o+1]=e.y,t[o+2]=e.z;return t}}(),rotateAxis:function(e){console.warn("DEPRECATED: Matrix4's .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("DEPRECATED: Matrix4's .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},determinant:function(){var e=this.elements,t=e[0],r=e[4],i=e[8],n=e[12],o=e[1],a=e[5],s=e[9],c=e[13],l=e[2],u=e[6],h=e[10],f=e[14];return e[3]*(+n*s*u-i*c*u-n*a*h+r*c*h+i*a*f-r*s*f)+e[7]*(+t*s*f-t*c*h+n*o*h-i*o*f+i*c*l-n*s*l)+e[11]*(+t*c*u-t*a*f-n*o*u+r*o*f+n*a*l-r*c*l)+e[15]*(-i*a*l-t*s*u+t*a*h+i*o*u-r*o*h+r*s*l)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},flattenToArrayOffset:function(e,t){var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e},getPosition:function(){var e=new n.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var t=this.elements;return e.set(t[12],t[13],t[14])}}(),setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var r=this.elements,i=e.elements,n=i[0],o=i[4],a=i[8],s=i[12],c=i[1],l=i[5],u=i[9],h=i[13],f=i[2],p=i[6],d=i[10],m=i[14],v=i[3],g=i[7],y=i[11],x=i[15];r[0]=u*m*g-h*d*g+h*p*y-l*m*y-u*p*x+l*d*x,r[4]=s*d*g-a*m*g-s*p*y+o*m*y+a*p*x-o*d*x,r[8]=a*h*g-s*u*g+s*l*y-o*h*y-a*l*x+o*u*x,r[12]=s*u*p-a*h*p-s*l*d+o*h*d+a*l*m-o*u*m,r[1]=h*d*v-u*m*v-h*f*y+c*m*y+u*f*x-c*d*x,r[5]=a*m*v-s*d*v+s*f*y-n*m*y-a*f*x+n*d*x,r[9]=s*u*v-a*h*v-s*c*y+n*h*y+a*c*x-n*u*x,r[13]=a*h*f-s*u*f+s*c*d-n*h*d-a*c*m+n*u*m,r[2]=l*m*v-h*p*v+h*f*g-c*m*g-l*f*x+c*p*x,r[6]=s*p*v-o*m*v-s*f*g+n*m*g+o*f*x-n*p*x,r[10]=o*h*v-s*l*v+s*c*g-n*h*g-o*c*x+n*l*x,r[14]=s*l*f-o*h*f-s*c*p+n*h*p+o*c*m-n*l*m,r[3]=u*p*v-l*d*v-u*f*g+c*d*g+l*f*y-c*p*y,r[7]=o*d*v-a*p*v+a*f*g-n*d*g-o*f*y+n*p*y,r[11]=a*l*v-o*u*v-a*c*g+n*u*g+o*c*y-n*l*y,r[15]=o*u*f-a*l*f+a*c*p-n*u*p-o*c*d+n*l*d;var b=n*r[0]+c*r[4]+f*r[8]+v*r[12];if(0==b){var w="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(w);return console.warn(w),this.identity(),this}return this.multiplyScalar(1/b),this},translate:function(e){console.warn("DEPRECATED: Matrix4's .translate() has been removed.")},rotateX:function(e){console.warn("DEPRECATED: Matrix4's .rotateX() has been removed.")},rotateY:function(e){console.warn("DEPRECATED: Matrix4's .rotateY() has been removed.")},rotateZ:function(e){console.warn("DEPRECATED: Matrix4's .rotateZ() has been removed.")},rotateByAxis:function(e,t){console.warn("DEPRECATED: Matrix4's .rotateByAxis() has been removed.")},scale:function(e){var t=this.elements,r=e.x,i=e.y,n=e.z;return t[0]*=r,t[4]*=i,t[8]*=n,t[1]*=r,t[5]*=i,t[9]*=n,t[2]*=r,t[6]*=i,t[10]*=n,t[3]*=r,t[7]*=i,t[11]*=n,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,Math.max(r,i)))},makeTranslation:function(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var r=Math.cos(t),i=Math.sin(t),n=1-r,o=e.x,a=e.y,s=e.z,c=n*o,l=n*a;return this.set(c*o+r,c*a-i*s,c*s+i*a,0,c*a+i*s,l*a+r,l*s-i*o,0,c*s-i*a,l*s+i*o,n*s*s+r,0,0,0,0,1),this},makeScale:function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this},compose:function(e,t,r){return this.makeRotationFromQuaternion(t),this.scale(r),this.setPosition(e),this},decompose:function(){var e=new n.Vector3,t=new n.Matrix4;return function(r,i,n){var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),c=e.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),r.x=o[12],r.y=o[13],r.z=o[14],t.elements.set(this.elements);var l=1/a,u=1/s,h=1/c;return t.elements[0]*=l,t.elements[1]*=l,t.elements[2]*=l,t.elements[4]*=u,t.elements[5]*=u,t.elements[6]*=u,t.elements[8]*=h,t.elements[9]*=h,t.elements[10]*=h,i.setFromRotationMatrix(t),n.x=a,n.y=s,n.z=c,this}}(),makeFrustum:function(e,t,r,i,n,o){var a=this.elements,s=2*n/(t-e),c=2*n/(i-r),l=(t+e)/(t-e),u=(i+r)/(i-r),h=-(o+n)/(o-n),f=-2*o*n/(o-n);return a[0]=s,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(e,t,r,i){var o=r*Math.tan(n.Math.degToRad(.5*e)),a=-o,s=a*t,c=o*t;return this.makeFrustum(s,c,a,o,r,i)},makeOrthographic:function(e,t,r,i,n,o){var a=this.elements,s=t-e,c=r-i,l=o-n,u=(t+e)/s,h=(r+i)/c,f=(o+n)/l;return a[0]=2/s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2/c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2/l,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},clone:function(){var e=this.elements;return new n.Matrix4(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])}},n.Ray=function(e,t){this.origin=void 0!==e?e:new n.Vector3,this.direction=void 0!==t?t:new n.Vector3},n.Ray.prototype={constructor:n.Ray,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new n.Vector3).copy(this.direction).multiplyScalar(e).add(this.origin)},recast:function(){var e=new n.Vector3;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var r=t||new n.Vector3;r.subVectors(e,this.origin);var i=r.dot(this.direction);return i<0?r.copy(this.origin):r.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(){var e=new n.Vector3;return function(t){var r=e.subVectors(t,this.origin).dot(this.direction);return r<0?this.origin.distanceTo(t):(e.copy(this.direction).multiplyScalar(r).add(this.origin),e.distanceTo(t))}}(),distanceSqToSegment:function(e,t,r,i){var n,o,a,s,c=e.clone().add(t).multiplyScalar(.5),l=t.clone().sub(e).normalize(),u=.5*e.distanceTo(t),h=this.origin.clone().sub(c),f=-this.direction.dot(l),p=h.dot(this.direction),d=-h.dot(l),m=h.lengthSq(),v=Math.abs(1-f*f);if(v>=0)if(n=f*d-p,o=f*p-d,s=u*v,n>=0)if(o>=-s)if(o<=s){var g=1/v;n*=g,o*=g,a=n*(n+f*o+2*p)+o*(f*n+o+2*d)+m}else o=u,n=Math.max(0,-(f*o+p)),a=-n*n+o*(o+2*d)+m;else o=-u,n=Math.max(0,-(f*o+p)),a=-n*n+o*(o+2*d)+m;else o<=-s?(n=Math.max(0,-(-f*u+p)),o=n>0?-u:Math.min(Math.max(-u,-d),u),a=-n*n+o*(o+2*d)+m):o<=s?(n=0,o=Math.min(Math.max(-u,-d),u),a=o*(o+2*d)+m):(n=Math.max(0,-(f*u+p)),o=n>0?u:Math.min(Math.max(-u,-d),u),a=-n*n+o*(o+2*d)+m);else o=f>0?-u:u,n=Math.max(0,-(f*o+p)),a=-n*n+o*(o+2*d)+m;return r&&r.copy(this.direction.clone().multiplyScalar(n).add(this.origin)),i&&i.copy(l.clone().multiplyScalar(o).add(c)),a},isIntersectionSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},isIntersectionPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0==t)return 0==e.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null},intersectPlane:function(e,t){var r=this.distanceToPlane(e);return null===r?null:this.at(r,t)},isIntersectionBox:function(){var e=new n.Vector3;return function(t){return null!==this.intersectBox(t,e)}}(),intersectBox:function(e,t){var r,i,n,o,a,s,c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(r=(e.min.x-h.x)*c,i=(e.max.x-h.x)*c):(r=(e.max.x-h.x)*c,i=(e.min.x-h.x)*c),l>=0?(n=(e.min.y-h.y)*l,o=(e.max.y-h.y)*l):(n=(e.max.y-h.y)*l,o=(e.min.y-h.y)*l),r>o||n>i?null:((n>r||r!==r)&&(r=n),(o<i||i!==i)&&(i=o),u>=0?(a=(e.min.z-h.z)*u,s=(e.max.z-h.z)*u):(a=(e.max.z-h.z)*u,s=(e.min.z-h.z)*u),r>s||a>i?null:((a>r||r!==r)&&(r=a),(s<i||i!==i)&&(i=s),i<0?null:this.at(r>=0?r:i,t)))},intersectTriangle:function(){var e=new n.Vector3,t=new n.Vector3,r=new n.Vector3,i=new n.Vector3;return function(n,o,a,s,c){t.subVectors(o,n),r.subVectors(a,n),i.crossVectors(t,r);var l,u=this.direction.dot(i);if(u>0){if(s)return null;l=1}else{if(!(u<0))return null;l=-1,u=-u}e.subVectors(this.origin,n);var h=l*this.direction.dot(r.crossVectors(e,r));if(h<0)return null;var f=l*this.direction.dot(t.cross(e));if(f<0)return null;if(h+f>u)return null;var p=-l*e.dot(i);return p<0?null:this.at(p/u,c)}}(),applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)},clone:function(){return(new n.Ray).copy(this)}},n.Sphere=function(e,t){this.center=void 0!==e?e:new n.Vector3,this.radius=void 0!==t?t:0},n.Sphere.prototype={constructor:n.Sphere,set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new n.Box3;return function(t,r){var i=this.center;void 0!==r?i.copy(r):e.setFromPoints(t).center(i);for(var n=0,o=0,a=t.length;o<a;o++)n=Math.max(n,i.distanceToSquared(t[o]));return this.radius=Math.sqrt(n),this}}(),copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},clampPoint:function(e,t){var r=this.center.distanceToSquared(e),i=t||new n.Vector3;return i.copy(e),r>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i},getBoundingBox:function(e){var t=e||new n.Box3;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius},clone:function(){return(new n.Sphere).copy(this)}},n.Frustum=function(e,t,r,i,o,a){this.planes=[void 0!==e?e:new n.Plane,void 0!==t?t:new n.Plane,void 0!==r?r:new n.Plane,void 0!==i?i:new n.Plane,void 0!==o?o:new n.Plane,void 0!==a?a:new n.Plane]},n.Frustum.prototype={constructor:n.Frustum,set:function(e,t,r,i,n,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(n),a[5].copy(o),this},copy:function(e){for(var t=this.planes,r=0;r<6;r++)t[r].copy(e.planes[r]);return this},setFromMatrix:function(e){var t=this.planes,r=e.elements,i=r[0],n=r[1],o=r[2],a=r[3],s=r[4],c=r[5],l=r[6],u=r[7],h=r[8],f=r[9],p=r[10],d=r[11],m=r[12],v=r[13],g=r[14],y=r[15];return t[0].setComponents(a-i,u-s,d-h,y-m).normalize(),t[1].setComponents(a+i,u+s,d+h,y+m).normalize(),t[2].setComponents(a+n,u+c,d+f,y+v).normalize(),t[3].setComponents(a-n,u-c,d-f,y-v).normalize(),t[4].setComponents(a-o,u-l,d-p,y-g).normalize(),t[5].setComponents(a+o,u+l,d+p,y+g).normalize(),this},intersectsObject:function(){var e=new n.Sphere;return function(t){var r=t.geometry;return null===r.boundingSphere&&r.computeBoundingSphere(),e.copy(r.boundingSphere),e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,r=e.center,i=-e.radius,n=0;n<6;n++){if(t[n].distanceToPoint(r)<i)return!1}return!0},intersectsBox:function(){var e=new n.Vector3,t=new n.Vector3;return function(r){for(var i=this.planes,n=0;n<6;n++){var o=i[n];e.x=o.normal.x>0?r.min.x:r.max.x,t.x=o.normal.x>0?r.max.x:r.min.x,e.y=o.normal.y>0?r.min.y:r.max.y,t.y=o.normal.y>0?r.max.y:r.min.y,e.z=o.normal.z>0?r.min.z:r.max.z,t.z=o.normal.z>0?r.max.z:r.min.z;var a=o.distanceToPoint(e),s=o.distanceToPoint(t);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0},clone:function(){return(new n.Frustum).copy(this)}},n.Plane=function(e,t){this.normal=void 0!==e?e:new n.Vector3(1,0,0),this.constant=void 0!==t?t:0},n.Plane.prototype={constructor:n.Plane,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new n.Vector3,t=new n.Vector3;return function(r,i,n){var o=e.subVectors(n,i).cross(t.subVectors(r,i)).normalize();return this.setFromNormalAndCoplanarPoint(o,r),this}}(),copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var r=this.distanceToPoint(e);return(t||new n.Vector3).copy(this.normal).multiplyScalar(r)},isIntersectionLine:function(e){var t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0},intersectLine:function(){var e=new n.Vector3;return function(t,r){var i=r||new n.Vector3,o=t.delta(e),a=this.normal.dot(o);if(0!=a){var s=-(t.start.dot(this.normal)+this.constant)/a;if(!(s<0||s>1))return i.copy(o).multiplyScalar(s).add(t.start)}else if(0==this.distanceToPoint(t.start))return i.copy(t.start)}}(),coplanarPoint:function(e){return(e||new n.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new n.Vector3,t=new n.Vector3,r=new n.Matrix3;return function(i,n){var o=n||r.getNormalMatrix(i),a=e.copy(this.normal).applyMatrix3(o),s=this.coplanarPoint(t);return s.applyMatrix4(i),this.setFromNormalAndCoplanarPoint(a,s),this}}(),translate:function(e){return this.constant=this.constant-e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant==this.constant},clone:function(){return(new n.Plane).copy(this)}},n.Math={generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=new Array(36),i=0;return function(){for(var n=0;n<36;n++)8==n||13==n||18==n||23==n?r[n]="-":14==n?r[n]="4":(i<=2&&(i=33554432+16777216*Math.random()|0),e=15&i,i>>=4,r[n]=t[19==n?3&e|8:e]);return r.join("")}}(),clamp:function(e,t,r){return e<t?t:e>r?r:e},clampBottom:function(e,t){return e<t?t:e},mapLinear:function(e,t,r,i,n){return i+(e-t)*(n-i)/(r-t)},smoothstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*(3-2*e)},smootherstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},sign:function(e){return e<0?-1:e>0?1:0},degToRad:function(){var e=Math.PI/180;return function(t){return t*e}}(),radToDeg:function(){var e=180/Math.PI;return function(t){return t*e}}(),isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e}},n.Spline=function(e){function t(e,t,r,i,n,o,a){var s=.5*(r-e),c=.5*(i-t);return(2*(t-r)+s+c)*a+(-3*(t-r)-2*s-c)*o+s*n+t}this.points=e;var r,i,o,a,s,c,l,u,h,f=[],p={x:0,y:0,z:0};this.initFromArray=function(e){this.points=[];for(var t=0;t<e.length;t++)this.points[t]={x:e[t][0],y:e[t][1],z:e[t][2]}},this.getPoint=function(e){return r=(this.points.length-1)*e,i=Math.floor(r),o=r-i,f[0]=0===i?i:i-1,f[1]=i,f[2]=i>this.points.length-2?this.points.length-1:i+1,f[3]=i>this.points.length-3?this.points.length-1:i+2,c=this.points[f[0]],l=this.points[f[1]],u=this.points[f[2]],h=this.points[f[3]],a=o*o,s=o*a,p.x=t(c.x,l.x,u.x,h.x,o,a,s),p.y=t(c.y,l.y,u.y,h.y,o,a,s),p.z=t(c.z,l.z,u.z,h.z,o,a,s),p},this.getControlPointsArray=function(){var e,t,r=this.points.length,i=[];for(e=0;e<r;e++)t=this.points[e],i[e]=[t.x,t.y,t.z];return i},this.getLength=function(e){var t,r,i,o,a=0,s=0,c=0,l=new n.Vector3,u=new n.Vector3,h=[],f=0;for(h[0]=0,e||(e=100),i=this.points.length*e,l.copy(this.points[0]),t=1;t<i;t++)r=t/i,o=this.getPoint(r),u.copy(o),f+=u.distanceTo(l),l.copy(o),a=(this.points.length-1)*r,(s=Math.floor(a))!=c&&(h[s]=f,c=s);return h[h.length]=f,{chunks:h,total:f}},this.reparametrizeByArcLength=function(e){var t,r,i,o,a,s,c,l,u=[],h=new n.Vector3,f=this.getLength();for(u.push(h.copy(this.points[0]).clone()),t=1;t<this.points.length;t++){for(s=f.chunks[t]-f.chunks[t-1],c=Math.ceil(e*s/f.total),o=(t-1)/(this.points.length-1),a=t/(this.points.length-1),r=1;r<c-1;r++)i=o+r*(1/c)*(a-o),l=this.getPoint(i),u.push(h.copy(l).clone());u.push(h.copy(this.points[t]).clone())}this.points=u}},n.Triangle=function(e,t,r){this.a=void 0!==e?e:new n.Vector3,this.b=void 0!==t?t:new n.Vector3,this.c=void 0!==r?r:new n.Vector3},n.Triangle.normal=function(){var e=new n.Vector3;return function(t,r,i,o){var a=o||new n.Vector3;a.subVectors(i,r),e.subVectors(t,r),a.cross(e);var s=a.lengthSq();return s>0?a.multiplyScalar(1/Math.sqrt(s)):a.set(0,0,0)}}(),n.Triangle.barycoordFromPoint=function(){var e=new n.Vector3,t=new n.Vector3,r=new n.Vector3;return function(i,o,a,s,c){e.subVectors(s,o),t.subVectors(a,o),r.subVectors(i,o);var l=e.dot(e),u=e.dot(t),h=e.dot(r),f=t.dot(t),p=t.dot(r),d=l*f-u*u,m=c||new n.Vector3;if(0==d)return m.set(-2,-1,-1);var v=1/d,g=(f*h-u*p)*v,y=(l*p-u*h)*v;return m.set(1-g-y,y,g)}}(),n.Triangle.containsPoint=function(){var e=new n.Vector3;return function(t,r,i,o){var a=n.Triangle.barycoordFromPoint(t,r,i,o,e);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}(),n.Triangle.prototype={constructor:n.Triangle,set:function(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this},setFromPointsAndIndices:function(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new n.Vector3,t=new n.Vector3;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){return(e||new n.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return n.Triangle.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new n.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return n.Triangle.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return n.Triangle.containsPoint(e,this.a,this.b,this.c)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)},clone:function(){return(new n.Triangle).copy(this)}},n.Vertex=function(e){return console.warn("THREE.Vertex has been DEPRECATED. Use THREE.Vector3 instead."),e},n.Clock=function(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},n.Clock.prototype={constructor:n.Clock,start:function(){this.startTime=void 0!==i.performance&&void 0!==i.performance.now?i.performance.now():Date.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running&&this.start(),this.running){var t=void 0!==i.performance&&void 0!==i.performance.now?i.performance.now():Date.now();e=.001*(t-this.oldTime),this.oldTime=t,this.elapsedTime+=e}return e}},n.EventDispatcher=function(){},n.EventDispatcher.prototype={constructor:n.EventDispatcher,apply:function(e){e.addEventListener=n.EventDispatcher.prototype.addEventListener,e.hasEventListener=n.EventDispatcher.prototype.hasEventListener,e.removeEventListener=n.EventDispatcher.prototype.removeEventListener,e.dispatchEvent=n.EventDispatcher.prototype.dispatchEvent},addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var r=this._listeners,i=r[e];if(void 0!==i){var n=i.indexOf(t);-1!==n&&i.splice(n,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,r=t[e.type];if(void 0!==r){e.target=this;for(var i=[],n=r.length,o=0;o<n;o++)i[o]=r[o];for(var o=0;o<n;o++)i[o].call(this,e)}}}},function(e){e.Raycaster=function(t,r,i,n){this.ray=new e.Ray(t,r),this.near=i||0,this.far=n||1/0};var t=new e.Sphere,r=new e.Ray,i=(new e.Plane,new e.Vector3,new e.Vector3),n=new e.Matrix4,o=function(e,t){return e.distance-t.distance},a=new e.Vector3,s=new e.Vector3,c=new e.Vector3,l=function(o,u,h){if(o instanceof e.Sprite){i.setFromMatrixPosition(o.matrixWorld);var f=u.ray.distanceToPoint(i);if(f>o.scale.x)return h;h.push({distance:f,point:o.position,face:null,object:o})}else if(o instanceof e.LOD){i.setFromMatrixPosition(o.matrixWorld);var f=u.ray.origin.distanceTo(i);l(o.getObjectForDistance(f),u,h)}else if(o instanceof e.Mesh){var p=o.geometry;if(null===p.boundingSphere&&p.computeBoundingSphere(),t.copy(p.boundingSphere),t.applyMatrix4(o.matrixWorld),!1===u.ray.isIntersectionSphere(t))return h;if(n.getInverse(o.matrixWorld),r.copy(u.ray).applyMatrix4(n),null!==p.boundingBox&&!1===r.isIntersectionBox(p.boundingBox))return h;if(p instanceof e.BufferGeometry){var d=o.material;if(void 0===d)return h;var m,v,g,y=p.attributes,x=u.precision;if(void 0!==y.index){var b=y.index.array,w=y.position.array,_=p.offsets;0===_.length&&(_=[{start:0,count:w.length,index:0}]);for(var M=0,S=_.length;M<S;++M)for(var C=_[M].start,T=_[M].count,A=_[M].index,E=C,L=C+T;E<L;E+=3){if(m=A+b[E],v=A+b[E+1],g=A+b[E+2],a.set(w[3*m],w[3*m+1],w[3*m+2]),s.set(w[3*v],w[3*v+1],w[3*v+2]),c.set(w[3*g],w[3*g+1],w[3*g+2]),d.side===e.BackSide)var P=r.intersectTriangle(c,s,a,!0);else var P=r.intersectTriangle(a,s,c,d.side!==e.DoubleSide);if(null!==P){P.applyMatrix4(o.matrixWorld);var f=u.ray.origin.distanceTo(P);f<x||f<u.near||f>u.far||h.push({distance:f,point:P,indices:[m,v,g],face:null,faceIndex:null,object:o})}}}else for(var _=p.offsets,w=y.position.array,E=0,L=y.position.array.length;E<L;E+=3){if(m=E,v=E+1,g=E+2,a.set(w[3*m],w[3*m+1],w[3*m+2]),s.set(w[3*v],w[3*v+1],w[3*v+2]),c.set(w[3*g],w[3*g+1],w[3*g+2]),d.side===e.BackSide)var P=r.intersectTriangle(c,s,a,!0);else var P=r.intersectTriangle(a,s,c,d.side!==e.DoubleSide);if(null!==P){P.applyMatrix4(o.matrixWorld);var f=u.ray.origin.distanceTo(P);f<x||f<u.near||f>u.far||h.push({distance:f,point:P,indices:[m,v,g],face:null,faceIndex:null,object:o})}}}else if(p instanceof e.Geometry)for(var m,v,g,D=o.material instanceof e.MeshFaceMaterial,R=!0===D?o.material.materials:null,x=u.precision,F=p.vertices,k=0,O=p.faces.length;k<O;k++){var U=p.faces[k],d=!0===D?R[U.materialIndex]:o.material;if(void 0!==d){if(m=F[U.a],v=F[U.b],g=F[U.c],!0===d.morphTargets){var N=p.morphTargets,V=o.morphTargetInfluences;a.set(0,0,0),s.set(0,0,0),c.set(0,0,0);for(var B=0,z=N.length;B<z;B++){var I=V[B];if(0!==I){var j=N[B].vertices;a.x+=(j[U.a].x-m.x)*I,a.y+=(j[U.a].y-m.y)*I,a.z+=(j[U.a].z-m.z)*I,s.x+=(j[U.b].x-v.x)*I,s.y+=(j[U.b].y-v.y)*I,s.z+=(j[U.b].z-v.z)*I,c.x+=(j[U.c].x-g.x)*I,c.y+=(j[U.c].y-g.y)*I,c.z+=(j[U.c].z-g.z)*I}}a.add(m),s.add(v),c.add(g),m=a,v=s,g=c}if(d.side===e.BackSide)var P=r.intersectTriangle(g,v,m,!0);else var P=r.intersectTriangle(m,v,g,d.side!==e.DoubleSide);if(null!==P){P.applyMatrix4(o.matrixWorld);var f=u.ray.origin.distanceTo(P);f<x||f<u.near||f>u.far||h.push({distance:f,point:P,face:U,faceIndex:k,object:o})}}}}else if(o instanceof e.Line){var x=u.linePrecision,H=x*x,p=o.geometry;if(null===p.boundingSphere&&p.computeBoundingSphere(),t.copy(p.boundingSphere),t.applyMatrix4(o.matrixWorld),!1===u.ray.isIntersectionSphere(t))return h;if(n.getInverse(o.matrixWorld),r.copy(u.ray).applyMatrix4(n),p instanceof e.Geometry)for(var F=p.vertices,G=F.length,W=new e.Vector3,X=new e.Vector3,q=o.type===e.LineStrip?1:2,E=0;E<G-1;E+=q){var $=r.distanceSqToSegment(F[E],F[E+1],X,W);if(!($>H)){var f=r.origin.distanceTo(X);f<u.near||f>u.far||h.push({distance:f,point:W.clone().applyMatrix4(o.matrixWorld),face:null,faceIndex:null,object:o})}}}},u=function(e,t,r){for(var i=e.getDescendants(),n=0,o=i.length;n<o;n++)l(i[n],t,r)};e.Raycaster.prototype.precision=1e-4,e.Raycaster.prototype.linePrecision=1,e.Raycaster.prototype.set=function(e,t){this.ray.set(e,t)},e.Raycaster.prototype.intersectObject=function(e,t){var r=[];return!0===t&&u(e,this,r),l(e,this,r),r.sort(o),r},e.Raycaster.prototype.intersectObjects=function(e,t){for(var r=[],i=0,n=e.length;i<n;i++)l(e[i],this,r),!0===t&&u(e[i],this,r);return r.sort(o),r}}(n),n.Object3D=function(){this.id=n.Object3DIdCount++,this.uuid=n.Math.generateUUID(),this.name="",this.parent=void 0,this.children=[],this.up=new n.Vector3(0,1,0),this.position=new n.Vector3;var e=this;Object.defineProperties(this,{rotation:{enumerable:!0,value:(new n.Euler).onChange(function(){e.quaternion.setFromEuler(e.rotation,!1)})},quaternion:{enumerable:!0,value:(new n.Quaternion).onChange(function(){e.rotation.setFromQuaternion(e.quaternion,void 0,!1)})},scale:{enumerable:!0,value:new n.Vector3(1,1,1)}}),this.renderDepth=null,this.rotationAutoUpdate=!0,this.matrix=new n.Matrix4,this.matrixWorld=new n.Matrix4,this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.userData={}},n.Object3D.prototype={constructor:n.Object3D,get eulerOrder(){return console.warn("DEPRECATED: Object3D's .eulerOrder has been moved to Object3D's .rotation.order."),this.rotation.order},set eulerOrder(e){console.warn("DEPRECATED: Object3D's .eulerOrder has been moved to Object3D's .rotation.order."),this.rotation.order=e},get useQuaternion(){console.warn("DEPRECATED: Object3D's .useQuaternion has been removed. The library now uses quaternions by default.")},set useQuaternion(e){console.warn("DEPRECATED: Object3D's .useQuaternion has been removed. The library now uses quaternions by default.")},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new n.Quaternion;return function(t,r){return e.setFromAxisAngle(t,r),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new n.Vector3(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new n.Vector3(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new n.Vector3(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new n.Vector3;return function(t,r){return e.copy(t),e.applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(r)),this}}(),translate:function(e,t){return console.warn("DEPRECATED: Object3D's .translate() has been removed. Use .translateOnAxis( axis, distance ) instead. Note args have been changed."),this.translateOnAxis(t,e)},translateX:function(){var e=new n.Vector3(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new n.Vector3(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new n.Vector3(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new n.Matrix4;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new n.Matrix4;return function(t){e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(e===this)return void console.warn("THREE.Object3D.add: An object can't be added as a child of itself.");if(e instanceof n.Object3D){void 0!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e);for(var t=this;void 0!==t.parent;)t=t.parent;void 0!==t&&t instanceof n.Scene&&t.__addObject(e)}},remove:function(e){var t=this.children.indexOf(e);if(-1!==t){e.parent=void 0,e.dispatchEvent({type:"removed"}),this.children.splice(t,1);for(var r=this;void 0!==r.parent;)r=r.parent;void 0!==r&&r instanceof n.Scene&&r.__removeObject(e)}},traverse:function(e){e(this);for(var t=0,r=this.children.length;t<r;t++)this.children[t].traverse(e)},getObjectById:function(e,t){for(var r=0,i=this.children.length;r<i;r++){var n=this.children[r];if(n.id===e)return n;if(!0===t&&void 0!==(n=n.getObjectById(e,t)))return n}},getObjectByName:function(e,t){for(var r=0,i=this.children.length;r<i;r++){var n=this.children[r];if(n.name===e)return n;if(!0===t&&void 0!==(n=n.getObjectByName(e,t)))return n}},getChildByName:function(e,t){return console.warn("DEPRECATED: Object3D's .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e,t)},getDescendants:function(e){void 0===e&&(e=[]),Array.prototype.push.apply(e,this.children);for(var t=0,r=this.children.length;t<r;t++)this.children[t].getDescendants(e);return e},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==e||(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=0,r=this.children.length;t<r;t++)this.children[t].updateMatrixWorld(e)},clone:function(e,t){if(void 0===e&&(e=new n.Object3D),void 0===t&&(t=!0),e.name=this.name,e.up.copy(this.up),e.position.copy(this.position),e.quaternion.copy(this.quaternion),e.scale.copy(this.scale),e.renderDepth=this.renderDepth,e.rotationAutoUpdate=this.rotationAutoUpdate,e.matrix.copy(this.matrix),e.matrixWorld.copy(this.matrixWorld),e.matrixAutoUpdate=this.matrixAutoUpdate,e.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,e.visible=this.visible,e.castShadow=this.castShadow,e.receiveShadow=this.receiveShadow,e.frustumCulled=this.frustumCulled,e.userData=JSON.parse(JSON.stringify(this.userData)),!0===t)for(var r=0;r<this.children.length;r++){var i=this.children[r];e.add(i.clone())}return e}},n.EventDispatcher.prototype.apply(n.Object3D.prototype),n.Object3DIdCount=0,n.Projector=function(){function e(){if(l===b){var e=new n.RenderableObject;return x.push(e),b++,l++,e}return x[l++]}function t(){if(h===_){var e=new n.RenderableVertex;return w.push(e),_++,h++,e}return w[h++]}function r(){if(p===S){var e=new n.RenderableFace;return M.push(e),S++,p++,e}return M[p++]}function i(){if(m===T){var e=new n.RenderableLine;return C.push(e),T++,m++,e}return C[m++]}function o(){if(g===E){var e=new n.RenderableSprite;return A.push(e),E++,g++,e}return A[g++]}function a(e,t){return e.z!==t.z?t.z-e.z:e.id!==t.id?e.id-t.id:0}function s(e,t){var r=0,i=1,n=e.z+e.w,o=t.z+t.w,a=-e.z+e.w,s=-t.z+t.w;return n>=0&&o>=0&&a>=0&&s>=0||!(n<0&&o<0||a<0&&s<0)&&(n<0?r=Math.max(r,n/(n-o)):o<0&&(i=Math.min(i,n/(n-o))),a<0?r=Math.max(r,a/(a-s)):s<0&&(i=Math.min(i,a/(a-s))),!(i<r)&&(e.lerp(t,r),t.lerp(e,1-i),!0))}var c,l,u,h,f,p,d,m,v,g,y,x=[],b=0,w=[],_=0,M=[],S=0,C=[],T=0,A=[],E=0,L={objects:[],lights:[],elements:[]},P=new n.Vector3,D=new n.Vector3,R=new n.Vector3,F=new n.Vector3,k=new n.Vector4,O=new n.Box3(new n.Vector3(-1,-1,-1),new n.Vector3(1,1,1)),U=new n.Box3,N=new Array(3),V=(new Array(4),new n.Matrix4),B=new n.Matrix4,z=new n.Matrix4,I=new n.Matrix3,j=new n.Frustum,H=new n.Vector4,G=new n.Vector4;this.projectVector=function(e,t){return t.matrixWorldInverse.getInverse(t.matrixWorld),B.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),e.applyProjection(B)},this.unprojectVector=function(){var e=new n.Matrix4;return function(t,r){return e.getInverse(r.projectionMatrix),B.multiplyMatrices(r.matrixWorld,e),t.applyProjection(B)}}(),this.pickingRay=function(e,t){e.z=-1;var r=new n.Vector3(e.x,e.y,1);return this.unprojectVector(e,t),this.unprojectVector(r,t),r.sub(e).normalize(),new n.Raycaster(e,r)};var W=function(t){if(!1!==t.visible){t instanceof n.Light?L.lights.push(t):(t instanceof n.Mesh||t instanceof n.Line||t instanceof n.Sprite)&&(!1!==t.frustumCulled&&!0!==j.intersectsObject(t)||(c=e(),c.id=t.id,c.object=t,null!==t.renderDepth?c.z=t.renderDepth:(F.setFromMatrixPosition(t.matrixWorld),F.applyProjection(B),c.z=F.z),L.objects.push(c)));for(var r=0,i=t.children.length;r<i;r++)W(t.children[r])}},X=function(e,t){l=0,L.objects.length=0,L.lights.length=0,W(e),!0===t&&L.objects.sort(a)},q=function(){var e=[],o=[],a=null,s=null,c=new n.Matrix3,l=function(t){a=t,s=a.material,c.getNormalMatrix(a.matrixWorld),e.length=0,o.length=0},h=function(e){var t=e.position,r=e.positionWorld,i=e.positionScreen;r.copy(t).applyMatrix4(y),i.copy(r).applyMatrix4(B);var n=1/i.w;i.x*=n,i.y*=n,i.z*=n,e.visible=i.x>=-1&&i.x<=1&&i.y>=-1&&i.y<=1&&i.z>=-1&&i.z<=1},p=function(e,r,i){u=t(),u.position.set(e,r,i),h(u)},m=function(t,r,i){e.push(t,r,i)},v=function(e,t){o.push(e,t)},g=function(e,t,r){return!0===e.visible||!0===t.visible||!0===r.visible||(N[0]=e.positionScreen,N[1]=t.positionScreen,N[2]=r.positionScreen,O.isIntersectionBox(U.setFromPoints(N)))},x=function(e,t,r){return(r.positionScreen.x-e.positionScreen.x)*(t.positionScreen.y-e.positionScreen.y)-(r.positionScreen.y-e.positionScreen.y)*(t.positionScreen.x-e.positionScreen.x)<0};return{setObject:l,projectVertex:h,checkTriangleVisibility:g,checkBackfaceCulling:x,pushVertex:p,pushNormal:m,pushUv:v,pushLine:function(e,t){var r=w[e],n=w[t];d=i(),d.id=a.id,d.v1.copy(r),d.v2.copy(n),d.z=(r.positionScreen.z+n.positionScreen.z)/2,d.material=a.material,L.elements.push(d)},pushTriangle:function(t,i,l){var u=w[t],h=w[i],p=w[l];if(!1!==g(u,h,p)&&(s.side===n.DoubleSide||!0===x(u,h,p))){f=r(),f.id=a.id,f.v1.copy(u),f.v2.copy(h),f.v3.copy(p),f.z=(u.positionScreen.z+h.positionScreen.z+p.positionScreen.z)/3;for(var d=0;d<3;d++){var m=3*arguments[d],v=f.vertexNormalsModel[d];v.set(e[m],e[m+1],e[m+2]),v.applyMatrix3(c).normalize();var y=2*arguments[d];f.uvs[d].set(o[y],o[y+1])}f.vertexNormalsLength=3,f.material=a.material,L.elements.push(f)}}}},$=new q;this.projectScene=function(e,c,l,u){var x,b,_,M,S,C,T,A,E;p=0,m=0,g=0,L.elements.length=0,!0===e.autoUpdate&&e.updateMatrixWorld(),void 0===c.parent&&c.updateMatrixWorld(),V.copy(c.matrixWorldInverse.getInverse(c.matrixWorld)),B.multiplyMatrices(c.projectionMatrix,V),j.setFromMatrix(B),X(e,l);for(var F=0,O=L.objects.length;F<O;F++)if(x=L.objects[F].object,b=x.geometry,$.setObject(x),y=x.matrixWorld,h=0,x instanceof n.Mesh){if(b instanceof n.BufferGeometry){var U=b.attributes,N=b.offsets;if(void 0===U.position)continue;for(var W=U.position.array,q=0,Y=W.length;q<Y;q+=3)$.pushVertex(W[q],W[q+1],W[q+2]);if(void 0!==U.normal)for(var K=U.normal.array,q=0,Y=K.length;q<Y;q+=3)$.pushNormal(K[q],K[q+1],K[q+2]);if(void 0!==U.uv)for(var Z=U.uv.array,q=0,Y=Z.length;q<Y;q+=2)$.pushUv(Z[q],Z[q+1]);if(void 0!==U.index){var Q=U.index.array;if(N.length>0)for(var F=0;F<N.length;F++)for(var J=N[F],ee=J.index,q=J.start,Y=J.start+J.count;q<Y;q+=3)$.pushTriangle(Q[q]+ee,Q[q+1]+ee,Q[q+2]+ee);else for(var q=0,Y=Q.length;q<Y;q+=3)$.pushTriangle(Q[q],Q[q+1],Q[q+2])}else for(var q=0,Y=W.length/3;q<Y;q+=3)$.pushTriangle(q,q+1,q+2)}else if(b instanceof n.Geometry){_=b.vertices,M=b.faces,T=b.faceVertexUvs[0],I.getNormalMatrix(y),A=x.material instanceof n.MeshFaceMaterial,E=!0===A?x.material:null;for(var te=0,re=_.length;te<re;te++){var ie=_[te];$.pushVertex(ie.x,ie.y,ie.z)}for(var ne=0,oe=M.length;ne<oe;ne++){S=M[ne];var ae=!0===A?E.materials[S.materialIndex]:x.material;if(void 0!==ae){var se=ae.side,ce=w[S.a],le=w[S.b],ue=w[S.c];if(!0===ae.morphTargets){var he=b.morphTargets,fe=x.morphTargetInfluences,pe=ce.position,de=le.position,me=ue.position;P.set(0,0,0),D.set(0,0,0),R.set(0,0,0);for(var ve=0,ge=he.length;ve<ge;ve++){var ye=fe[ve];if(0!==ye){var xe=he[ve].vertices;P.x+=(xe[S.a].x-pe.x)*ye,P.y+=(xe[S.a].y-pe.y)*ye,P.z+=(xe[S.a].z-pe.z)*ye,D.x+=(xe[S.b].x-de.x)*ye,D.y+=(xe[S.b].y-de.y)*ye,D.z+=(xe[S.b].z-de.z)*ye,R.x+=(xe[S.c].x-me.x)*ye,R.y+=(xe[S.c].y-me.y)*ye,R.z+=(xe[S.c].z-me.z)*ye}}ce.position.add(P),le.position.add(D),ue.position.add(R),$.projectVertex(ce),$.projectVertex(le),$.projectVertex(ue)}if(!1!==$.checkTriangleVisibility(ce,le,ue)){var be=$.checkBackfaceCulling(ce,le,ue);if(se!==n.DoubleSide){if(se===n.FrontSide&&!1===be)continue;if(se===n.BackSide&&!0===be)continue}f=r(),f.id=x.id,f.v1.copy(ce),f.v2.copy(le),f.v3.copy(ue),f.normalModel.copy(S.normal),!1!==be||se!==n.BackSide&&se!==n.DoubleSide||f.normalModel.negate(),f.normalModel.applyMatrix3(I).normalize(),C=S.vertexNormals;for(var we=0,_e=Math.min(C.length,3);we<_e;we++){var Me=f.vertexNormalsModel[we];Me.copy(C[we]),!1!==be||se!==n.BackSide&&se!==n.DoubleSide||Me.negate(),Me.applyMatrix3(I).normalize()}f.vertexNormalsLength=C.length;var Se=T[ne];if(void 0!==Se)for(var Ce=0;Ce<3;Ce++)f.uvs[Ce].copy(Se[Ce]);f.color=S.color,f.material=ae,f.z=(ce.positionScreen.z+le.positionScreen.z+ue.positionScreen.z)/3,L.elements.push(f)}}}}}else if(x instanceof n.Line){if(b instanceof n.BufferGeometry){var U=b.attributes;if(void 0!==U.position){for(var W=U.position.array,q=0,Y=W.length;q<Y;q+=3)$.pushVertex(W[q],W[q+1],W[q+2]);if(void 0!==U.index)for(var Q=U.index.array,q=0,Y=Q.length;q<Y;q+=2)$.pushLine(Q[q],Q[q+1]);else for(var q=0,Y=W.length/3-1;q<Y;q++)$.pushLine(q,q+1)}}else if(b instanceof n.Geometry){if(z.multiplyMatrices(B,y),_=x.geometry.vertices,0===_.length)continue;ce=t(),ce.positionScreen.copy(_[0]).applyMatrix4(z);for(var Te=x.type===n.LinePieces?2:1,te=1,re=_.length;te<re;te++)ce=t(),ce.positionScreen.copy(_[te]).applyMatrix4(z),(te+1)%Te>0||(le=w[h-2],H.copy(ce.positionScreen),G.copy(le.positionScreen),!0===s(H,G)&&(H.multiplyScalar(1/H.w),G.multiplyScalar(1/G.w),d=i(),d.id=x.id,d.v1.positionScreen.copy(H),d.v2.positionScreen.copy(G),d.z=Math.max(H.z,G.z),d.material=x.material,x.material.vertexColors===n.VertexColors&&(d.vertexColors[0].copy(x.geometry.colors[te]),d.vertexColors[1].copy(x.geometry.colors[te-1])),L.elements.push(d)))}}else if(x instanceof n.Sprite){k.set(y.elements[12],y.elements[13],y.elements[14],1),k.applyMatrix4(B);var Ae=1/k.w;k.z*=Ae,k.z>=-1&&k.z<=1&&(v=o(),v.id=x.id,v.x=k.x*Ae,v.y=k.y*Ae,v.z=k.z,v.object=x,v.rotation=x.rotation,v.scale.x=x.scale.x*Math.abs(v.x-(k.x+c.projectionMatrix.elements[0])/(k.w+c.projectionMatrix.elements[12])),v.scale.y=x.scale.y*Math.abs(v.y-(k.y+c.projectionMatrix.elements[5])/(k.w+c.projectionMatrix.elements[13])),v.material=x.material,L.elements.push(v))}return!0===u&&L.elements.sort(a),L}},n.Face3=function(e,t,r,i,o,a){this.a=e,this.b=t,this.c=r,this.normal=i instanceof n.Vector3?i:new n.Vector3,this.vertexNormals=i instanceof Array?i:[],this.color=o instanceof n.Color?o:new n.Color,this.vertexColors=o instanceof Array?o:[],this.vertexTangents=[],this.materialIndex=void 0!==a?a:0},n.Face3.prototype={constructor:n.Face3,clone:function(){var e=new n.Face3(this.a,this.b,this.c);e.normal.copy(this.normal),e.color.copy(this.color),e.materialIndex=this.materialIndex;var t,r;for(t=0,r=this.vertexNormals.length;t<r;t++)e.vertexNormals[t]=this.vertexNormals[t].clone();for(t=0,r=this.vertexColors.length;t<r;t++)e.vertexColors[t]=this.vertexColors[t].clone();for(t=0,r=this.vertexTangents.length;t<r;t++)e.vertexTangents[t]=this.vertexTangents[t].clone();return e}},n.Face4=function(e,t,r,i,o,a,s){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new n.Face3(e,t,r,o,a,s)},n.BufferAttribute=function(){},n.BufferAttribute.prototype={constructor:n.BufferAttribute,get length(){return this.array.length},set:function(e){this.array.set(e)},setX:function(e,t){this.array[e*this.itemSize]=t},setY:function(e,t){this.array[e*this.itemSize+1]=t},setZ:function(e,t){this.array[e*this.itemSize+2]=t},setXY:function(e,t,r){e*=this.itemSize,this.array[e]=t,this.array[e+1]=r},setXYZ:function(e,t,r,i){e*=this.itemSize,this.array[e]=t,this.array[e+1]=r,this.array[e+2]=i},setXYZW:function(e,t,r,i,n){e*=this.itemSize,this.array[e]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=n}},n.Int8Attribute=function(e,t){this.array=new Int8Array(e*t),this.itemSize=t},n.Int8Attribute.prototype=Object.create(n.BufferAttribute.prototype),n.Uint8Attribute=function(e,t){this.array=new Uint8Array(e*t),this.itemSize=t},n.Uint8Attribute.prototype=Object.create(n.BufferAttribute.prototype),n.Uint8ClampedAttribute=function(e,t){this.array=new Uint8ClampedArray(e*t),this.itemSize=t},n.Uint8ClampedAttribute.prototype=Object.create(n.BufferAttribute.prototype),n.Int16Attribute=function(e,t){this.array=new Int16Array(e*t),this.itemSize=t},n.Int16Attribute.prototype=Object.create(n.BufferAttribute.prototype),n.Uint16Attribute=function(e,t){this.array=new Uint16Array(e*t),this.itemSize=t},n.Uint16Attribute.prototype=Object.create(n.BufferAttribute.prototype),n.Int32Attribute=function(e,t){this.array=new Int32Array(e*t),this.itemSize=t},n.Int32Attribute.prototype=Object.create(n.BufferAttribute.prototype),n.Uint32Attribute=function(e,t){this.array=new Uint32Array(e*t),this.itemSize=t},n.Uint32Attribute.prototype=Object.create(n.BufferAttribute.prototype),n.Float32Attribute=function(e,t){this.array=new Float32Array(e*t),this.itemSize=t},n.Float32Attribute.prototype=Object.create(n.BufferAttribute.prototype),n.Float64Attribute=function(e,t){this.array=new Float64Array(e*t),this.itemSize=t},n.Float64Attribute.prototype=Object.create(n.BufferAttribute.prototype),n.BufferGeometry=function(){this.id=n.GeometryIdCount++,this.uuid=n.Math.generateUUID(),this.name="",this.attributes={},this.drawcalls=[],this.offsets=this.drawcalls,this.boundingBox=null,this.boundingSphere=null},n.BufferGeometry.prototype={constructor:n.BufferGeometry,addAttribute:function(e,t){if(t instanceof n.BufferAttribute==!1)return console.warn("DEPRECATED: BufferGeometry's addAttribute() now expects ( name, attribute )."),void(this.attributes[e]={array:arguments[1],itemSize:arguments[2]});this.attributes[e]=t},getAttribute:function(e){return this.attributes[e]},addDrawCall:function(e,t,r){this.drawcalls.push({start:e,count:t,index:void 0!==r?r:0})},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToVector3Array(t.array),t.needsUpdate=!0);var r=this.attributes.normal;if(void 0!==r){(new n.Matrix3).getNormalMatrix(e).applyToVector3Array(r.array),r.needsUpdate=!0}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new n.Box3);var e=this.attributes.position.array;if(e){var t=this.boundingBox;e.length>=3&&(t.min.x=t.max.x=e[0],t.min.y=t.max.y=e[1],t.min.z=t.max.z=e[2]);for(var r=3,i=e.length;r<i;r+=3){var o=e[r],a=e[r+1],s=e[r+2];o<t.min.x?t.min.x=o:o>t.max.x&&(t.max.x=o),a<t.min.y?t.min.y=a:a>t.max.y&&(t.max.y=a),s<t.min.z?t.min.z=s:s>t.max.z&&(t.max.z=s)}}void 0!==e&&0!==e.length||(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0))},computeBoundingSphere:function(){var e=new n.Box3,t=new n.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new n.Sphere);var r=this.attributes.position.array;if(r){e.makeEmpty();for(var i=this.boundingSphere.center,o=0,a=r.length;o<a;o+=3)t.set(r[o],r[o+1],r[o+2]),e.addPoint(t);e.center(i);for(var s=0,o=0,a=r.length;o<a;o+=3)t.set(r[o],r[o+1],r[o+2]),s=Math.max(s,i.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(s)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){if(this.attributes.position){var e,t,r,i,o=this.attributes.position.array.length;if(void 0===this.attributes.normal)this.attributes.normal={itemSize:3,array:new Float32Array(o)};else for(e=0,t=this.attributes.normal.array.length;e<t;e++)this.attributes.normal.array[e]=0;var a,s,c,l,u,h,f=this.attributes.position.array,p=this.attributes.normal.array,d=new n.Vector3,m=new n.Vector3,v=new n.Vector3,g=new n.Vector3,y=new n.Vector3;if(this.attributes.index){var x=this.attributes.index.array,b=this.offsets.length>0?this.offsets:[{start:0,count:x.length,index:0}];for(r=0,i=b.length;r<i;++r){var w=b[r].start,_=b[r].count,M=b[r].index;for(e=w,t=w+_;e<t;e+=3)a=M+x[e],s=M+x[e+1],c=M+x[e+2],l=f[3*a],u=f[3*a+1],h=f[3*a+2],d.set(l,u,h),l=f[3*s],u=f[3*s+1],h=f[3*s+2],m.set(l,u,h),l=f[3*c],u=f[3*c+1],h=f[3*c+2],v.set(l,u,h),g.subVectors(v,m),y.subVectors(d,m),g.cross(y),p[3*a]+=g.x,p[3*a+1]+=g.y,p[3*a+2]+=g.z,p[3*s]+=g.x,p[3*s+1]+=g.y,p[3*s+2]+=g.z,p[3*c]+=g.x,p[3*c+1]+=g.y,p[3*c+2]+=g.z}}else for(e=0,t=f.length;e<t;e+=9)l=f[e],u=f[e+1],h=f[e+2],d.set(l,u,h),l=f[e+3],u=f[e+4],h=f[e+5],m.set(l,u,h),l=f[e+6],u=f[e+7],h=f[e+8],v.set(l,u,h),g.subVectors(v,m),y.subVectors(d,m),g.cross(y),p[e]=g.x,p[e+1]=g.y,p[e+2]=g.z,p[e+3]=g.x,p[e+4]=g.y,p[e+5]=g.z,p[e+6]=g.x,p[e+7]=g.y,p[e+8]=g.z;this.normalizeNormals(),this.normalsNeedUpdate=!0}},computeTangents:function(){function e(e){re.x=i[3*e],re.y=i[3*e+1],re.z=i[3*e+2],ie.copy(re),Q=l[e],ee.copy(Q),ee.sub(re.multiplyScalar(re.dot(Q))).normalize(),te.crossVectors(ie,Q),J=te.dot(u[e]),Z=J<0?-1:1,c[4*e]=ee.x,c[4*e+1]=ee.y,c[4*e+2]=ee.z,c[4*e+3]=Z}if(void 0===this.attributes.index||void 0===this.attributes.position||void 0===this.attributes.normal||void 0===this.attributes.uv)return void console.warn("Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");var t=this.attributes.index.array,r=this.attributes.position.array,i=this.attributes.normal.array,o=this.attributes.uv.array,a=r.length/3;if(void 0===this.attributes.tangent){var s=4*a;this.attributes.tangent={itemSize:4,array:new Float32Array(s)}}for(var c=this.attributes.tangent.array,l=[],u=[],h=0;h<a;h++)l[h]=new n.Vector3,u[h]=new n.Vector3;var f,p,d,m,v,g,y,x,b,w,_,M,S,C,T,A,E,L,P,D,R,F,k,O,U,N,V,B,z,I,j,H,G,W=new n.Vector3,X=new n.Vector3,q=this.offsets;for(z=0,I=q.length;z<I;++z){var $=q[z].start,Y=q[z].count,K=q[z].index;for(V=$,B=$+Y;V<B;V+=3)j=K+t[V],H=K+t[V+1],G=K+t[V+2],function(e,t,i){f=r[3*e],p=r[3*e+1],d=r[3*e+2],m=r[3*t],v=r[3*t+1],g=r[3*t+2],y=r[3*i],x=r[3*i+1],b=r[3*i+2],w=o[2*e],_=o[2*e+1],M=o[2*t],S=o[2*t+1],C=o[2*i],T=o[2*i+1],A=m-f,E=y-f,L=v-p,P=x-p,D=g-d,R=b-d,F=M-w,k=C-w,O=S-_,U=T-_,N=1/(F*U-k*O),W.set((U*A-O*E)*N,(U*L-O*P)*N,(U*D-O*R)*N),X.set((F*E-k*A)*N,(F*P-k*L)*N,(F*R-k*D)*N),l[e].add(W),l[t].add(W),l[i].add(W),u[e].add(X),u[t].add(X),u[i].add(X)}(j,H,G)}var Z,Q,J,ee=new n.Vector3,te=new n.Vector3,re=new n.Vector3,ie=new n.Vector3;for(z=0,I=q.length;z<I;++z){var $=q[z].start,Y=q[z].count,K=q[z].index;for(V=$,B=$+Y;V<B;V+=3)j=K+t[V],H=K+t[V+1],G=K+t[V+2],e(j),e(H),e(G)}},computeOffsets:function(e){var t=e;void 0===e&&(t=65535);for(var r=(Date.now(),this.attributes.index.array),i=this.attributes.position.array,n=(i.length,r.length/3),o=new Uint16Array(r.length),a=0,s=0,c=[{start:0,count:0,index:0}],l=c[0],u=0,h=0,f=new Int32Array(6),p=new Int32Array(i.length),d=new Int32Array(i.length),m=0;m<i.length;m++)p[m]=-1,d[m]=-1;for(var v=0;v<n;v++){h=0;for(var g=0;g<3;g++){var y=r[3*v+g];-1==p[y]?(f[2*g]=y,f[2*g+1]=-1,h++):p[y]<l.index?(f[2*g]=y,f[2*g+1]=-1,u++):(f[2*g]=y,f[2*g+1]=p[y])}if(s+h>l.index+t){var x={start:a,count:0,index:s};c.push(x),l=x;for(var b=0;b<6;b+=2){var w=f[b+1];w>-1&&w<l.index&&(f[b+1]=-1)}}for(var b=0;b<6;b+=2){var y=f[b],w=f[b+1];-1===w&&(w=s++),p[y]=w,d[w]=y,o[a++]=w-l.index,l.count++}}return this.reorderBuffers(o,d,s),this.offsets=c,c},merge:function(){console.log("BufferGeometry.merge(): TODO")},normalizeNormals:function(){for(var e,t,r,i,n=this.attributes.normal.array,o=0,a=n.length;o<a;o+=3)e=n[o],t=n[o+1],r=n[o+2],i=1/Math.sqrt(e*e+t*t+r*r),n[o]*=i,n[o+1]*=i,n[o+2]*=i},reorderBuffers:function(e,t,r){var i={},n=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];for(var o in this.attributes)if("index"!=o)for(var a=this.attributes[o].array,s=0,c=n.length;s<c;s++){var l=n[s];if(a instanceof l){i[o]=new l(this.attributes[o].itemSize*r);break}}for(var u=0;u<r;u++){var h=t[u];for(var o in this.attributes)if("index"!=o)for(var f=this.attributes[o].array,p=this.attributes[o].itemSize,d=i[o],m=0;m<p;m++)d[u*p+m]=f[h*p+m]}this.attributes.index.array=e;for(var o in this.attributes)"index"!=o&&(this.attributes[o].array=i[o],this.attributes[o].numItems=this.attributes[o].itemSize*r)},clone:function(){var e=new n.BufferGeometry,t=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];for(var r in this.attributes){for(var i=this.attributes[r],o=i.array,a={itemSize:i.itemSize,array:null},s=0,c=t.length;s<c;s++){var l=t[s];if(o instanceof l){a.array=new l(o);break}}e.attributes[r]=a}for(var s=0,c=this.offsets.length;s<c;s++){var u=this.offsets[s];e.offsets.push({start:u.start,index:u.index,count:u.count})}return e},dispose:function(){this.dispatchEvent({type:"dispose"})}},n.EventDispatcher.prototype.apply(n.BufferGeometry.prototype),n.Geometry=function(){this.id=n.GeometryIdCount++,this.uuid=n.Math.generateUUID(),this.name="",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphColors=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.tangentsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.buffersNeedUpdate=!1},n.Geometry.prototype={constructor:n.Geometry,applyMatrix:function(e){for(var t=(new n.Matrix3).getNormalMatrix(e),r=0,i=this.vertices.length;r<i;r++){this.vertices[r].applyMatrix4(e)}for(var r=0,i=this.faces.length;r<i;r++){var o=this.faces[r];o.normal.applyMatrix3(t).normalize();for(var a=0,s=o.vertexNormals.length;a<s;a++)o.vertexNormals[a].applyMatrix3(t).normalize()}this.boundingBox instanceof n.Box3&&this.computeBoundingBox(),this.boundingSphere instanceof n.Sphere&&this.computeBoundingSphere()},computeFaceNormals:function(){for(var e=new n.Vector3,t=new n.Vector3,r=0,i=this.faces.length;r<i;r++){var o=this.faces[r],a=this.vertices[o.a],s=this.vertices[o.b],c=this.vertices[o.c];e.subVectors(c,s),t.subVectors(a,s),e.cross(t),e.normalize(),o.normal.copy(e)}},computeVertexNormals:function(e){var t,r,i,o,a,s;for(s=new Array(this.vertices.length),t=0,r=this.vertices.length;t<r;t++)s[t]=new n.Vector3;if(e){var c,l,u,h=new n.Vector3,f=new n.Vector3;new n.Vector3,new n.Vector3,new n.Vector3;for(i=0,o=this.faces.length;i<o;i++)a=this.faces[i],c=this.vertices[a.a],l=this.vertices[a.b],u=this.vertices[a.c],h.subVectors(u,l),f.subVectors(c,l),h.cross(f),s[a.a].add(h),s[a.b].add(h),s[a.c].add(h)}else for(i=0,o=this.faces.length;i<o;i++)a=this.faces[i],s[a.a].add(a.normal),s[a.b].add(a.normal),s[a.c].add(a.normal);for(t=0,r=this.vertices.length;t<r;t++)s[t].normalize();for(i=0,o=this.faces.length;i<o;i++)a=this.faces[i],a.vertexNormals[0]=s[a.a].clone(),a.vertexNormals[1]=s[a.b].clone(),a.vertexNormals[2]=s[a.c].clone()},computeMorphNormals:function(){var e,t,r,i,o;for(r=0,i=this.faces.length;r<i;r++)for(o=this.faces[r],o.__originalFaceNormal?o.__originalFaceNormal.copy(o.normal):o.__originalFaceNormal=o.normal.clone(),o.__originalVertexNormals||(o.__originalVertexNormals=[]),e=0,t=o.vertexNormals.length;e<t;e++)o.__originalVertexNormals[e]?o.__originalVertexNormals[e].copy(o.vertexNormals[e]):o.__originalVertexNormals[e]=o.vertexNormals[e].clone();var a=new n.Geometry;for(a.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var s,c,l=this.morphNormals[e].faceNormals,u=this.morphNormals[e].vertexNormals;for(r=0,i=this.faces.length;r<i;r++)s=new n.Vector3,c={a:new n.Vector3,b:new n.Vector3,c:new n.Vector3},l.push(s),u.push(c)}var h=this.morphNormals[e];a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals();var s,c;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=h.faceNormals[r],c=h.vertexNormals[r],s.copy(o.normal),c.a.copy(o.vertexNormals[0]),c.b.copy(o.vertexNormals[1]),c.c.copy(o.vertexNormals[2])}for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],o.normal=o.__originalFaceNormal,o.vertexNormals=o.__originalVertexNormals},computeTangents:function(){var e,t,r,i,o,a,s,c,l,u,h,f,p,d,m,v,g,y,x,b,w,_,M,S,C,T,A,E,L=[],P=[],D=new n.Vector3,R=new n.Vector3,F=new n.Vector3,k=new n.Vector3,O=new n.Vector3;for(r=0,i=this.vertices.length;r<i;r++)L[r]=new n.Vector3,P[r]=new n.Vector3;for(e=0,t=this.faces.length;e<t;e++)s=this.faces[e],c=this.faceVertexUvs[0][e],function(e,t,r,i,n,o,a){l=e.vertices[t],u=e.vertices[r],h=e.vertices[i],f=c[n],p=c[o],d=c[a],m=u.x-l.x,v=h.x-l.x,g=u.y-l.y,y=h.y-l.y,x=u.z-l.z,b=h.z-l.z,w=p.x-f.x,_=d.x-f.x,M=p.y-f.y,S=d.y-f.y,C=1/(w*S-_*M),D.set((S*m-M*v)*C,(S*g-M*y)*C,(S*x-M*b)*C),R.set((w*v-_*m)*C,(w*y-_*g)*C,(w*b-_*x)*C),L[t].add(D),L[r].add(D),L[i].add(D),P[t].add(R),P[r].add(R),P[i].add(R)}(this,s.a,s.b,s.c,0,1,2);var U=["a","b","c","d"];for(e=0,t=this.faces.length;e<t;e++)for(s=this.faces[e],o=0;o<Math.min(s.vertexNormals.length,3);o++)O.copy(s.vertexNormals[o]),a=s[U[o]],T=L[a],F.copy(T),F.sub(O.multiplyScalar(O.dot(T))).normalize(),k.crossVectors(s.vertexNormals[o],T),A=k.dot(P[a]),E=A<0?-1:1,s.vertexTangents[o]=new n.Vector4(F.x,F.y,F.z,E);this.hasTangents=!0},computeLineDistances:function(){for(var e=0,t=this.vertices,r=0,i=t.length;r<i;r++)r>0&&(e+=t[r].distanceTo(t[r-1])),this.lineDistances[r]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new n.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new n.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,r){if(e instanceof n.Geometry==!1)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);var i,o=this.vertices.length,a=(this.faceVertexUvs[0].length,this.vertices),s=e.vertices,c=this.faces,l=e.faces,u=this.faceVertexUvs[0],h=e.faceVertexUvs[0];void 0===r&&(r=0),void 0!==t&&(i=(new n.Matrix3).getNormalMatrix(t));for(var f=0,p=s.length;f<p;f++){var d=s[f],m=d.clone();void 0!==t&&m.applyMatrix4(t),a.push(m)}for(f=0,p=l.length;f<p;f++){var v,g,y,x=l[f],b=x.vertexNormals,w=x.vertexColors;v=new n.Face3(x.a+o,x.b+o,x.c+o),v.normal.copy(x.normal),void 0!==i&&v.normal.applyMatrix3(i).normalize();for(var _=0,M=b.length;_<M;_++)g=b[_].clone(),void 0!==i&&g.applyMatrix3(i).normalize(),v.vertexNormals.push(g);v.color.copy(x.color);for(var _=0,M=w.length;_<M;_++)y=w[_],v.vertexColors.push(y.clone());v.materialIndex=x.materialIndex+r,c.push(v)}for(f=0,p=h.length;f<p;f++){var S=h[f],C=[];if(void 0!==S){for(var _=0,M=S.length;_<M;_++)C.push(new n.Vector2(S[_].x,S[_].y));u.push(C)}}},mergeVertices:function(){var e,t,r,i,n,o,a,s,c={},l=[],u=[],h=Math.pow(10,4);for(r=0,i=this.vertices.length;r<i;r++)e=this.vertices[r],t=Math.round(e.x*h)+"_"+Math.round(e.y*h)+"_"+Math.round(e.z*h),void 0===c[t]?(c[t]=r,l.push(this.vertices[r]),u[r]=l.length-1):u[r]=u[c[t]];var f=[];for(r=0,i=this.faces.length;r<i;r++){n=this.faces[r],n.a=u[n.a],n.b=u[n.b],n.c=u[n.c],o=[n.a,n.b,n.c];for(var p=0;p<3;p++)if(o[p]==o[(p+1)%3]){p,f.push(r);break}}for(r=f.length-1;r>=0;r--){var d=f[r];for(this.faces.splice(d,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(d,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},makeGroups:function(){var e=0;return function(t,r){var i,n,o,a,s,c={},l=this.morphTargets.length,u=this.morphNormals.length;for(this.geometryGroups={},i=0,n=this.faces.length;i<n;i++)o=this.faces[i],a=t?o.materialIndex:0,a in c||(c[a]={hash:a,counter:0}),s=c[a].hash+"_"+c[a].counter,s in this.geometryGroups||(this.geometryGroups[s]={faces3:[],materialIndex:a,vertices:0,numMorphTargets:l,numMorphNormals:u}),this.geometryGroups[s].vertices+3>r&&(c[a].counter+=1,(s=c[a].hash+"_"+c[a].counter)in this.geometryGroups||(this.geometryGroups[s]={faces3:[],materialIndex:a,vertices:0,numMorphTargets:l,numMorphNormals:u})),this.geometryGroups[s].faces3.push(i),this.geometryGroups[s].vertices+=3;this.geometryGroupsList=[];for(var h in this.geometryGroups)this.geometryGroups[h].id=e++,this.geometryGroupsList.push(this.geometryGroups[h])}}(),clone:function(){for(var e=new n.Geometry,t=this.vertices,r=0,i=t.length;r<i;r++)e.vertices.push(t[r].clone());for(var o=this.faces,r=0,i=o.length;r<i;r++)e.faces.push(o[r].clone());for(var a=this.faceVertexUvs[0],r=0,i=a.length;r<i;r++){for(var s=a[r],c=[],l=0,u=s.length;l<u;l++)c.push(new n.Vector2(s[l].x,s[l].y));e.faceVertexUvs[0].push(c)}return e},dispose:function(){this.dispatchEvent({type:"dispose"})}},n.EventDispatcher.prototype.apply(n.Geometry.prototype),n.GeometryIdCount=0,n.Camera=function(){n.Object3D.call(this),this.matrixWorldInverse=new n.Matrix4,this.projectionMatrix=new n.Matrix4},n.Camera.prototype=Object.create(n.Object3D.prototype),n.Camera.prototype.lookAt=function(){var e=new n.Matrix4;return function(t){e.lookAt(this.position,t,this.up),this.quaternion.setFromRotationMatrix(e)}}(),n.Camera.prototype.clone=function(e){return void 0===e&&(e=new n.Camera),n.Object3D.prototype.clone.call(this,e),e.matrixWorldInverse.copy(this.matrixWorldInverse),e.projectionMatrix.copy(this.projectionMatrix),e},n.OrthographicCamera=function(e,t,r,i,o,a){n.Camera.call(this),this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=void 0!==o?o:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()},n.OrthographicCamera.prototype=Object.create(n.Camera.prototype),n.OrthographicCamera.prototype.updateProjectionMatrix=function(){this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far)},n.OrthographicCamera.prototype.clone=function(){var e=new n.OrthographicCamera;return n.Camera.prototype.clone.call(this,e),e.left=this.left,e.right=this.right,e.top=this.top,e.bottom=this.bottom,e.near=this.near,e.far=this.far,e},n.PerspectiveCamera=function(e,t,r,i){n.Camera.call(this),this.fov=void 0!==e?e:50,this.aspect=void 0!==t?t:1,this.near=void 0!==r?r:.1,this.far=void 0!==i?i:2e3,this.updateProjectionMatrix()},n.PerspectiveCamera.prototype=Object.create(n.Camera.prototype),n.PerspectiveCamera.prototype.setLens=function(e,t){void 0===t&&(t=24),this.fov=2*n.Math.radToDeg(Math.atan(t/(2*e))),this.updateProjectionMatrix()},n.PerspectiveCamera.prototype.setViewOffset=function(e,t,r,i,n,o){this.fullWidth=e,this.fullHeight=t,this.x=r,this.y=i,this.width=n,this.height=o,this.updateProjectionMatrix()},n.PerspectiveCamera.prototype.updateProjectionMatrix=function(){if(this.fullWidth){var e=this.fullWidth/this.fullHeight,t=Math.tan(n.Math.degToRad(.5*this.fov))*this.near,r=-t,i=e*r,o=e*t,a=Math.abs(o-i),s=Math.abs(t-r);this.projectionMatrix.makeFrustum(i+this.x*a/this.fullWidth,i+(this.x+this.width)*a/this.fullWidth,t-(this.y+this.height)*s/this.fullHeight,t-this.y*s/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far)},n.PerspectiveCamera.prototype.clone=function(){var e=new n.PerspectiveCamera;return n.Camera.prototype.clone.call(this,e),e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e},n.Light=function(e){n.Object3D.call(this),this.color=new n.Color(e)},n.Light.prototype=Object.create(n.Object3D.prototype),n.Light.prototype.clone=function(e){return void 0===e&&(e=new n.Light),n.Object3D.prototype.clone.call(this,e),e.color.copy(this.color),e},n.AmbientLight=function(e){n.Light.call(this,e)},n.AmbientLight.prototype=Object.create(n.Light.prototype),n.AmbientLight.prototype.clone=function(){var e=new n.AmbientLight;return n.Light.prototype.clone.call(this,e),e},n.AreaLight=function(e,t){n.Light.call(this,e),this.normal=new n.Vector3(0,-1,0),this.right=new n.Vector3(1,0,0),this.intensity=void 0!==t?t:1,this.width=1,this.height=1,this.constantAttenuation=1.5,this.linearAttenuation=.5,this.quadraticAttenuation=.1},n.AreaLight.prototype=Object.create(n.Light.prototype),n.DirectionalLight=function(e,t){n.Light.call(this,e),this.position.set(0,1,0),this.target=new n.Object3D,this.intensity=void 0!==t?t:1,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraLeft=-500,this.shadowCameraRight=500,this.shadowCameraTop=500,this.shadowCameraBottom=-500,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowCascade=!1,this.shadowCascadeOffset=new n.Vector3(0,0,-1e3),this.shadowCascadeCount=2,this.shadowCascadeBias=[0,0,0],this.shadowCascadeWidth=[512,512,512],this.shadowCascadeHeight=[512,512,512],this.shadowCascadeNearZ=[-1,.99,.998],this.shadowCascadeFarZ=[.99,.998,1],this.shadowCascadeArray=[],this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},n.DirectionalLight.prototype=Object.create(n.Light.prototype),n.DirectionalLight.prototype.clone=function(){var e=new n.DirectionalLight;return n.Light.prototype.clone.call(this,e),e.target=this.target.clone(),e.intensity=this.intensity,e.castShadow=this.castShadow,e.onlyShadow=this.onlyShadow,e.shadowCameraNear=this.shadowCameraNear,e.shadowCameraFar=this.shadowCameraFar,e.shadowCameraLeft=this.shadowCameraLeft,e.shadowCameraRight=this.shadowCameraRight,e.shadowCameraTop=this.shadowCameraTop,e.shadowCameraBottom=this.shadowCameraBottom,e.shadowCameraVisible=this.shadowCameraVisible,e.shadowBias=this.shadowBias,e.shadowDarkness=this.shadowDarkness,e.shadowMapWidth=this.shadowMapWidth,e.shadowMapHeight=this.shadowMapHeight,e.shadowCascade=this.shadowCascade,e.shadowCascadeOffset.copy(this.shadowCascadeOffset),e.shadowCascadeCount=this.shadowCascadeCount,e.shadowCascadeBias=this.shadowCascadeBias.slice(0),e.shadowCascadeWidth=this.shadowCascadeWidth.slice(0),e.shadowCascadeHeight=this.shadowCascadeHeight.slice(0),e.shadowCascadeNearZ=this.shadowCascadeNearZ.slice(0),e.shadowCascadeFarZ=this.shadowCascadeFarZ.slice(0),e},n.HemisphereLight=function(e,t,r){n.Light.call(this,e),this.position.set(0,100,0),this.groundColor=new n.Color(t),this.intensity=void 0!==r?r:1},n.HemisphereLight.prototype=Object.create(n.Light.prototype),n.HemisphereLight.prototype.clone=function(){var e=new n.HemisphereLight;return n.Light.prototype.clone.call(this,e),e.groundColor.copy(this.groundColor),e.intensity=this.intensity,e},n.PointLight=function(e,t,r){n.Light.call(this,e),this.intensity=void 0!==t?t:1,this.distance=void 0!==r?r:0},n.PointLight.prototype=Object.create(n.Light.prototype),n.PointLight.prototype.clone=function(){var e=new n.PointLight;return n.Light.prototype.clone.call(this,e),e.intensity=this.intensity,e.distance=this.distance,e},n.SpotLight=function(e,t,r,i,o){n.Light.call(this,e),this.position.set(0,1,0),this.target=new n.Object3D,this.intensity=void 0!==t?t:1,this.distance=void 0!==r?r:0,this.angle=void 0!==i?i:Math.PI/3,this.exponent=void 0!==o?o:10,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraFov=50,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},n.SpotLight.prototype=Object.create(n.Light.prototype),n.SpotLight.prototype.clone=function(){var e=new n.SpotLight;return n.Light.prototype.clone.call(this,e),e.target=this.target.clone(),e.intensity=this.intensity,e.distance=this.distance,e.angle=this.angle,e.exponent=this.exponent,e.castShadow=this.castShadow,e.onlyShadow=this.onlyShadow,e.shadowCameraNear=this.shadowCameraNear,e.shadowCameraFar=this.shadowCameraFar,e.shadowCameraFov=this.shadowCameraFov,e.shadowCameraVisible=this.shadowCameraVisible,e.shadowBias=this.shadowBias,e.shadowDarkness=this.shadowDarkness,e.shadowMapWidth=this.shadowMapWidth,e.shadowMapHeight=this.shadowMapHeight,e},n.Cache=function(){this.files={}},n.Cache.prototype={constructor:n.Cache,add:function(e,t){this.files[e]=t},get:function(e){return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},n.Loader=function(e){this.showStatus=e,this.statusDomElement=e?n.Loader.prototype.addStatusElement():null,this.imageLoader=new n.ImageLoader,this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},n.Loader.prototype={constructor:n.Loader,crossOrigin:void 0,addStatusElement:function(){var e=document.createElement("div");return e.style.position="absolute",e.style.right="0px",e.style.top="0px",e.style.fontSize="0.8em",e.style.textAlign="left",e.style.background="rgba(0,0,0,0.25)",e.style.color="#fff",e.style.width="120px",e.style.padding="0.5em 0.5em 0.5em 0.5em",e.style.zIndex=1e3,e.innerHTML="Loading ...",e},updateProgress:function(e){var t="Loaded ";e.total?t+=(100*e.loaded/e.total).toFixed(0)+"%":t+=(e.loaded/1024).toFixed(2)+" KB",this.statusDomElement.innerHTML=t},extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t);return r},needsTangents:function(e){for(var t=0,r=e.length;t<r;t++){if(e[t]instanceof n.ShaderMaterial)return!0}return!1},createMaterial:function(e,t){function r(e){var t=Math.log(e)/Math.LN2;return Math.pow(2,Math.round(t))}function i(e,i,o,s,c,l,u){var h=/\.dds$/i.test(o),f=t+o;if(h){var p=n.ImageUtils.loadCompressedTexture(f);e[i]=p}else{var p=document.createElement("canvas");e[i]=new n.Texture(p)}if(e[i].sourceFile=o,s&&(e[i].repeat.set(s[0],s[1]),1!==s[0]&&(e[i].wrapS=n.RepeatWrapping),1!==s[1]&&(e[i].wrapT=n.RepeatWrapping)),c&&e[i].offset.set(c[0],c[1]),l){var d={repeat:n.RepeatWrapping,mirror:n.MirroredRepeatWrapping};void 0!==d[l[0]]&&(e[i].wrapS=d[l[0]]),void 0!==d[l[1]]&&(e[i].wrapT=d[l[1]])}if(u&&(e[i].anisotropy=u),!h){var p=e[i];a.imageLoader.crossOrigin=a.crossOrigin,a.imageLoader.load(f,function(e){if(!1===n.Math.isPowerOfTwo(e.width)||!1===n.Math.isPowerOfTwo(e.height)){var t=r(e.width),i=r(e.height);p.image.width=t,p.image.height=i,p.image.getContext("2d").drawImage(e,0,0,t,i)}else p.image=e;p.needsUpdate=!0})}}function o(e){return(255*e[0]<<16)+(255*e[1]<<8)+255*e[2]}var a=this,s="MeshLambertMaterial",c={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,bumpMap:null,wireframe:!1};if(e.shading){var l=e.shading.toLowerCase();"phong"===l?s="MeshPhongMaterial":"basic"===l&&(s="MeshBasicMaterial")}if(void 0!==e.blending&&void 0!==n[e.blending]&&(c.blending=n[e.blending]),(void 0!==e.transparent||e.opacity<1)&&(c.transparent=e.transparent),void 0!==e.depthTest&&(c.depthTest=e.depthTest),void 0!==e.depthWrite&&(c.depthWrite=e.depthWrite),void 0!==e.visible&&(c.visible=e.visible),void 0!==e.flipSided&&(c.side=n.BackSide),void 0!==e.doubleSided&&(c.side=n.DoubleSide),void 0!==e.wireframe&&(c.wireframe=e.wireframe),void 0!==e.vertexColors&&("face"===e.vertexColors?c.vertexColors=n.FaceColors:e.vertexColors&&(c.vertexColors=n.VertexColors)),e.colorDiffuse?c.color=o(e.colorDiffuse):e.DbgColor&&(c.color=e.DbgColor),e.colorSpecular&&(c.specular=o(e.colorSpecular)),e.colorAmbient&&(c.ambient=o(e.colorAmbient)),e.colorEmissive&&(c.emissive=o(e.colorEmissive)),e.transparency&&(c.opacity=e.transparency),e.specularCoef&&(c.shininess=e.specularCoef),e.mapDiffuse&&t&&i(c,"map",e.mapDiffuse,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy),e.mapLight&&t&&i(c,"lightMap",e.mapLight,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy),e.mapBump&&t&&i(c,"bumpMap",e.mapBump,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy),e.mapNormal&&t&&i(c,"normalMap",e.mapNormal,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy),e.mapSpecular&&t&&i(c,"specularMap",e.mapSpecular,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy),e.mapBumpScale&&(c.bumpScale=e.mapBumpScale),e.mapNormal){var u=n.ShaderLib.normalmap,h=n.UniformsUtils.clone(u.uniforms);h.tNormal.value=c.normalMap,e.mapNormalFactor&&h.uNormalScale.value.set(e.mapNormalFactor,e.mapNormalFactor),c.map&&(h.tDiffuse.value=c.map,h.enableDiffuse.value=!0),c.specularMap&&(h.tSpecular.value=c.specularMap,h.enableSpecular.value=!0),c.lightMap&&(h.tAO.value=c.lightMap,h.enableAO.value=!0),h.diffuse.value.setHex(c.color),h.specular.value.setHex(c.specular),h.ambient.value.setHex(c.ambient),h.shininess.value=c.shininess,void 0!==c.opacity&&(h.opacity.value=c.opacity);var f={fragmentShader:u.fragmentShader,vertexShader:u.vertexShader,uniforms:h,lights:!0,fog:!0},p=new n.ShaderMaterial(f);c.transparent&&(p.transparent=!0)}else var p=new n[s](c);return void 0!==e.DbgName&&(p.name=e.DbgName),p}},n.XHRLoader=function(e){this.cache=new n.Cache,this.manager=void 0!==e?e:n.DefaultLoadingManager},n.XHRLoader.prototype={constructor:n.XHRLoader,load:function(e,t,r,i){var n=this,o=n.cache.get(e);if(void 0!==o)return void t(o);var a=new XMLHttpRequest;void 0!==t&&a.addEventListener("load",function(r){n.cache.add(e,r.target.responseText),t(r.target.responseText),n.manager.itemEnd(e)},!1),void 0!==r&&a.addEventListener("progress",function(e){r(e)},!1),void 0!==i&&a.addEventListener("error",function(e){i(e)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),a.open("GET",e,!0),a.send(null),n.manager.itemStart(e)},setCrossOrigin:function(e){this.crossOrigin=e}},n.ImageLoader=function(e){this.cache=new n.Cache,this.manager=void 0!==e?e:n.DefaultLoadingManager},n.ImageLoader.prototype={constructor:n.ImageLoader,load:function(e,t,r,i){var n=this,o=n.cache.get(e);if(void 0!==o)return void t(o);var a=document.createElement("img");return void 0!==t&&a.addEventListener("load",function(r){n.cache.add(e,this),t(this),n.manager.itemEnd(e)},!1),void 0!==r&&a.addEventListener("progress",function(e){r(e)},!1),void 0!==i&&a.addEventListener("error",function(e){i(e)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),a.src=e,n.manager.itemStart(e),a},setCrossOrigin:function(e){this.crossOrigin=e}};n.JSONLoader=function(e){n.Loader.call(this,e),this.withCredentials=!1},n.JSONLoader.prototype=Object.create(n.Loader.prototype),n.JSONLoader.prototype.load=function(e,t,r){r=r&&"string"==typeof r?r:this.extractUrlBase(e),this.onLoadStart(),this.loadAjaxJSON(this,e,t,r)},n.JSONLoader.prototype.loadAjaxJSON=function(e,t,r,i,n){var o=new XMLHttpRequest,a=0;o.onreadystatechange=function(){if(o.readyState===o.DONE)if(200===o.status||0===o.status){if(o.responseText){var s=JSON.parse(o.responseText);if(void 0!==s.metadata&&"scene"===s.metadata.type)return void console.error('THREE.JSONLoader: "'+t+'" seems to be a Scene. Use THREE.SceneLoader instead.');var c=e.parse(s,i);r(c.geometry,c.materials)}else console.error('THREE.JSONLoader: "'+t+'" seems to be unreachable or the file is empty.');e.onLoadComplete()}else console.error("THREE.JSONLoader: Couldn't load \""+t+'" ('+o.status+")");else o.readyState===o.LOADING?n&&(0===a&&(a=o.getResponseHeader("Content-Length")),n({total:a,loaded:o.responseText.length})):o.readyState===o.HEADERS_RECEIVED&&void 0!==n&&(a=o.getResponseHeader("Content-Length"))},o.open("GET",t,!0),o.withCredentials=this.withCredentials,o.send(null)},n.JSONLoader.prototype.parse=function(e,t){var r=new n.Geometry,i=void 0!==e.scale?1/e.scale:1;if(function(t){function i(e,t){return e&1<<t}var o,a,s,c,l,u,h,f,p,d,m,v,g,y,x,b,w,_,M,S,C,T,A,E,L,P,D,R=e.faces,F=e.vertices,k=e.normals,O=e.colors,U=0;if(void 0!==e.uvs){for(o=0;o<e.uvs.length;o++)e.uvs[o].length&&U++;for(o=0;o<U;o++)r.faceVertexUvs[o]=[]}for(c=0,l=F.length;c<l;)_=new n.Vector3,_.x=F[c++]*t,_.y=F[c++]*t,_.z=F[c++]*t,r.vertices.push(_);for(c=0,l=R.length;c<l;)if(d=R[c++],m=i(d,0),v=i(d,1),g=i(d,3),y=i(d,4),x=i(d,5),b=i(d,6),w=i(d,7),m){if(S=new n.Face3,S.a=R[c],S.b=R[c+1],S.c=R[c+3],C=new n.Face3,C.a=R[c+1],C.b=R[c+2],C.c=R[c+3],c+=4,v&&(p=R[c++],S.materialIndex=p,C.materialIndex=p),s=r.faces.length,g)for(o=0;o<U;o++)for(E=e.uvs[o],r.faceVertexUvs[o][s]=[],r.faceVertexUvs[o][s+1]=[],a=0;a<4;a++)f=R[c++],P=E[2*f],D=E[2*f+1],L=new n.Vector2(P,D),2!==a&&r.faceVertexUvs[o][s].push(L),0!==a&&r.faceVertexUvs[o][s+1].push(L);if(y&&(h=3*R[c++],S.normal.set(k[h++],k[h++],k[h]),C.normal.copy(S.normal)),x)for(o=0;o<4;o++)h=3*R[c++],A=new n.Vector3(k[h++],k[h++],k[h]),2!==o&&S.vertexNormals.push(A),0!==o&&C.vertexNormals.push(A);if(b&&(u=R[c++],T=O[u],S.color.setHex(T),C.color.setHex(T)),w)for(o=0;o<4;o++)u=R[c++],T=O[u],2!==o&&S.vertexColors.push(new n.Color(T)),0!==o&&C.vertexColors.push(new n.Color(T));r.faces.push(S),r.faces.push(C)}else{if(M=new n.Face3,M.a=R[c++],M.b=R[c++],M.c=R[c++],v&&(p=R[c++],M.materialIndex=p),s=r.faces.length,g)for(o=0;o<U;o++)for(E=e.uvs[o],r.faceVertexUvs[o][s]=[],a=0;a<3;a++)f=R[c++],P=E[2*f],D=E[2*f+1],L=new n.Vector2(P,D),r.faceVertexUvs[o][s].push(L);if(y&&(h=3*R[c++],M.normal.set(k[h++],k[h++],k[h])),x)for(o=0;o<3;o++)h=3*R[c++],A=new n.Vector3(k[h++],k[h++],k[h]),M.vertexNormals.push(A);if(b&&(u=R[c++],M.color.setHex(O[u])),w)for(o=0;o<3;o++)u=R[c++],M.vertexColors.push(new n.Color(O[u]));r.faces.push(M)}}(i),function(){var t=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var i=0,o=e.skinWeights.length;i<o;i+=t){var a=e.skinWeights[i],s=t>1?e.skinWeights[i+1]:0,c=t>2?e.skinWeights[i+2]:0,l=t>3?e.skinWeights[i+3]:0;r.skinWeights.push(new n.Vector4(a,s,c,l))}if(e.skinIndices)for(var i=0,o=e.skinIndices.length;i<o;i+=t){var u=e.skinIndices[i],h=t>1?e.skinIndices[i+1]:0,f=t>2?e.skinIndices[i+2]:0,p=t>3?e.skinIndices[i+3]:0;r.skinIndices.push(new n.Vector4(u,h,f,p))}r.bones=e.bones,r.bones&&r.bones.length>0&&(r.skinWeights.length!==r.skinIndices.length||r.skinIndices.length!==r.vertices.length)&&console.warn("When skinning, number of vertices ("+r.vertices.length+"), skinIndices ("+r.skinIndices.length+"), and skinWeights ("+r.skinWeights.length+") should match."),r.animation=e.animation,r.animations=e.animations}(),function(t){if(void 0!==e.morphTargets){var i,o,a,s,c,l;for(i=0,o=e.morphTargets.length;i<o;i++)for(r.morphTargets[i]={},r.morphTargets[i].name=e.morphTargets[i].name,r.morphTargets[i].vertices=[],c=r.morphTargets[i].vertices,l=e.morphTargets[i].vertices,a=0,s=l.length;a<s;a+=3){var u=new n.Vector3;u.x=l[a]*t,u.y=l[a+1]*t,u.z=l[a+2]*t,c.push(u)}}if(void 0!==e.morphColors){var i,o,h,f,p,d,m;for(i=0,o=e.morphColors.length;i<o;i++)for(r.morphColors[i]={},r.morphColors[i].name=e.morphColors[i].name,r.morphColors[i].colors=[],p=r.morphColors[i].colors,d=e.morphColors[i].colors,h=0,f=d.length;h<f;h+=3)m=new n.Color(16755200),m.setRGB(d[h],d[h+1],d[h+2]),p.push(m)}}(i),r.computeFaceNormals(),r.computeBoundingSphere(),void 0===e.materials||0===e.materials.length)return{geometry:r};var o=this.initMaterials(e.materials,t);return this.needsTangents(o)&&r.computeTangents(),{geometry:r,materials:o}},n.LoadingManager=function(e,t,r){var i=this,n=0,o=0;this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(e){o++},this.itemEnd=function(e){n++,void 0!==i.onProgress&&i.onProgress(e,n,o),n===o&&void 0!==i.onLoad&&i.onLoad()}},n.DefaultLoadingManager=new n.LoadingManager,n.BufferGeometryLoader=function(e){this.manager=void 0!==e?e:n.DefaultLoadingManager},n.BufferGeometryLoader.prototype={constructor:n.BufferGeometryLoader,load:function(e,t,r,i){var o=this,a=new n.XHRLoader;a.setCrossOrigin(this.crossOrigin),a.load(e,function(e){t(o.parse(JSON.parse(e)))})},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=new n.BufferGeometry,r=e.attributes,o=e.offsets,a=e.boundingSphere;for(var s in r){var c=r[s];t.attributes[s]={itemSize:c.itemSize,array:new i[c.type](c.array)}}return void 0!==o&&(t.offsets=JSON.parse(JSON.stringify(o))),void 0!==a&&(t.boundingSphere=new n.Sphere((new n.Vector3).fromArray(void 0!==a.center?a.center:[0,0,0]),a.radius)),t}},n.MaterialLoader=function(e){this.manager=void 0!==e?e:n.DefaultLoadingManager},n.MaterialLoader.prototype={constructor:n.MaterialLoader,load:function(e,t,r,i){var o=this,a=new n.XHRLoader;a.setCrossOrigin(this.crossOrigin),a.load(e,function(e){t(o.parse(JSON.parse(e)))})},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=new n[e.type];if(void 0!==e.color&&t.color.setHex(e.color),void 0!==e.ambient&&t.ambient.setHex(e.ambient),void 0!==e.emissive&&t.emissive.setHex(e.emissive),void 0!==e.specular&&t.specular.setHex(e.specular),void 0!==e.shininess&&(t.shininess=e.shininess),void 0!==e.vertexColors&&(t.vertexColors=e.vertexColors),void 0!==e.blending&&(t.blending=e.blending),void 0!==e.side&&(t.side=e.side),void 0!==e.opacity&&(t.opacity=e.opacity),void 0!==e.transparent&&(t.transparent=e.transparent),void 0!==e.wireframe&&(t.wireframe=e.wireframe),void 0!==e.materials)for(var r=0,i=e.materials.length;r<i;r++)t.materials.push(this.parse(e.materials[r]));return t}},n.ObjectLoader=function(e){this.manager=void 0!==e?e:n.DefaultLoadingManager},n.ObjectLoader.prototype={constructor:n.ObjectLoader,load:function(e,t,r,i){var o=this,a=new n.XHRLoader(o.manager);a.setCrossOrigin(this.crossOrigin),a.load(e,function(e){t(o.parse(JSON.parse(e)))})},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=this.parseGeometries(e.geometries),r=this.parseMaterials(e.materials);return this.parseObject(e.object,t,r)},parseGeometries:function(e){var t={};if(void 0!==e)for(var r=new n.JSONLoader,i=new n.BufferGeometryLoader,o=0,a=e.length;o<a;o++){var s,c=e[o];switch(c.type){case"PlaneGeometry":s=new n.PlaneGeometry(c.width,c.height,c.widthSegments,c.heightSegments);break;case"BoxGeometry":case"CubeGeometry":s=new n.BoxGeometry(c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);break;case"CircleGeometry":s=new n.CircleGeometry(c.radius,c.segments);break;case"CylinderGeometry":s=new n.CylinderGeometry(c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded);break;case"SphereGeometry":s=new n.SphereGeometry(c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);break;case"IcosahedronGeometry":s=new n.IcosahedronGeometry(c.radius,c.detail);break;case"TorusGeometry":s=new n.TorusGeometry(c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);break;case"TorusKnotGeometry":s=new n.TorusKnotGeometry(c.radius,c.tube,c.radialSegments,c.tubularSegments,c.p,c.q,c.heightScale);break;case"BufferGeometry":s=i.parse(c.data);break;case"Geometry":s=r.parse(c.data).geometry}s.uuid=c.uuid,void 0!==c.name&&(s.name=c.name),t[c.uuid]=s}return t},parseMaterials:function(e){var t={};if(void 0!==e)for(var r=new n.MaterialLoader,i=0,o=e.length;i<o;i++){var a=e[i],s=r.parse(a);s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),t[a.uuid]=s}return t},parseObject:function(){var e=new n.Matrix4;return function(t,r,i){var o;switch(t.type){case"Scene":o=new n.Scene;break;case"PerspectiveCamera":o=new n.PerspectiveCamera(t.fov,t.aspect,t.near,t.far);break;case"OrthographicCamera":o=new n.OrthographicCamera(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":o=new n.AmbientLight(t.color);break;case"DirectionalLight":o=new n.DirectionalLight(t.color,t.intensity);break;case"PointLight":o=new n.PointLight(t.color,t.intensity,t.distance);break;case"SpotLight":o=new n.SpotLight(t.color,t.intensity,t.distance,t.angle,t.exponent);break;case"HemisphereLight":o=new n.HemisphereLight(t.color,t.groundColor,t.intensity);break;case"Mesh":var a=r[t.geometry],s=i[t.material];void 0===a&&console.error("THREE.ObjectLoader: Undefined geometry "+t.geometry),void 0===s&&console.error("THREE.ObjectLoader: Undefined material "+t.material),o=new n.Mesh(a,s);break;case"Sprite":var s=i[t.material];void 0===s&&console.error("THREE.ObjectLoader: Undefined material "+t.material),o=new n.Sprite(s);break;default:o=new n.Object3D}if(o.uuid=t.uuid,void 0!==t.name&&(o.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(o.position,o.quaternion,o.scale)):(void 0!==t.position&&o.position.fromArray(t.position),void 0!==t.rotation&&o.rotation.fromArray(t.rotation),void 0!==t.scale&&o.scale.fromArray(t.scale)),void 0!==t.visible&&(o.visible=t.visible),void 0!==t.userData&&(o.userData=t.userData),void 0!==t.children)for(var c in t.children)o.add(this.parseObject(t.children[c],r,i));return o}}()},n.SceneLoader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){},this.callbackSync=function(){},this.callbackProgress=function(){},this.geometryHandlers={},this.hierarchyHandlers={},this.addGeometryHandler("ascii",n.JSONLoader)},n.SceneLoader.prototype={constructor:n.SceneLoader,load:function(e,t,r,i){var o=this,a=new n.XHRLoader(o.manager);a.setCrossOrigin(this.crossOrigin),a.load(e,function(r){o.parse(JSON.parse(r),t,e)})},setCrossOrigin:function(e){this.crossOrigin=e},addGeometryHandler:function(e,t){this.geometryHandlers[e]={loaderClass:t}},addHierarchyHandler:function(e,t){this.hierarchyHandlers[e]={loaderClass:t}},parse:function(e,t,r){function i(e,t){return"relativeToHTML"==t?e:T+e}function o(){a(S.scene,E.objects)}function a(e,t){var r,o,s,c,u;for(var h in t){var f=S.objects[h],v=t[h];if(void 0===f){if(v.type&&v.type in C.hierarchyHandlers){if(void 0===v.loading){var g={type:1,url:1,material:1,position:1,rotation:1,scale:1,visible:1,children:1,userData:1,skin:1,morph:1,mirroredLoop:1,duration:1},y={};for(var b in v)b in g||(y[b]=v[b]);d=S.materials[v.material],v.loading=!0;var w=C.hierarchyHandlers[v.type].loaderObject;w.options?w.load(i(v.url,E.urlBaseType),l(h,e,d,v)):w.load(i(v.url,E.urlBaseType),l(h,e,d,v),y)}}else if(void 0!==v.geometry){if(p=S.geometries[v.geometry]){var _=!1;if(d=S.materials[v.material],_=d instanceof n.ShaderMaterial,o=v.position,s=v.rotation,c=v.scale,r=v.matrix,u=v.quaternion,v.material||(d=new n.MeshFaceMaterial(S.face_materials[v.geometry])),d instanceof n.MeshFaceMaterial&&0===d.materials.length&&(d=new n.MeshFaceMaterial(S.face_materials[v.geometry])),d instanceof n.MeshFaceMaterial)for(var M=0;M<d.materials.length;M++)_=_||d.materials[M]instanceof n.ShaderMaterial;_&&p.computeTangents(),v.skin?f=new n.SkinnedMesh(p,d):v.morph?(f=new n.MorphAnimMesh(p,d),void 0!==v.duration&&(f.duration=v.duration),void 0!==v.time&&(f.time=v.time),void 0!==v.mirroredLoop&&(f.mirroredLoop=v.mirroredLoop),d.morphNormals&&p.computeMorphNormals()):f=new n.Mesh(p,d),f.name=h,r?(f.matrixAutoUpdate=!1,f.matrix.set(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])):(f.position.fromArray(o),u?f.quaternion.fromArray(u):f.rotation.fromArray(s),f.scale.fromArray(c)),f.visible=v.visible,f.castShadow=v.castShadow,f.receiveShadow=v.receiveShadow,e.add(f),S.objects[h]=f}}else if("AmbientLight"===v.type||"PointLight"===v.type||"DirectionalLight"===v.type||"SpotLight"===v.type||"HemisphereLight"===v.type||"AreaLight"===v.type){var T=v.color,A=v.intensity,L=v.distance,P=v.position,D=v.rotation;switch(v.type){case"AmbientLight":x=new n.AmbientLight(T);break;case"PointLight":x=new n.PointLight(T,A,L),x.position.fromArray(P);break;case"DirectionalLight":x=new n.DirectionalLight(T,A),x.position.fromArray(v.direction);break;case"SpotLight":x=new n.SpotLight(T,A,L,1),x.angle=v.angle,x.position.fromArray(P),x.target.set(P[0],P[1]-L,P[2]),x.target.applyEuler(new n.Euler(D[0],D[1],D[2],"XYZ"));break;case"HemisphereLight":x=new n.DirectionalLight(T,A,L),x.target.set(P[0],P[1]-L,P[2]),x.target.applyEuler(new n.Euler(D[0],D[1],D[2],"XYZ"));break;case"AreaLight":x=new n.AreaLight(T,A),x.position.fromArray(P),x.width=v.size,x.height=v.size_y}e.add(x),x.name=h,S.lights[h]=x,S.objects[h]=x}else"PerspectiveCamera"===v.type||"OrthographicCamera"===v.type?(o=v.position,s=v.rotation,u=v.quaternion,"PerspectiveCamera"===v.type?m=new n.PerspectiveCamera(v.fov,v.aspect,v.near,v.far):"OrthographicCamera"===v.type&&(m=new n.OrthographicCamera(v.left,v.right,v.top,v.bottom,v.near,v.far)),m.name=h,m.position.fromArray(o),void 0!==u?m.quaternion.fromArray(u):void 0!==s&&m.rotation.fromArray(s),e.add(m),S.cameras[h]=m,S.objects[h]=m):(o=v.position,s=v.rotation,c=v.scale,u=v.quaternion,f=new n.Object3D,f.name=h,f.position.fromArray(o),u?f.quaternion.fromArray(u):f.rotation.fromArray(s),f.scale.fromArray(c),f.visible=void 0!==v.visible&&v.visible,e.add(f),S.objects[h]=f,S.empties[h]=f);if(f){if(void 0!==v.userData)for(var R in v.userData){var F=v.userData[R];f.userData[R]=F}if(void 0!==v.groups)for(var M=0;M<v.groups.length;M++){var k=v.groups[M];void 0===S.groups[k]&&(S.groups[k]=[]),S.groups[k].push(h)}}}void 0!==f&&void 0!==v.children&&a(f,v.children)}}function s(e,t,r){S.geometries[r]=e,S.face_materials[r]=t,o()}function c(e,t,r,i,n){var a=n.position,s=n.rotation,c=n.quaternion,l=n.scale;e.position.fromArray(a),c?e.quaternion.fromArray(c):e.rotation.fromArray(s),e.scale.fromArray(l),i&&e.traverse(function(e){e.material=i});var u=void 0===n.visible||n.visible;e.traverse(function(e){e.visible=u}),r.add(e),e.name=t,S.objects[t]=e,o()}function l(e,t,r,i){return function(n){var o;o=n.content?n.content:n.dae?n.scene:n,c(o,e,t,r,i),b-=1,C.onLoadComplete(),u()}}function u(){var e={totalModels:_,totalTextures:M,loadedModels:_-b,loadedTextures:M-w};C.callbackProgress(e,S),C.onLoadProgress(),0===b&&0===w&&(h(),t(S))}function h(){for(var e=0;e<A.length;e++){var t=A[e],r=S.objects[t.targetName];r?t.object.target=r:(t.object.target=new n.Object3D,S.scene.add(t.object.target)),t.object.target.userData.targetInverse=t.object}}function f(e,t){if(t(e),void 0!==e.children)for(var r in e.children)f(e.children[r],t)}var p,d,m,v,g,y,x,b,w,_,M,S,C=this,T=n.Loader.prototype.extractUrlBase(r),A=[],E=e;for(var L in this.geometryHandlers){var P=this.geometryHandlers[L].loaderClass;this.geometryHandlers[L].loaderObject=new P}for(var L in this.hierarchyHandlers){var P=this.hierarchyHandlers[L].loaderClass;this.hierarchyHandlers[L].loaderObject=new P}if(b=0,w=0,S={scene:new n.Scene,geometries:{},face_materials:{},materials:{},textures:{},objects:{},cameras:{},lights:{},fogs:{},empties:{},groups:{}},E.transform){var D=E.transform.position,R=E.transform.rotation,F=E.transform.scale;D&&S.scene.position.fromArray(D),R&&S.scene.rotation.fromArray(R),F&&S.scene.scale.fromArray(F),(D||R||F)&&(S.scene.updateMatrix(),S.scene.updateMatrixWorld())}var k,O,U=function(e){w-=e,u(),C.onLoadComplete()},N=function(e){return function(){U(e)}};for(k in E.fogs)O=E.fogs[k],"linear"===O.type?v=new n.Fog(0,O.near,O.far):"exp2"===O.type&&(v=new n.FogExp2(0,O.density)),y=O.color,v.color.setRGB(y[0],y[1],y[2]),S.fogs[k]=v;var V,B;for(V in E.geometries)B=E.geometries[V],B.type in this.geometryHandlers&&(b+=1,C.onLoadStart());for(var z in E.objects)f(E.objects[z],function(e){e.type&&e.type in C.hierarchyHandlers&&(b+=1,C.onLoadStart())});_=b;for(V in E.geometries)if(B=E.geometries[V],"cube"===B.type)p=new n.BoxGeometry(B.width,B.height,B.depth,B.widthSegments,B.heightSegments,B.depthSegments),p.name=V,S.geometries[V]=p;else if("plane"===B.type)p=new n.PlaneGeometry(B.width,B.height,B.widthSegments,B.heightSegments),p.name=V,S.geometries[V]=p;else if("sphere"===B.type)p=new n.SphereGeometry(B.radius,B.widthSegments,B.heightSegments),p.name=V,S.geometries[V]=p;else if("cylinder"===B.type)p=new n.CylinderGeometry(B.topRad,B.botRad,B.height,B.radSegs,B.heightSegs),p.name=V,S.geometries[V]=p;else if("torus"===B.type)p=new n.TorusGeometry(B.radius,B.tube,B.segmentsR,B.segmentsT),p.name=V,S.geometries[V]=p;else if("icosahedron"===B.type)p=new n.IcosahedronGeometry(B.radius,B.subdivisions),p.name=V,S.geometries[V]=p;else if(B.type in this.geometryHandlers){var I={};for(var j in B)"type"!==j&&"url"!==j&&(I[j]=B[j]);var H=this.geometryHandlers[B.type].loaderObject;H.load(i(B.url,E.urlBaseType),function(e){return function(t,r){t.name=e,s(t,r,e),b-=1,C.onLoadComplete(),u()}}(V),I)}else if("embedded"===B.type){var G=E.embeds[B.id];if(G.metadata=E.metadata,G){var W=this.geometryHandlers.ascii.loaderObject,X=W.parse(G,"");!function(e){return function(t,r){t.name=e,S.geometries[e]=t,S.face_materials[e]=r}}(V)(X.geometry,X.materials)}}var q,$;for(q in E.textures)if($=E.textures[q],$.url instanceof Array){w+=$.url.length;for(var Y=0;Y<$.url.length;Y++)C.onLoadStart()}else w+=1,C.onLoadStart();M=w;for(q in E.textures){if($=E.textures[q],void 0!==$.mapping&&void 0!==n[$.mapping]&&($.mapping=new n[$.mapping]),$.url instanceof Array){for(var K=$.url.length,Z=[],Q=0;Q<K;Q++)Z[Q]=i($.url[Q],E.urlBaseType);var J=/\.dds$/i.test(Z[0]);g=J?n.ImageUtils.loadCompressedTextureCube(Z,$.mapping,N(K)):n.ImageUtils.loadTextureCube(Z,$.mapping,N(K))}else{var J=/\.dds$/i.test($.url),ee=i($.url,E.urlBaseType),te=N(1);if(g=J?n.ImageUtils.loadCompressedTexture(ee,$.mapping,te):n.ImageUtils.loadTexture(ee,$.mapping,te),void 0!==n[$.minFilter]&&(g.minFilter=n[$.minFilter]),void 0!==n[$.magFilter]&&(g.magFilter=n[$.magFilter]),$.anisotropy&&(g.anisotropy=$.anisotropy),$.repeat&&(g.repeat.set($.repeat[0],$.repeat[1]),1!==$.repeat[0]&&(g.wrapS=n.RepeatWrapping),1!==$.repeat[1]&&(g.wrapT=n.RepeatWrapping)),$.offset&&g.offset.set($.offset[0],$.offset[1]),$.wrap){var re={repeat:n.RepeatWrapping,mirror:n.MirroredRepeatWrapping};void 0!==re[$.wrap[0]]&&(g.wrapS=re[$.wrap[0]]),void 0!==re[$.wrap[1]]&&(g.wrapT=re[$.wrap[1]])}}S.textures[q]=g}var ie,ne,oe;for(ie in E.materials){ne=E.materials[ie];for(oe in ne.parameters)if("envMap"===oe||"map"===oe||"lightMap"===oe||"bumpMap"===oe)ne.parameters[oe]=S.textures[ne.parameters[oe]];else if("shading"===oe)ne.parameters[oe]="flat"===ne.parameters[oe]?n.FlatShading:n.SmoothShading;else if("side"===oe)"double"==ne.parameters[oe]?ne.parameters[oe]=n.DoubleSide:"back"==ne.parameters[oe]?ne.parameters[oe]=n.BackSide:ne.parameters[oe]=n.FrontSide;else if("blending"===oe)ne.parameters[oe]=ne.parameters[oe]in n?n[ne.parameters[oe]]:n.NormalBlending;else if("combine"===oe)ne.parameters[oe]=ne.parameters[oe]in n?n[ne.parameters[oe]]:n.MultiplyOperation;else if("vertexColors"===oe)"face"==ne.parameters[oe]?ne.parameters[oe]=n.FaceColors:ne.parameters[oe]&&(ne.parameters[oe]=n.VertexColors);else if("wrapRGB"===oe){var ae=ne.parameters[oe];ne.parameters[oe]=new n.Vector3(ae[0],ae[1],ae[2])}if(void 0!==ne.parameters.opacity&&ne.parameters.opacity<1&&(ne.parameters.transparent=!0),ne.parameters.normalMap){var se=n.ShaderLib.normalmap,ce=n.UniformsUtils.clone(se.uniforms),le=ne.parameters.color,ue=ne.parameters.specular,he=ne.parameters.ambient,fe=ne.parameters.shininess;ce.tNormal.value=S.textures[ne.parameters.normalMap],ne.parameters.normalScale&&ce.uNormalScale.value.set(ne.parameters.normalScale[0],ne.parameters.normalScale[1]),ne.parameters.map&&(ce.tDiffuse.value=ne.parameters.map,ce.enableDiffuse.value=!0),ne.parameters.envMap&&(ce.tCube.value=ne.parameters.envMap,ce.enableReflection.value=!0,ce.reflectivity.value=ne.parameters.reflectivity),ne.parameters.lightMap&&(ce.tAO.value=ne.parameters.lightMap,ce.enableAO.value=!0),ne.parameters.specularMap&&(ce.tSpecular.value=S.textures[ne.parameters.specularMap],ce.enableSpecular.value=!0),ne.parameters.displacementMap&&(ce.tDisplacement.value=S.textures[ne.parameters.displacementMap],ce.enableDisplacement.value=!0,ce.uDisplacementBias.value=ne.parameters.displacementBias,ce.uDisplacementScale.value=ne.parameters.displacementScale),ce.diffuse.value.setHex(le),ce.specular.value.setHex(ue),ce.ambient.value.setHex(he),ce.shininess.value=fe,ne.parameters.opacity&&(ce.opacity.value=ne.parameters.opacity);var pe={fragmentShader:se.fragmentShader,vertexShader:se.vertexShader,uniforms:ce,lights:!0,fog:!0};d=new n.ShaderMaterial(pe)}else d=new n[ne.type](ne.parameters);d.name=ie,S.materials[ie]=d}for(ie in E.materials)if(ne=E.materials[ie],ne.parameters.materials){for(var de=[],Q=0;Q<ne.parameters.materials.length;Q++){var me=ne.parameters.materials[Q];de.push(S.materials[me])}S.materials[ie].materials=de}o(),S.cameras&&E.defaults.camera&&(S.currentCamera=S.cameras[E.defaults.camera]),S.fogs&&E.defaults.fog&&(S.scene.fog=S.fogs[E.defaults.fog]),C.callbackSync(S),u()}},n.TextureLoader=function(e){this.manager=void 0!==e?e:n.DefaultLoadingManager},n.TextureLoader.prototype={constructor:n.TextureLoader,load:function(e,t,r,i){var o=this,a=new n.ImageLoader(o.manager);a.setCrossOrigin(this.crossOrigin),a.load(e,function(e){var r=new n.Texture(e);r.needsUpdate=!0,void 0!==t&&t(r)})},setCrossOrigin:function(e){this.crossOrigin=e}},n.Material=function(){this.id=n.MaterialIdCount++,this.uuid=n.Math.generateUUID(),this.name="",this.side=n.FrontSide,this.opacity=1,this.transparent=!1,this.blending=n.NormalBlending,this.blendSrc=n.SrcAlphaFactor,this.blendDst=n.OneMinusSrcAlphaFactor,this.blendEquation=n.AddEquation,this.depthTest=!0,this.depthWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=0,this.visible=!0,this.needsUpdate=!0},n.Material.prototype={constructor:n.Material,setValues:function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0!==r){if(t in this){var i=this[t];i instanceof n.Color?i.set(r):i instanceof n.Vector3&&r instanceof n.Vector3?i.copy(r):this[t]="overdraw"==t?Number(r):r}}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},clone:function(e){return void 0===e&&(e=new n.Material),e.name=this.name,e.side=this.side,e.opacity=this.opacity,e.transparent=this.transparent,e.blending=this.blending,e.blendSrc=this.blendSrc,e.blendDst=this.blendDst,e.blendEquation=this.blendEquation,e.depthTest=this.depthTest,e.depthWrite=this.depthWrite,e.polygonOffset=this.polygonOffset,e.polygonOffsetFactor=this.polygonOffsetFactor,e.polygonOffsetUnits=this.polygonOffsetUnits,e.alphaTest=this.alphaTest,e.overdraw=this.overdraw,e.visible=this.visible,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},n.EventDispatcher.prototype.apply(n.Material.prototype),n.MaterialIdCount=0,n.LineBasicMaterial=function(e){n.Material.call(this),this.color=new n.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.setValues(e)},n.LineBasicMaterial.prototype=Object.create(n.Material.prototype),n.LineBasicMaterial.prototype.clone=function(){var e=new n.LineBasicMaterial;return n.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.linewidth=this.linewidth,e.linecap=this.linecap,e.linejoin=this.linejoin,e.vertexColors=this.vertexColors,e.fog=this.fog,e},n.LineDashedMaterial=function(e){n.Material.call(this),this.color=new n.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.vertexColors=!1,this.fog=!0,this.setValues(e)},n.LineDashedMaterial.prototype=Object.create(n.Material.prototype),n.LineDashedMaterial.prototype.clone=function(){var e=new n.LineDashedMaterial;return n.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.linewidth=this.linewidth,e.scale=this.scale,e.dashSize=this.dashSize,e.gapSize=this.gapSize,e.vertexColors=this.vertexColors,e.fog=this.fog,e},n.MeshBasicMaterial=function(e){n.Material.call(this),this.color=new n.Color(16777215),this.map=null,this.lightMap=null,this.specularMap=null,this.envMap=null,this.combine=n.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=n.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=n.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(e)},n.MeshBasicMaterial.prototype=Object.create(n.Material.prototype),n.MeshBasicMaterial.prototype.clone=function(){var e=new n.MeshBasicMaterial;return n.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e},n.MeshLambertMaterial=function(e){n.Material.call(this),this.color=new n.Color(16777215),this.ambient=new n.Color(16777215),this.emissive=new n.Color(0),this.wrapAround=!1,this.wrapRGB=new n.Vector3(1,1,1),this.map=null,this.lightMap=null,this.specularMap=null,this.envMap=null,this.combine=n.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=n.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=n.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},n.MeshLambertMaterial.prototype=Object.create(n.Material.prototype),n.MeshLambertMaterial.prototype.clone=function(){var e=new n.MeshLambertMaterial;return n.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},n.MeshPhongMaterial=function(e){n.Material.call(this),this.color=new n.Color(16777215),this.ambient=new n.Color(16777215),this.emissive=new n.Color(0),this.specular=new n.Color(1118481),this.shininess=30,this.metal=!1,this.wrapAround=!1,this.wrapRGB=new n.Vector3(1,1,1),this.map=null,this.lightMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n.Vector2(1,1),this.specularMap=null,this.envMap=null,this.combine=n.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=n.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=n.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},n.MeshPhongMaterial.prototype=Object.create(n.Material.prototype),n.MeshPhongMaterial.prototype.clone=function(){var e=new n.MeshPhongMaterial;return n.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.specular.copy(this.specular),e.shininess=this.shininess,e.metal=this.metal,e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.bumpMap=this.bumpMap,e.bumpScale=this.bumpScale,e.normalMap=this.normalMap,e.normalScale.copy(this.normalScale),e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},n.MeshDepthMaterial=function(e){n.Material.call(this),this.morphTargets=!1,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)},n.MeshDepthMaterial.prototype=Object.create(n.Material.prototype),n.MeshDepthMaterial.prototype.clone=function(){var e=new n.MeshDepthMaterial;return n.Material.prototype.clone.call(this,e),e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e},n.MeshNormalMaterial=function(e){n.Material.call(this,e),this.shading=n.FlatShading,this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(e)},n.MeshNormalMaterial.prototype=Object.create(n.Material.prototype),n.MeshNormalMaterial.prototype.clone=function(){var e=new n.MeshNormalMaterial;return n.Material.prototype.clone.call(this,e),e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e},n.MeshFaceMaterial=function(e){this.materials=e instanceof Array?e:[]},n.MeshFaceMaterial.prototype.clone=function(){for(var e=new n.MeshFaceMaterial,t=0;t<this.materials.length;t++)e.materials.push(this.materials[t].clone());return e},n.ParticleSystemMaterial=function(e){n.Material.call(this),this.color=new n.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=!1,this.fog=!0,this.setValues(e)},n.ParticleSystemMaterial.prototype=Object.create(n.Material.prototype),n.ParticleSystemMaterial.prototype.clone=function(){var e=new n.ParticleSystemMaterial;return n.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.size=this.size,e.sizeAttenuation=this.sizeAttenuation,e.vertexColors=this.vertexColors,e.fog=this.fog,e},n.ParticleBasicMaterial=n.ParticleSystemMaterial,n.ShaderMaterial=function(e){n.Material.call(this),this.fragmentShader="void main() {}",this.vertexShader="void main() {}",this.uniforms={},this.defines={},this.attributes=null,this.shading=n.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=n.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.setValues(e)},n.ShaderMaterial.prototype=Object.create(n.Material.prototype),n.ShaderMaterial.prototype.clone=function(){var e=new n.ShaderMaterial;return n.Material.prototype.clone.call(this,e),e.fragmentShader=this.fragmentShader,e.vertexShader=this.vertexShader,e.uniforms=n.UniformsUtils.clone(this.uniforms),e.attributes=this.attributes,e.defines=this.defines,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.fog=this.fog,e.lights=this.lights,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},n.RawShaderMaterial=function(e){n.ShaderMaterial.call(this,e)},n.RawShaderMaterial.prototype=Object.create(n.ShaderMaterial.prototype),n.RawShaderMaterial.prototype.clone=function(){var e=new n.RawShaderMaterial;return n.ShaderMaterial.prototype.clone.call(this,e),e},n.SpriteMaterial=function(e){n.Material.call(this),this.color=new n.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(e)},n.SpriteMaterial.prototype=Object.create(n.Material.prototype),n.SpriteMaterial.prototype.clone=function(){var e=new n.SpriteMaterial;return n.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.rotation=this.rotation,e.fog=this.fog,e},n.SpriteCanvasMaterial=function(e){n.Material.call(this),this.color=new n.Color(16777215),this.program=function(e,t){},this.setValues(e)},n.SpriteCanvasMaterial.prototype=Object.create(n.Material.prototype),n.SpriteCanvasMaterial.prototype.clone=function(){var e=new n.SpriteCanvasMaterial;return n.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.program=this.program,e},n.ParticleCanvasMaterial=n.SpriteCanvasMaterial,n.Texture=function(e,t,r,i,o,a,s,c,l){this.id=n.TextureIdCount++,this.uuid=n.Math.generateUUID(),this.name="",this.image=e,this.mipmaps=[],this.mapping=void 0!==t?t:new n.UVMapping,this.wrapS=void 0!==r?r:n.ClampToEdgeWrapping,this.wrapT=void 0!==i?i:n.ClampToEdgeWrapping,this.magFilter=void 0!==o?o:n.LinearFilter,this.minFilter=void 0!==a?a:n.LinearMipMapLinearFilter,this.anisotropy=void 0!==l?l:1,this.format=void 0!==s?s:n.RGBAFormat,this.type=void 0!==c?c:n.UnsignedByteType,this.offset=new n.Vector2(0,0),this.repeat=new n.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this._needsUpdate=!1,this.onUpdate=null},n.Texture.prototype={constructor:n.Texture,get needsUpdate(){return this._needsUpdate},set needsUpdate(e){!0===e&&this.update(),this._needsUpdate=e},clone:function(e){return void 0===e&&(e=new n.Texture),e.image=this.image,e.mipmaps=this.mipmaps.slice(0),e.mapping=this.mapping,e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.format=this.format,e.type=this.type,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.generateMipmaps=this.generateMipmaps,e.premultiplyAlpha=this.premultiplyAlpha,e.flipY=this.flipY,e.unpackAlignment=this.unpackAlignment,e},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},n.EventDispatcher.prototype.apply(n.Texture.prototype),n.TextureIdCount=0,n.CompressedTexture=function(e,t,r,i,o,a,s,c,l,u,h){n.Texture.call(this,null,a,s,c,l,u,i,o,h),this.image={width:t,height:r},this.mipmaps=e,this.generateMipmaps=!1},n.CompressedTexture.prototype=Object.create(n.Texture.prototype),n.CompressedTexture.prototype.clone=function(){var e=new n.CompressedTexture;return n.Texture.prototype.clone.call(this,e),e},n.DataTexture=function(e,t,r,i,o,a,s,c,l,u,h){n.Texture.call(this,null,a,s,c,l,u,i,o,h),this.image={data:e,width:t,height:r}},n.DataTexture.prototype=Object.create(n.Texture.prototype),n.DataTexture.prototype.clone=function(){var e=new n.DataTexture;return n.Texture.prototype.clone.call(this,e),e},n.ParticleSystem=function(e,t){n.Object3D.call(this),this.geometry=void 0!==e?e:new n.Geometry,this.material=void 0!==t?t:new n.ParticleSystemMaterial({color:16777215*Math.random()}),this.sortParticles=!1,this.frustumCulled=!1},n.ParticleSystem.prototype=Object.create(n.Object3D.prototype),n.ParticleSystem.prototype.clone=function(e){return void 0===e&&(e=new n.ParticleSystem(this.geometry,this.material)),e.sortParticles=this.sortParticles,n.Object3D.prototype.clone.call(this,e),e},n.Line=function(e,t,r){n.Object3D.call(this),this.geometry=void 0!==e?e:new n.Geometry,this.material=void 0!==t?t:new n.LineBasicMaterial({color:16777215*Math.random()}),this.type=void 0!==r?r:n.LineStrip},n.LineStrip=0,n.LinePieces=1,n.Line.prototype=Object.create(n.Object3D.prototype),n.Line.prototype.clone=function(e){return void 0===e&&(e=new n.Line(this.geometry,this.material,this.type)),n.Object3D.prototype.clone.call(this,e),e},n.Mesh=function(e,t){n.Object3D.call(this),this.geometry=void 0!==e?e:new n.Geometry,this.material=void 0!==t?t:new n.MeshBasicMaterial({color:16777215*Math.random()}),this.updateMorphTargets()},n.Mesh.prototype=Object.create(n.Object3D.prototype),n.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetForcedOrder=[],this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,t=this.geometry.morphTargets.length;e<t;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[e].name]=e}},n.Mesh.prototype.getMorphTargetIndexByName=function(e){return void 0!==this.morphTargetDictionary[e]?this.morphTargetDictionary[e]:(console.log("THREE.Mesh.getMorphTargetIndexByName: morph target "+e+" does not exist. Returning 0."),0)},n.Mesh.prototype.clone=function(e,t){return void 0===e&&(e=new n.Mesh(this.geometry,this.material)),n.Object3D.prototype.clone.call(this,e,t),e},n.Bone=function(e){n.Object3D.call(this),this.skin=e,this.skinMatrix=new n.Matrix4,this.accumulatedRotWeight=0,this.accumulatedPosWeight=0,this.accumulatedSclWeight=0},n.Bone.prototype=Object.create(n.Object3D.prototype),n.Bone.prototype.update=function(e,t){this.matrixAutoUpdate&&(t|=this.updateMatrix()),(t||this.matrixWorldNeedsUpdate)&&(e?this.skinMatrix.multiplyMatrices(e,this.matrix):this.skinMatrix.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0,this.accumulatedRotWeight=0,this.accumulatedPosWeight=0,this.accumulatedSclWeight=0);for(var r=0,i=this.children.length;r<i;r++)this.children[r].update(this.skinMatrix,t)},n.Skeleton=function(e,t){this.useVertexTexture=void 0===t||t,this.bones=[],this.boneMatrices=[];var r,i,o,a,s;if(void 0!==e){for(var c=0;c<e.length;++c)i=e[c],o=i.pos,a=i.rotq,s=i.scl,r=this.addBone(),r.name=i.name,r.position.set(o[0],o[1],o[2]),r.quaternion.set(a[0],a[1],a[2],a[3]),void 0!==s?r.scale.set(s[0],s[1],s[2]):r.scale.set(1,1,1);for(var c=0;c<e.length;++c)i=e[c],-1!==i.parent&&this.bones[i.parent].add(this.bones[c]);var l=this.bones.length;if(this.useVertexTexture){var u;u=l>256?64:l>64?32:l>16?16:8,this.boneTextureWidth=u,this.boneTextureHeight=u,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new n.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,n.RGBAFormat,n.FloatType),this.boneTexture.minFilter=n.NearestFilter,this.boneTexture.magFilter=n.NearestFilter,this.boneTexture.generateMipmaps=!1,this.boneTexture.flipY=!1}else this.boneMatrices=new Float32Array(16*l)}},n.Skeleton.prototype=Object.create(n.Mesh.prototype),n.Skeleton.prototype.addBone=function(e){return void 0===e&&(e=new n.Bone(this)),this.bones.push(e),e},n.Skeleton.prototype.calculateInverses=function(e){this.boneInverses=[];for(var t=0,r=this.bones.length;t<r;++t){var i=new n.Matrix4;i.getInverse(this.bones[t].skinMatrix),this.boneInverses.push(i)}},n.SkinnedMesh=function(e,t,r){n.Mesh.call(this,e,t),this.skeleton=new n.Skeleton(this.geometry&&this.geometry.bones,r);for(var i=0;i<this.skeleton.bones.length;++i){var o=this.skeleton.bones[i];void 0===o.parent&&this.add(o)}this.identityMatrix=new n.Matrix4,this.pose()},n.SkinnedMesh.prototype=Object.create(n.Mesh.prototype),n.SkinnedMesh.prototype.updateMatrixWorld=function(){var e=new n.Matrix4;return function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent?this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var r=0,i=this.children.length;r<i;r++){var o=this.children[r];o instanceof n.Bone?o.update(this.identityMatrix,!1):o.updateMatrixWorld(!0)}void 0===this.skeleton.boneInverses&&this.skeleton.calculateInverses();for(var a=0,s=this.skeleton.bones.length;a<s;a++)e.multiplyMatrices(this.skeleton.bones[a].skinMatrix,this.skeleton.boneInverses[a]),e.flattenToArrayOffset(this.skeleton.boneMatrices,16*a);this.skeleton.useVertexTexture&&(this.skeleton.boneTexture.needsUpdate=!0)}}(),n.SkinnedMesh.prototype.pose=function(){this.updateMatrixWorld(!0),this.normalizeSkinWeights()},n.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof n.Geometry)for(var e=0;e<this.geometry.skinIndices.length;e++){var t=this.geometry.skinWeights[e],r=1/t.lengthManhattan();r!==1/0?t.multiplyScalar(r):t.set(1)}},n.SkinnedMesh.prototype.clone=function(e){return void 0===e&&(e=new n.SkinnedMesh(this.geometry,this.material,this.useVertexTexture)),n.Mesh.prototype.clone.call(this,e),e},n.MorphAnimMesh=function(e,t){n.Mesh.call(this,e,t),this.duration=1e3,this.mirroredLoop=!1,this.time=0,this.lastKeyframe=0,this.currentKeyframe=0,this.direction=1,this.directionBackwards=!1,this.setFrameRange(0,this.geometry.morphTargets.length-1)},n.MorphAnimMesh.prototype=Object.create(n.Mesh.prototype),n.MorphAnimMesh.prototype.setFrameRange=function(e,t){this.startKeyframe=e,this.endKeyframe=t,this.length=this.endKeyframe-this.startKeyframe+1},n.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1,this.directionBackwards=!1},n.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1,this.directionBackwards=!0},n.MorphAnimMesh.prototype.parseAnimations=function(){var e=this.geometry;e.animations||(e.animations={});for(var t,r=e.animations,i=/([a-z]+)(\d+)/,n=0,o=e.morphTargets.length;n<o;n++){var a=e.morphTargets[n],s=a.name.match(i);if(s&&s.length>1){var c=s[1];s[2];r[c]||(r[c]={start:1/0,end:-1/0});var l=r[c];n<l.start&&(l.start=n),n>l.end&&(l.end=n),t||(t=c)}}e.firstAnimation=t},n.MorphAnimMesh.prototype.setAnimationLabel=function(e,t,r){this.geometry.animations||(this.geometry.animations={}),this.geometry.animations[e]={start:t,end:r}},n.MorphAnimMesh.prototype.playAnimation=function(e,t){var r=this.geometry.animations[e];r?(this.setFrameRange(r.start,r.end),this.duration=(r.end-r.start)/t*1e3,this.time=0):console.warn("animation["+e+"] undefined")},n.MorphAnimMesh.prototype.updateAnimation=function(e){var t=this.duration/this.length;this.time+=this.direction*e,this.mirroredLoop?(this.time>this.duration||this.time<0)&&(this.direction*=-1,this.time>this.duration&&(this.time=this.duration,this.directionBackwards=!0),this.time<0&&(this.time=0,this.directionBackwards=!1)):(this.time=this.time%this.duration,this.time<0&&(this.time+=this.duration));var r=this.startKeyframe+n.Math.clamp(Math.floor(this.time/t),0,this.length-1);r!==this.currentKeyframe&&(this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[r]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=r);var i=this.time%t/t;this.directionBackwards&&(i=1-i),this.morphTargetInfluences[this.currentKeyframe]=i,this.morphTargetInfluences[this.lastKeyframe]=1-i},n.MorphAnimMesh.prototype.clone=function(e){return void 0===e&&(e=new n.MorphAnimMesh(this.geometry,this.material)),e.duration=this.duration,e.mirroredLoop=this.mirroredLoop,e.time=this.time,e.lastKeyframe=this.lastKeyframe,e.currentKeyframe=this.currentKeyframe,e.direction=this.direction,e.directionBackwards=this.directionBackwards,n.Mesh.prototype.clone.call(this,e),e},n.LOD=function(){n.Object3D.call(this),this.objects=[]},n.LOD.prototype=Object.create(n.Object3D.prototype),n.LOD.prototype.addLevel=function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var r=0;r<this.objects.length&&!(t<this.objects[r].distance);r++);this.objects.splice(r,0,{distance:t,object:e}),this.add(e)},n.LOD.prototype.getObjectForDistance=function(e){for(var t=1,r=this.objects.length;t<r&&!(e<this.objects[t].distance);t++);return this.objects[t-1].object},n.LOD.prototype.update=function(){var e=new n.Vector3,t=new n.Vector3;return function(r){if(this.objects.length>1){e.setFromMatrixPosition(r.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var i=e.distanceTo(t);this.objects[0].object.visible=!0;for(var n=1,o=this.objects.length;n<o&&i>=this.objects[n].distance;n++)this.objects[n-1].object.visible=!1,this.objects[n].object.visible=!0;for(;n<o;n++)this.objects[n].object.visible=!1}}}(),n.LOD.prototype.clone=function(e){void 0===e&&(e=new n.LOD),n.Object3D.prototype.clone.call(this,e);for(var t=0,r=this.objects.length;t<r;t++){var i=this.objects[t].object.clone();i.visible=0===t,e.addLevel(i,this.objects[t].distance)}return e},n.Sprite=function(){var e=new n.Float32Attribute(3,3);e.set([-.5,-.5,0,.5,-.5,0,.5,.5,0]);var t=new n.BufferGeometry;return t.addAttribute("position",e),function(e){n.Object3D.call(this),this.geometry=t,this.material=void 0!==e?e:new n.SpriteMaterial}}(),n.Sprite.prototype=Object.create(n.Object3D.prototype),n.Sprite.prototype.updateMatrix=function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},n.Sprite.prototype.clone=function(e){return void 0===e&&(e=new n.Sprite(this.material)),n.Object3D.prototype.clone.call(this,e),e},n.Particle=n.Sprite,n.Scene=function(){n.Object3D.call(this),this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,this.matrixAutoUpdate=!1,this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]},n.Scene.prototype=Object.create(n.Object3D.prototype),n.Scene.prototype.__addObject=function(e){if(e instanceof n.Light)-1===this.__lights.indexOf(e)&&this.__lights.push(e),e.target&&void 0===e.target.parent&&this.add(e.target);else if(!(e instanceof n.Camera||e instanceof n.Bone)){this.__objectsAdded.push(e);var t=this.__objectsRemoved.indexOf(e);-1!==t&&this.__objectsRemoved.splice(t,1)}this.dispatchEvent({type:"objectAdded",object:e}),e.dispatchEvent({type:"addedToScene",scene:this});for(var r=0;r<e.children.length;r++)this.__addObject(e.children[r])},n.Scene.prototype.__removeObject=function(e){if(e instanceof n.Light){var t=this.__lights.indexOf(e);if(-1!==t&&this.__lights.splice(t,1),e.shadowCascadeArray)for(var r=0;r<e.shadowCascadeArray.length;r++)this.__removeObject(e.shadowCascadeArray[r])}else if(!(e instanceof n.Camera)){this.__objectsRemoved.push(e);var t=this.__objectsAdded.indexOf(e);-1!==t&&this.__objectsAdded.splice(t,1)}this.dispatchEvent({type:"objectRemoved",object:e}),e.dispatchEvent({type:"removedFromScene",scene:this});for(var i=0;i<e.children.length;i++)this.__removeObject(e.children[i])},n.Scene.prototype.clone=function(e){return void 0===e&&(e=new n.Scene),n.Object3D.prototype.clone.call(this,e),null!==this.fog&&(e.fog=this.fog.clone()),null!==this.overrideMaterial&&(e.overrideMaterial=this.overrideMaterial.clone()),e.autoUpdate=this.autoUpdate,e.matrixAutoUpdate=this.matrixAutoUpdate,e},n.Fog=function(e,t,r){this.name="",this.color=new n.Color(e),this.near=void 0!==t?t:1,this.far=void 0!==r?r:1e3},n.Fog.prototype.clone=function(){return new n.Fog(this.color.getHex(),this.near,this.far)},n.FogExp2=function(e,t){this.name="",this.color=new n.Color(e),this.density=void 0!==t?t:25e-5},n.FogExp2.prototype.clone=function(){return new n.FogExp2(this.color.getHex(),this.density)},n.CanvasRenderer=function(e){function t(){ge.setRGB(0,0,0),ye.setRGB(0,0,0),xe.setRGB(0,0,0);for(var e=0,t=T.length;e<t;e++){var r=T[e],i=r.color;r instanceof n.AmbientLight?ge.add(i):r instanceof n.DirectionalLight?ye.add(i):r instanceof n.PointLight&&xe.add(i)}}function r(e,t,r){for(var i=0,o=T.length;i<o;i++){var a=T[i];if(fe.copy(a.color),a instanceof n.DirectionalLight){var s=be.setFromMatrixPosition(a.matrixWorld).normalize(),c=t.dot(s);if(c<=0)continue;c*=a.intensity,r.add(fe.multiplyScalar(c))}else if(a instanceof n.PointLight){var s=be.setFromMatrixPosition(a.matrixWorld),c=t.dot(be.subVectors(s,e).normalize());if(c<=0)continue;if(0==(c*=0==a.distance?1:1-Math.min(e.distanceTo(s)/a.distance,1)))continue;c*=a.intensity,r.add(fe.multiplyScalar(c))}}}function o(e,t,r){m(r.opacity),v(r.blending);var i=t.scale.x*Y,o=t.scale.y*K,a=.5*Math.sqrt(i*i+o*o);if(ve.min.set(e.x-a,e.y-a),ve.max.set(e.x+a,e.y+a),r instanceof n.SpriteMaterial||r instanceof n.ParticleSystemMaterial){var s=r.map;if(null!==s){!1===s.hasEventListener("update",h)&&(void 0!==s.image&&s.image.width>0&&f(s),s.addEventListener("update",h));var c=pe[s.id];w(void 0!==c?c:"rgba( 0, 0, 0, 1 )");var l=s.image,u=l.width*s.offset.x,p=l.height*s.offset.y,d=l.width*s.repeat.x,g=l.height*s.repeat.y,y=i/d,x=o/g;Z.save(),Z.translate(e.x,e.y),0!==r.rotation&&Z.rotate(r.rotation),Z.translate(-i/2,-o/2),Z.scale(y,x),Z.translate(-u,-p),Z.fillRect(u,p,d,g),Z.restore()}else w(r.color.getStyle()),Z.save(),Z.translate(e.x,e.y),0!==r.rotation&&Z.rotate(r.rotation),Z.scale(i,-o),Z.fillRect(-.5,-.5,1,1),Z.restore()}else r instanceof n.SpriteCanvasMaterial&&(b(r.color.getStyle()),w(r.color.getStyle()),Z.save(),Z.translate(e.x,e.y),0!==r.rotation&&Z.rotate(r.rotation),Z.scale(i,o),r.program(Z),Z.restore())}function a(e,t,r,i){if(m(i.opacity),v(i.blending),Z.beginPath(),Z.moveTo(e.positionScreen.x,e.positionScreen.y),Z.lineTo(t.positionScreen.x,t.positionScreen.y),i instanceof n.LineBasicMaterial){if(g(i.linewidth),y(i.linecap),x(i.linejoin),i.vertexColors!==n.VertexColors)b(i.color.getStyle());else{var o=r.vertexColors[0].getStyle(),a=r.vertexColors[1].getStyle();if(o===a)b(o);else{try{var s=Z.createLinearGradient(e.positionScreen.x,e.positionScreen.y,t.positionScreen.x,t.positionScreen.y);s.addColorStop(0,o),s.addColorStop(1,a)}catch(e){s=o}b(s)}}Z.stroke(),ve.expandByScalar(2*i.linewidth)}else i instanceof n.LineDashedMaterial&&(g(i.linewidth),y(i.linecap),x(i.linejoin),b(i.color.getStyle()),_(i.dashSize,i.gapSize),Z.stroke(),ve.expandByScalar(2*i.linewidth),_(null,null))}function s(e,t,i,o,a,s,h,f){G.info.render.vertices+=3,G.info.render.faces++,m(f.opacity),v(f.blending),D=e.positionScreen.x,R=e.positionScreen.y,F=t.positionScreen.x,k=t.positionScreen.y,O=i.positionScreen.x,U=i.positionScreen.y,c(D,R,F,k,O,U),(f instanceof n.MeshLambertMaterial||f instanceof n.MeshPhongMaterial)&&null===f.map?(ue.copy(f.color),he.copy(f.emissive),f.vertexColors===n.FaceColors&&ue.multiply(h.color),le.copy(ge),we.copy(e.positionWorld).add(t.positionWorld).add(i.positionWorld).divideScalar(3),r(we,h.normalModel,le),le.multiply(ue).add(he),!0===f.wireframe?l(le,f.wireframeLinewidth,f.wireframeLinecap,f.wireframeLinejoin):u(le)):f instanceof n.MeshBasicMaterial||f instanceof n.MeshLambertMaterial||f instanceof n.MeshPhongMaterial?null!==f.map?f.map.mapping instanceof n.UVMapping&&(N=h.uvs,p(D,R,F,k,O,U,N[o].x,N[o].y,N[a].x,N[a].y,N[s].x,N[s].y,f.map)):null!==f.envMap?f.envMap.mapping instanceof n.SphericalReflectionMapping?(_e.copy(h.vertexNormalsModel[o]).applyMatrix3(Me),V=.5*_e.x+.5,B=.5*_e.y+.5,_e.copy(h.vertexNormalsModel[a]).applyMatrix3(Me),z=.5*_e.x+.5,I=.5*_e.y+.5,_e.copy(h.vertexNormalsModel[s]).applyMatrix3(Me),j=.5*_e.x+.5,H=.5*_e.y+.5,p(D,R,F,k,O,U,V,B,z,I,j,H,f.envMap)):f.envMap.mapping instanceof n.SphericalRefractionMapping&&(_e.copy(h.vertexNormalsModel[o]).applyMatrix3(Me),V=-.5*_e.x+.5,B=-.5*_e.y+.5,_e.copy(h.vertexNormalsModel[a]).applyMatrix3(Me),z=-.5*_e.x+.5,I=-.5*_e.y+.5,_e.copy(h.vertexNormalsModel[s]).applyMatrix3(Me),j=-.5*_e.x+.5,H=-.5*_e.y+.5,p(D,R,F,k,O,U,V,B,z,I,j,H,f.envMap)):(le.copy(f.color),f.vertexColors===n.FaceColors&&le.multiply(h.color),!0===f.wireframe?l(le,f.wireframeLinewidth,f.wireframeLinecap,f.wireframeLinejoin):u(le)):f instanceof n.MeshDepthMaterial?(le.r=le.g=le.b=1-M(e.positionScreen.z*e.positionScreen.w,A.near,A.far),!0===f.wireframe?l(le,f.wireframeLinewidth,f.wireframeLinecap,f.wireframeLinejoin):u(le)):f instanceof n.MeshNormalMaterial?(_e.copy(h.normalModel).applyMatrix3(Me),le.setRGB(_e.x,_e.y,_e.z).multiplyScalar(.5).addScalar(.5),!0===f.wireframe?l(le,f.wireframeLinewidth,f.wireframeLinecap,f.wireframeLinejoin):u(le)):(le.setRGB(1,1,1),!0===f.wireframe?l(le,f.wireframeLinewidth,f.wireframeLinecap,f.wireframeLinejoin):u(le))}function c(e,t,r,i,n,o){Z.beginPath(),Z.moveTo(e,t),Z.lineTo(r,i),Z.lineTo(n,o),Z.closePath()}function l(e,t,r,i){g(t),y(r),x(i),b(e.getStyle()),Z.stroke(),ve.expandByScalar(2*t)}function u(e){w(e.getStyle()),Z.fill()}function h(e){f(e.target)}function f(e){var t=e.wrapS===n.RepeatWrapping,r=e.wrapT===n.RepeatWrapping,i=e.image,o=document.createElement("canvas");o.width=i.width,o.height=i.height;var a=o.getContext("2d");a.setTransform(1,0,0,-1,0,i.height),a.drawImage(i,0,0),pe[e.id]=Z.createPattern(o,!0===t&&!0===r?"repeat":!0===t&&!1===r?"repeat-x":!1===t&&!0===r?"repeat-y":"no-repeat")}function p(e,t,r,i,o,a,s,c,l,u,p,d,m){if(!(m instanceof n.DataTexture)){!1===m.hasEventListener("update",h)&&(void 0!==m.image&&m.image.width>0&&f(m),m.addEventListener("update",h));var v=pe[m.id];if(void 0===v)return w("rgba(0,0,0,1)"),void Z.fill();w(v);var g,y,x,b,_,M,S,C,T=m.offset.x/m.repeat.x,A=m.offset.y/m.repeat.y,E=m.image.width*m.repeat.x,L=m.image.height*m.repeat.y;s=(s+T)*E,c=(c+A)*L,l=(l+T)*E,u=(u+A)*L,p=(p+T)*E,d=(d+A)*L,r-=e,i-=t,o-=e,a-=t,l-=s,u-=c,p-=s,d-=c,S=l*d-p*u,0!==S&&(C=1/S,g=(d*r-u*o)*C,y=(d*i-u*a)*C,x=(l*o-p*r)*C,b=(l*a-p*i)*C,_=e-g*s-x*c,M=t-y*s-b*c,Z.save(),Z.transform(g,y,x,b,_,M),Z.fill(),Z.restore())}}function d(e,t,r){var i,n=t.x-e.x,o=t.y-e.y,a=n*n+o*o;0!==a&&(i=r/Math.sqrt(a),n*=i,o*=i,t.x+=n,t.y+=o,e.x-=n,e.y-=o)}function m(e){ee!==e&&(Z.globalAlpha=e,ee=e)}function v(e){te!==e&&(e===n.NormalBlending?Z.globalCompositeOperation="source-over":e===n.AdditiveBlending?Z.globalCompositeOperation="lighter":e===n.SubtractiveBlending&&(Z.globalCompositeOperation="darker"),te=e)}function g(e){ne!==e&&(Z.lineWidth=e,ne=e)}function y(e){oe!==e&&(Z.lineCap=e,oe=e)}function x(e){ae!==e&&(Z.lineJoin=e,ae=e)}function b(e){re!==e&&(Z.strokeStyle=e,re=e)}function w(e){ie!==e&&(Z.fillStyle=e,ie=e)}function _(e,t){se===e&&ce===t||(Z.setLineDash([e,t]),se=e,ce=t)}console.log("THREE.CanvasRenderer",n.REVISION);var M=n.Math.smoothstep;e=e||{};var S,C,T,A,E,L,P,D,R,F,k,O,U,N,V,B,z,I,j,H,G=this,W=new n.Projector,X=void 0!==e.canvas?e.canvas:document.createElement("canvas"),q=X.width,$=X.height,Y=Math.floor(q/2),K=Math.floor($/2),Z=X.getContext("2d",{alpha:!0===e.alpha}),Q=new n.Color(0),J=0,ee=1,te=0,re=null,ie=null,ne=null,oe=null,ae=null,se=null,ce=0,le=(new n.RenderableVertex,new n.RenderableVertex,new n.Color),ue=(new n.Color,new n.Color,new n.Color,new n.Color,new n.Color),he=new n.Color,fe=new n.Color,pe={},de=new n.Box2,me=new n.Box2,ve=new n.Box2,ge=new n.Color,ye=new n.Color,xe=new n.Color,be=new n.Vector3,we=new n.Vector3,_e=new n.Vector3,Me=new n.Matrix3;void 0===Z.setLineDash&&(Z.setLineDash=function(){}),this.domElement=X,this.devicePixelRatio=void 0!==e.devicePixelRatio?e.devicePixelRatio:void 0!==i.devicePixelRatio?i.devicePixelRatio:1,this.autoClear=!0,this.sortObjects=!0,this.sortElements=!0,this.info={render:{vertices:0,faces:0}},this.supportsVertexTextures=function(){},this.setFaceCulling=function(){},this.setSize=function(e,t,r){q=e*this.devicePixelRatio,$=t*this.devicePixelRatio,X.width=q,X.height=$,Y=Math.floor(q/2),K=Math.floor($/2),!1!==r&&(X.style.width=e+"px",X.style.height=t+"px"),de.min.set(-Y,-K),de.max.set(Y,K),me.min.set(-Y,-K),me.max.set(Y,K),ee=1,te=0,re=null,ie=null,ne=null,oe=null,ae=null,this.setViewport(0,0,e,t)},this.setViewport=function(e,t,r,i){var n=e*this.devicePixelRatio,o=t*this.devicePixelRatio,a=r*this.devicePixelRatio,s=i*this.devicePixelRatio;Z.setTransform(a/q,0,0,-s/$,n,$-o),Z.translate(Y,K)},this.setScissor=function(){},this.enableScissorTest=function(){},this.setClearColor=function(e,t){Q.set(e),J=void 0!==t?t:1,me.min.set(-Y,-K),me.max.set(Y,K)},this.setClearColorHex=function(e,t){console.warn("DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead."),this.setClearColor(e,t)},this.getMaxAnisotropy=function(){return 0},this.clear=function(){!1===me.empty()&&(me.intersect(de),me.expandByScalar(2),J<1&&Z.clearRect(0|me.min.x,0|me.min.y,me.max.x-me.min.x|0,me.max.y-me.min.y|0),J>0&&(v(n.NormalBlending),m(1),w("rgba("+Math.floor(255*Q.r)+","+Math.floor(255*Q.g)+","+Math.floor(255*Q.b)+","+J+")"),Z.fillRect(0|me.min.x,0|me.min.y,me.max.x-me.min.x|0,me.max.y-me.min.y|0)),me.makeEmpty())},this.clearColor=function(){},this.clearDepth=function(){},this.clearStencil=function(){},this.render=function(e,r){if(r instanceof n.Camera==!1)return void console.error("THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.");!0===this.autoClear&&this.clear(),G.info.render.vertices=0,G.info.render.faces=0,S=W.projectScene(e,r,this.sortObjects,this.sortElements),C=S.elements,T=S.lights,A=r,Me.getNormalMatrix(r.matrixWorldInverse),t();for(var i=0,c=C.length;i<c;i++){var l=C[i],u=l.material;if(void 0!==u&&0!==u.opacity){if(ve.makeEmpty(),l instanceof n.RenderableSprite)E=l,E.x*=Y,E.y*=K,o(E,l,u);else if(l instanceof n.RenderableLine)E=l.v1,L=l.v2,E.positionScreen.x*=Y,E.positionScreen.y*=K,L.positionScreen.x*=Y,L.positionScreen.y*=K,ve.setFromPoints([E.positionScreen,L.positionScreen]),!0===de.isIntersectionBox(ve)&&a(E,L,l,u);else if(l instanceof n.RenderableFace){if(E=l.v1,L=l.v2,P=l.v3,E.positionScreen.z<-1||E.positionScreen.z>1)continue;if(L.positionScreen.z<-1||L.positionScreen.z>1)continue;if(P.positionScreen.z<-1||P.positionScreen.z>1)continue;E.positionScreen.x*=Y,E.positionScreen.y*=K,L.positionScreen.x*=Y,L.positionScreen.y*=K,P.positionScreen.x*=Y,P.positionScreen.y*=K,u.overdraw>0&&(d(E.positionScreen,L.positionScreen,u.overdraw),d(L.positionScreen,P.positionScreen,u.overdraw),d(P.positionScreen,E.positionScreen,u.overdraw)),ve.setFromPoints([E.positionScreen,L.positionScreen,P.positionScreen]),!0===de.isIntersectionBox(ve)&&s(E,L,P,0,1,2,l,u)}me.union(ve)}}}},n.ShaderChunk={fog_pars_fragment:["#ifdef USE_FOG","\tuniform vec3 fogColor;","\t#ifdef FOG_EXP2","\t\tuniform float fogDensity;","\t#else","\t\tuniform float fogNear;","\t\tuniform float fogFar;","\t#endif","#endif"].join("\n"),fog_fragment:["#ifdef USE_FOG","\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;","\t#else","\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;","\t#endif","\t#ifdef FOG_EXP2","\t\tconst float LOG2 = 1.442695;","\t\tfloat fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","\t#else","\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );","\t#endif","\tgl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","#endif"].join("\n"),envmap_pars_fragment:["#ifdef USE_ENVMAP","\tuniform float reflectivity;","\tuniform samplerCube envMap;","\tuniform float flipEnvMap;","\tuniform int combine;","\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )","\t\tuniform bool useRefract;","\t\tuniform float refractionRatio;","\t#else","\t\tvarying vec3 vReflect;","\t#endif","#endif"].join("\n"),envmap_fragment:["#ifdef USE_ENVMAP","\tvec3 reflectVec;","\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )","\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );","\t\tvec3 worldNormal = normalize( vec3( vec4( normal, 0.0 ) * viewMatrix ) );","\t\tif ( useRefract ) {","\t\t\treflectVec = refract( cameraToVertex, worldNormal, refractionRatio );","\t\t} else { ","\t\t\treflectVec = reflect( cameraToVertex, worldNormal );","\t\t}","\t#else","\t\treflectVec = vReflect;","\t#endif","\t#ifdef DOUBLE_SIDED","\t\tfloat flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );","\t\tvec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );","\t#else","\t\tvec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );","\t#endif","\t#ifdef GAMMA_INPUT","\t\tcubeColor.xyz *= cubeColor.xyz;","\t#endif","\tif ( combine == 1 ) {","\t\tgl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );","\t} else if ( combine == 2 ) {","\t\tgl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;","\t} else {","\t\tgl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );","\t}","#endif"].join("\n"),envmap_pars_vertex:["#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )","\tvarying vec3 vReflect;","\tuniform float refractionRatio;","\tuniform bool useRefract;","#endif"].join("\n"),worldpos_vertex:["#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )","\t#ifdef USE_SKINNING","\t\tvec4 worldPosition = modelMatrix * skinned;","\t#endif","\t#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )","\t\tvec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );","\t#endif","\t#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )","\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\t#endif","#endif"].join("\n"),envmap_vertex:["#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )","\tvec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;","\tworldNormal = normalize( worldNormal );","\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );","\tif ( useRefract ) {","\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );","\t} else {","\t\tvReflect = reflect( cameraToVertex, worldNormal );","\t}","#endif"].join("\n"),map_particle_pars_fragment:["#ifdef USE_MAP","\tuniform sampler2D map;","#endif"].join("\n"),map_particle_fragment:["#ifdef USE_MAP","\tgl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );","#endif"].join("\n"),map_pars_vertex:["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )","\tvarying vec2 vUv;","\tuniform vec4 offsetRepeat;","#endif"].join("\n"),map_pars_fragment:["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )","\tvarying vec2 vUv;","#endif","#ifdef USE_MAP","\tuniform sampler2D map;","#endif"].join("\n"),map_vertex:["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )","\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;","#endif"].join("\n"),map_fragment:["#ifdef USE_MAP","\tvec4 texelColor = texture2D( map, vUv );","\t#ifdef GAMMA_INPUT","\t\ttexelColor.xyz *= texelColor.xyz;","\t#endif","\tgl_FragColor = gl_FragColor * texelColor;","#endif"].join("\n"),lightmap_pars_fragment:["#ifdef USE_LIGHTMAP","\tvarying vec2 vUv2;","\tuniform sampler2D lightMap;","#endif"].join("\n"),lightmap_pars_vertex:["#ifdef USE_LIGHTMAP","\tvarying vec2 vUv2;","#endif"].join("\n"),lightmap_fragment:["#ifdef USE_LIGHTMAP","\tgl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );","#endif"].join("\n"),lightmap_vertex:["#ifdef USE_LIGHTMAP","\tvUv2 = uv2;","#endif"].join("\n"),bumpmap_pars_fragment:["#ifdef USE_BUMPMAP","\tuniform sampler2D bumpMap;","\tuniform float bumpScale;","\tvec2 dHdxy_fwd() {","\t\tvec2 dSTdx = dFdx( vUv );","\t\tvec2 dSTdy = dFdy( vUv );","\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;","\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;","\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;","\t\treturn vec2( dBx, dBy );","\t}","\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {","\t\tvec3 vSigmaX = dFdx( surf_pos );","\t\tvec3 vSigmaY = dFdy( surf_pos );","\t\tvec3 vN = surf_norm;","\t\tvec3 R1 = cross( vSigmaY, vN );","\t\tvec3 R2 = cross( vN, vSigmaX );","\t\tfloat fDet = dot( vSigmaX, R1 );","\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );","\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );","\t}","#endif"].join("\n"),normalmap_pars_fragment:["#ifdef USE_NORMALMAP","\tuniform sampler2D normalMap;","\tuniform vec2 normalScale;","\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {","\t\tvec3 q0 = dFdx( eye_pos.xyz );","\t\tvec3 q1 = dFdy( eye_pos.xyz );","\t\tvec2 st0 = dFdx( vUv.st );","\t\tvec2 st1 = dFdy( vUv.st );","\t\tvec3 S = normalize(  q0 * st1.t - q1 * st0.t );","\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );","\t\tvec3 N = normalize( surf_norm );","\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;","\t\tmapN.xy = normalScale * mapN.xy;","\t\tmat3 tsn = mat3( S, T, N );","\t\treturn normalize( tsn * mapN );","\t}","#endif"].join("\n"),specularmap_pars_fragment:["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),specularmap_fragment:["float specularStrength;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\tspecularStrength = texelSpecular.r;","#else","\tspecularStrength = 1.0;","#endif"].join("\n"),lights_lambert_pars_vertex:["uniform vec3 ambient;","uniform vec3 diffuse;","uniform vec3 emissive;","uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_HEMI_LIGHTS > 0","\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];","\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];","\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];","\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","#endif","#ifdef WRAP_AROUND","\tuniform vec3 wrapRGB;","#endif"].join("\n"),lights_lambert_vertex:["vLightFront = vec3( 0.0 );","#ifdef DOUBLE_SIDED","\tvLightBack = vec3( 0.0 );","#endif","transformedNormal = normalize( transformedNormal );","#if MAX_DIR_LIGHTS > 0","for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {","\tvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","\tvec3 dirVector = normalize( lDirection.xyz );","\tfloat dotProduct = dot( transformedNormal, dirVector );","\tvec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );","\t#ifdef DOUBLE_SIDED","\t\tvec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );","\t\t#ifdef WRAP_AROUND","\t\t\tvec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );","\t\t#endif","\t#endif","\t#ifdef WRAP_AROUND","\t\tvec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );","\t\tdirectionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );","\t\t#ifdef DOUBLE_SIDED","\t\t\tdirectionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );","\t\t#endif","\t#endif","\tvLightFront += directionalLightColor[ i ] * directionalLightWeighting;","\t#ifdef DOUBLE_SIDED","\t\tvLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;","\t#endif","}","#endif","#if MAX_POINT_LIGHTS > 0","\tfor( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","\t\tvec3 lVector = lPosition.xyz - mvPosition.xyz;","\t\tfloat lDistance = 1.0;","\t\tif ( pointLightDistance[ i ] > 0.0 )","\t\t\tlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );","\t\tlVector = normalize( lVector );","\t\tfloat dotProduct = dot( transformedNormal, lVector );","\t\tvec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );","\t\t#ifdef DOUBLE_SIDED","\t\t\tvec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );","\t\t\t#ifdef WRAP_AROUND","\t\t\t\tvec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );","\t\t\t#endif","\t\t#endif","\t\t#ifdef WRAP_AROUND","\t\t\tvec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );","\t\t\tpointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );","\t\t\t#ifdef DOUBLE_SIDED","\t\t\t\tpointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );","\t\t\t#endif","\t\t#endif","\t\tvLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;","\t\t#ifdef DOUBLE_SIDED","\t\t\tvLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;","\t\t#endif","\t}","#endif","#if MAX_SPOT_LIGHTS > 0","\tfor( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","\t\tvec3 lVector = lPosition.xyz - mvPosition.xyz;","\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );","\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {","\t\t\tspotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );","\t\t\tfloat lDistance = 1.0;","\t\t\tif ( spotLightDistance[ i ] > 0.0 )","\t\t\t\tlDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );","\t\t\tlVector = normalize( lVector );","\t\t\tfloat dotProduct = dot( transformedNormal, lVector );","\t\t\tvec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );","\t\t\t#ifdef DOUBLE_SIDED","\t\t\t\tvec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );","\t\t\t\t#ifdef WRAP_AROUND","\t\t\t\t\tvec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );","\t\t\t\t#endif","\t\t\t#endif","\t\t\t#ifdef WRAP_AROUND","\t\t\t\tvec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );","\t\t\t\tspotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );","\t\t\t\t#ifdef DOUBLE_SIDED","\t\t\t\t\tspotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );","\t\t\t\t#endif","\t\t\t#endif","\t\t\tvLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;","\t\t\t#ifdef DOUBLE_SIDED","\t\t\t\tvLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;","\t\t\t#endif","\t\t}","\t}","#endif","#if MAX_HEMI_LIGHTS > 0","\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {","\t\tvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );","\t\tvec3 lVector = normalize( lDirection.xyz );","\t\tfloat dotProduct = dot( transformedNormal, lVector );","\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;","\t\tfloat hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;","\t\tvLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );","\t\t#ifdef DOUBLE_SIDED","\t\t\tvLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );","\t\t#endif","\t}","#endif","vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;","#ifdef DOUBLE_SIDED","\tvLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;","#endif"].join("\n"),lights_phong_pars_vertex:["#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )","\tvarying vec3 vWorldPosition;","#endif"].join("\n"),lights_phong_vertex:["#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )","\tvWorldPosition = worldPosition.xyz;","#endif"].join("\n"),lights_phong_pars_fragment:["uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_HEMI_LIGHTS > 0","\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];","\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];","\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];","\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )","\tvarying vec3 vWorldPosition;","#endif","#ifdef WRAP_AROUND","\tuniform vec3 wrapRGB;","#endif","varying vec3 vViewPosition;","varying vec3 vNormal;"].join("\n"),lights_phong_fragment:["vec3 normal = normalize( vNormal );","vec3 viewPosition = normalize( vViewPosition );","#ifdef DOUBLE_SIDED","\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );","#endif","#ifdef USE_NORMALMAP","\tnormal = perturbNormal2Arb( -vViewPosition, normal );","#elif defined( USE_BUMPMAP )","\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );","#endif","#if MAX_POINT_LIGHTS > 0","\tvec3 pointDiffuse  = vec3( 0.0 );","\tvec3 pointSpecular = vec3( 0.0 );","\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","\t\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;","\t\tfloat lDistance = 1.0;","\t\tif ( pointLightDistance[ i ] > 0.0 )","\t\t\tlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );","\t\tlVector = normalize( lVector );","\t\tfloat dotProduct = dot( normal, lVector );","\t\t#ifdef WRAP_AROUND","\t\t\tfloat pointDiffuseWeightFull = max( dotProduct, 0.0 );","\t\t\tfloat pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );","\t\t\tvec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );","\t\t#else","\t\t\tfloat pointDiffuseWeight = max( dotProduct, 0.0 );","\t\t#endif","\t\tpointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;","\t\tvec3 pointHalfVector = normalize( lVector + viewPosition );","\t\tfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );","\t\tfloat pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );","\t\tfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;","\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );","\t\tpointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;","\t}","#endif","#if MAX_SPOT_LIGHTS > 0","\tvec3 spotDiffuse  = vec3( 0.0 );","\tvec3 spotSpecular = vec3( 0.0 );","\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","\t\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;","\t\tfloat lDistance = 1.0;","\t\tif ( spotLightDistance[ i ] > 0.0 )","\t\t\tlDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );","\t\tlVector = normalize( lVector );","\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );","\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {","\t\t\tspotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );","\t\t\tfloat dotProduct = dot( normal, lVector );","\t\t\t#ifdef WRAP_AROUND","\t\t\t\tfloat spotDiffuseWeightFull = max( dotProduct, 0.0 );","\t\t\t\tfloat spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );","\t\t\t\tvec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );","\t\t\t#else","\t\t\t\tfloat spotDiffuseWeight = max( dotProduct, 0.0 );","\t\t\t#endif","\t\t\tspotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;","\t\t\tvec3 spotHalfVector = normalize( lVector + viewPosition );","\t\t\tfloat spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );","\t\t\tfloat spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );","\t\t\tfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;","\t\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );","\t\t\tspotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;","\t\t}","\t}","#endif","#if MAX_DIR_LIGHTS > 0","\tvec3 dirDiffuse  = vec3( 0.0 );","\tvec3 dirSpecular = vec3( 0.0 );","\tfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {","\t\tvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","\t\tvec3 dirVector = normalize( lDirection.xyz );","\t\tfloat dotProduct = dot( normal, dirVector );","\t\t#ifdef WRAP_AROUND","\t\t\tfloat dirDiffuseWeightFull = max( dotProduct, 0.0 );","\t\t\tfloat dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );","\t\t\tvec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );","\t\t#else","\t\t\tfloat dirDiffuseWeight = max( dotProduct, 0.0 );","\t\t#endif","\t\tdirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;","\t\tvec3 dirHalfVector = normalize( dirVector + viewPosition );","\t\tfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );","\t\tfloat dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );","\t\tfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;","\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );","\t\tdirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;","\t}","#endif","#if MAX_HEMI_LIGHTS > 0","\tvec3 hemiDiffuse  = vec3( 0.0 );","\tvec3 hemiSpecular = vec3( 0.0 );","\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {","\t\tvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );","\t\tvec3 lVector = normalize( lDirection.xyz );","\t\tfloat dotProduct = dot( normal, lVector );","\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;","\t\tvec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );","\t\themiDiffuse += diffuse * hemiColor;","\t\tvec3 hemiHalfVectorSky = normalize( lVector + viewPosition );","\t\tfloat hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;","\t\tfloat hemiSpecularWeightSky = specularStrength * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );","\t\tvec3 lVectorGround = -lVector;","\t\tvec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );","\t\tfloat hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;","\t\tfloat hemiSpecularWeightGround = specularStrength * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );","\t\tfloat dotProductGround = dot( normal, lVectorGround );","\t\tfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;","\t\tvec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );","\t\tvec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );","\t\themiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );","\t}","#endif","vec3 totalDiffuse = vec3( 0.0 );","vec3 totalSpecular = vec3( 0.0 );","#if MAX_DIR_LIGHTS > 0","\ttotalDiffuse += dirDiffuse;","\ttotalSpecular += dirSpecular;","#endif","#if MAX_HEMI_LIGHTS > 0","\ttotalDiffuse += hemiDiffuse;","\ttotalSpecular += hemiSpecular;","#endif","#if MAX_POINT_LIGHTS > 0","\ttotalDiffuse += pointDiffuse;","\ttotalSpecular += pointSpecular;","#endif","#if MAX_SPOT_LIGHTS > 0","\ttotalDiffuse += spotDiffuse;","\ttotalSpecular += spotSpecular;","#endif","#ifdef METAL","\tgl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );","#else","\tgl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;","#endif"].join("\n"),color_pars_fragment:["#ifdef USE_COLOR","\tvarying vec3 vColor;","#endif"].join("\n"),color_fragment:["#ifdef USE_COLOR","\tgl_FragColor = gl_FragColor * vec4( vColor, 1.0 );","#endif"].join("\n"),color_pars_vertex:["#ifdef USE_COLOR","\tvarying vec3 vColor;","#endif"].join("\n"),color_vertex:["#ifdef USE_COLOR","\t#ifdef GAMMA_INPUT","\t\tvColor = color * color;","\t#else","\t\tvColor = color;","\t#endif","#endif"].join("\n"),skinning_pars_vertex:["#ifdef USE_SKINNING","\t#ifdef BONE_TEXTURE","\t\tuniform sampler2D boneTexture;","\t\tuniform int boneTextureWidth;","\t\tuniform int boneTextureHeight;","\t\tmat4 getBoneMatrix( const in float i ) {","\t\t\tfloat j = i * 4.0;","\t\t\tfloat x = mod( j, float( boneTextureWidth ) );","\t\t\tfloat y = floor( j / float( boneTextureWidth ) );","\t\t\tfloat dx = 1.0 / float( boneTextureWidth );","\t\t\tfloat dy = 1.0 / float( boneTextureHeight );","\t\t\ty = dy * ( y + 0.5 );","\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );","\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );","\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );","\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );","\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );","\t\t\treturn bone;","\t\t}","\t#else","\t\tuniform mat4 boneGlobalMatrices[ MAX_BONES ];","\t\tmat4 getBoneMatrix( const in float i ) {","\t\t\tmat4 bone = boneGlobalMatrices[ int(i) ];","\t\t\treturn bone;","\t\t}","\t#endif","#endif"].join("\n"),skinbase_vertex:["#ifdef USE_SKINNING","\tmat4 boneMatX = getBoneMatrix( skinIndex.x );","\tmat4 boneMatY = getBoneMatrix( skinIndex.y );","\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );","\tmat4 boneMatW = getBoneMatrix( skinIndex.w );","#endif"].join("\n"),skinning_vertex:["#ifdef USE_SKINNING","\t#ifdef USE_MORPHTARGETS","\tvec4 skinVertex = vec4( morphed, 1.0 );","\t#else","\tvec4 skinVertex = vec4( position, 1.0 );","\t#endif","\tvec4 skinned  = boneMatX * skinVertex * skinWeight.x;","\tskinned      += boneMatY * skinVertex * skinWeight.y;","\tskinned      += boneMatZ * skinVertex * skinWeight.z;","\tskinned      += boneMatW * skinVertex * skinWeight.w;","#endif"].join("\n"),morphtarget_pars_vertex:["#ifdef USE_MORPHTARGETS","\t#ifndef USE_MORPHNORMALS","\tuniform float morphTargetInfluences[ 8 ];","\t#else","\tuniform float morphTargetInfluences[ 4 ];","\t#endif","#endif"].join("\n"),morphtarget_vertex:["#ifdef USE_MORPHTARGETS","\tvec3 morphed = vec3( 0.0 );","\tmorphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];","\tmorphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];","\tmorphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];","\tmorphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];","\t#ifndef USE_MORPHNORMALS","\tmorphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];","\tmorphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];","\tmorphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];","\tmorphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];","\t#endif","\tmorphed += position;","#endif"].join("\n"),default_vertex:["vec4 mvPosition;","#ifdef USE_SKINNING","\tmvPosition = modelViewMatrix * skinned;","#endif","#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )","\tmvPosition = modelViewMatrix * vec4( morphed, 1.0 );","#endif","#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )","\tmvPosition = modelViewMatrix * vec4( position, 1.0 );","#endif","gl_Position = projectionMatrix * mvPosition;"].join("\n"),morphnormal_vertex:["#ifdef USE_MORPHNORMALS","\tvec3 morphedNormal = vec3( 0.0 );","\tmorphedNormal +=  ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];","\tmorphedNormal +=  ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];","\tmorphedNormal +=  ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];","\tmorphedNormal +=  ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];","\tmorphedNormal += normal;","#endif"].join("\n"),skinnormal_vertex:["#ifdef USE_SKINNING","\tmat4 skinMatrix = skinWeight.x * boneMatX;","\tskinMatrix \t+= skinWeight.y * boneMatY;","\tskinMatrix \t+= skinWeight.z * boneMatZ;","\tskinMatrix \t+= skinWeight.w * boneMatW;","\t#ifdef USE_MORPHNORMALS","\tvec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );","\t#else","\tvec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );","\t#endif","#endif"].join("\n"),defaultnormal_vertex:["vec3 objectNormal;","#ifdef USE_SKINNING","\tobjectNormal = skinnedNormal.xyz;","#endif","#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )","\tobjectNormal = morphedNormal;","#endif","#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )","\tobjectNormal = normal;","#endif","#ifdef FLIP_SIDED","\tobjectNormal = -objectNormal;","#endif","vec3 transformedNormal = normalMatrix * objectNormal;"].join("\n"),shadowmap_pars_fragment:["#ifdef USE_SHADOWMAP","\tuniform sampler2D shadowMap[ MAX_SHADOWS ];","\tuniform vec2 shadowMapSize[ MAX_SHADOWS ];","\tuniform float shadowDarkness[ MAX_SHADOWS ];","\tuniform float shadowBias[ MAX_SHADOWS ];","\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];","\tfloat unpackDepth( const in vec4 rgba_depth ) {","\t\tconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );","\t\tfloat depth = dot( rgba_depth, bit_shift );","\t\treturn depth;","\t}","#endif"].join("\n"),shadowmap_fragment:["#ifdef USE_SHADOWMAP","\t#ifdef SHADOWMAP_DEBUG","\t\tvec3 frustumColors[3];","\t\tfrustumColors[0] = vec3( 1.0, 0.5, 0.0 );","\t\tfrustumColors[1] = vec3( 0.0, 1.0, 0.8 );","\t\tfrustumColors[2] = vec3( 0.0, 0.5, 1.0 );","\t#endif","\t#ifdef SHADOWMAP_CASCADE","\t\tint inFrustumCount = 0;","\t#endif","\tfloat fDepth;","\tvec3 shadowColor = vec3( 1.0 );","\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {","\t\tvec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;","\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );","\t\tbool inFrustum = all( inFrustumVec );","\t\t#ifdef SHADOWMAP_CASCADE","\t\t\tinFrustumCount += int( inFrustum );","\t\t\tbvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );","\t\t#else","\t\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );","\t\t#endif","\t\tbool frustumTest = all( frustumTestVec );","\t\tif ( frustumTest ) {","\t\t\tshadowCoord.z += shadowBias[ i ];","\t\t\t#if defined( SHADOWMAP_TYPE_PCF )","\t\t\t\tfloat shadow = 0.0;","\t\t\t\tconst float shadowDelta = 1.0 / 9.0;","\t\t\t\tfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;","\t\t\t\tfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;","\t\t\t\tfloat dx0 = -1.25 * xPixelOffset;","\t\t\t\tfloat dy0 = -1.25 * yPixelOffset;","\t\t\t\tfloat dx1 = 1.25 * xPixelOffset;","\t\t\t\tfloat dy1 = 1.25 * yPixelOffset;","\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );","\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;","\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );","\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;","\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );","\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;","\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );","\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;","\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );","\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;","\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );","\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;","\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );","\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;","\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );","\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;","\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );","\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;","\t\t\t\tshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );","\t\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )","\t\t\t\tfloat shadow = 0.0;","\t\t\t\tfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;","\t\t\t\tfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;","\t\t\t\tfloat dx0 = -1.0 * xPixelOffset;","\t\t\t\tfloat dy0 = -1.0 * yPixelOffset;","\t\t\t\tfloat dx1 = 1.0 * xPixelOffset;","\t\t\t\tfloat dy1 = 1.0 * yPixelOffset;","\t\t\t\tmat3 shadowKernel;","\t\t\t\tmat3 depthKernel;","\t\t\t\tdepthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );","\t\t\t\tdepthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );","\t\t\t\tdepthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );","\t\t\t\tdepthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );","\t\t\t\tdepthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );","\t\t\t\tdepthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );","\t\t\t\tdepthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );","\t\t\t\tdepthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );","\t\t\t\tdepthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );","\t\t\t\tvec3 shadowZ = vec3( shadowCoord.z );","\t\t\t\tshadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));","\t\t\t\tshadowKernel[0] *= vec3(0.25);","\t\t\t\tshadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));","\t\t\t\tshadowKernel[1] *= vec3(0.25);","\t\t\t\tshadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));","\t\t\t\tshadowKernel[2] *= vec3(0.25);","\t\t\t\tvec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );","\t\t\t\tshadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );","\t\t\t\tshadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );","\t\t\t\tvec4 shadowValues;","\t\t\t\tshadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );","\t\t\t\tshadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );","\t\t\t\tshadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );","\t\t\t\tshadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );","\t\t\t\tshadow = dot( shadowValues, vec4( 1.0 ) );","\t\t\t\tshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );","\t\t\t#else","\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );","\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );","\t\t\t\tif ( fDepth < shadowCoord.z )","\t\t\t\t\tshadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );","\t\t\t#endif","\t\t}","\t\t#ifdef SHADOWMAP_DEBUG","\t\t\t#ifdef SHADOWMAP_CASCADE","\t\t\t\tif ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];","\t\t\t#else","\t\t\t\tif ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];","\t\t\t#endif","\t\t#endif","\t}","\t#ifdef GAMMA_OUTPUT","\t\tshadowColor *= shadowColor;","\t#endif","\tgl_FragColor.xyz = gl_FragColor.xyz * shadowColor;","#endif"].join("\n"),shadowmap_pars_vertex:["#ifdef USE_SHADOWMAP","\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];","\tuniform mat4 shadowMatrix[ MAX_SHADOWS ];","#endif"].join("\n"),shadowmap_vertex:["#ifdef USE_SHADOWMAP","\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {","\t\tvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;","\t}","#endif"].join("\n"),alphatest_fragment:["#ifdef ALPHATEST","\tif ( gl_FragColor.a < ALPHATEST ) discard;","#endif"].join("\n"),linear_to_gamma_fragment:["#ifdef GAMMA_OUTPUT","\tgl_FragColor.xyz = sqrt( gl_FragColor.xyz );","#endif"].join("\n"),logdepthbuf_pars_vertex:["#ifdef USE_LOGDEPTHBUF","\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tvarying float vFragDepth;","\t#endif","\tuniform float logDepthBufFC;","#endif"].join("\n"),logdepthbuf_vertex:["#ifdef USE_LOGDEPTHBUF","\tgl_Position.z = log2(max(1e-6, gl_Position.w + 1.0)) * logDepthBufFC;","\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tvFragDepth = 1.0 + gl_Position.w;","#else","\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;","\t#endif","#endif"].join("\n"),logdepthbuf_pars_fragment:["#ifdef USE_LOGDEPTHBUF","\tuniform float logDepthBufFC;","\t#ifdef USE_LOGDEPTHBUF_EXT","\t\t#extension GL_EXT_frag_depth : enable","\t\tvarying float vFragDepth;","\t#endif","#endif"].join("\n"),logdepthbuf_fragment:["#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)","\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;","#endif"].join("\n")},n.UniformsUtils={merge:function(e){var t,r,i,n={};for(t=0;t<e.length;t++){i=this.clone(e[t]);for(r in i)n[r]=i[r]}return n},clone:function(e){var t,r,i,o={};for(t in e){o[t]={};for(r in e[t])i=e[t][r],i instanceof n.Color||i instanceof n.Vector2||i instanceof n.Vector3||i instanceof n.Vector4||i instanceof n.Matrix4||i instanceof n.Texture?o[t][r]=i.clone():i instanceof Array?o[t][r]=i.slice():o[t][r]=i}return o}},n.UniformsLib={common:{diffuse:{type:"c",value:new n.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new n.Vector4(0,0,1,1)},lightMap:{type:"t",value:null},specularMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},useRefract:{type:"i",value:0},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98},combine:{type:"i",value:0},morphTargetInfluences:{type:"f",value:0}},bump:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new n.Vector2(1,1)}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new n.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new n.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new n.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}},n.ShaderLib={basic:{uniforms:n.UniformsUtils.merge([n.UniformsLib.common,n.UniformsLib.fog,n.UniformsLib.shadowmap]),vertexShader:[n.ShaderChunk.map_pars_vertex,n.ShaderChunk.lightmap_pars_vertex,n.ShaderChunk.envmap_pars_vertex,n.ShaderChunk.color_pars_vertex,n.ShaderChunk.morphtarget_pars_vertex,n.ShaderChunk.skinning_pars_vertex,n.ShaderChunk.shadowmap_pars_vertex,n.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",n.ShaderChunk.map_vertex,n.ShaderChunk.lightmap_vertex,n.ShaderChunk.color_vertex,n.ShaderChunk.skinbase_vertex,"\t#ifdef USE_ENVMAP",n.ShaderChunk.morphnormal_vertex,n.ShaderChunk.skinnormal_vertex,n.ShaderChunk.defaultnormal_vertex,"\t#endif",n.ShaderChunk.morphtarget_vertex,n.ShaderChunk.skinning_vertex,n.ShaderChunk.default_vertex,n.ShaderChunk.logdepthbuf_vertex,n.ShaderChunk.worldpos_vertex,n.ShaderChunk.envmap_vertex,n.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",n.ShaderChunk.color_pars_fragment,n.ShaderChunk.map_pars_fragment,n.ShaderChunk.lightmap_pars_fragment,n.ShaderChunk.envmap_pars_fragment,n.ShaderChunk.fog_pars_fragment,n.ShaderChunk.shadowmap_pars_fragment,n.ShaderChunk.specularmap_pars_fragment,n.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( diffuse, opacity );",n.ShaderChunk.logdepthbuf_fragment,n.ShaderChunk.map_fragment,n.ShaderChunk.alphatest_fragment,n.ShaderChunk.specularmap_fragment,n.ShaderChunk.lightmap_fragment,n.ShaderChunk.color_fragment,n.ShaderChunk.envmap_fragment,n.ShaderChunk.shadowmap_fragment,n.ShaderChunk.linear_to_gamma_fragment,n.ShaderChunk.fog_fragment,"}"].join("\n")},lambert:{uniforms:n.UniformsUtils.merge([n.UniformsLib.common,n.UniformsLib.fog,n.UniformsLib.lights,n.UniformsLib.shadowmap,{ambient:{type:"c",value:new n.Color(16777215)},emissive:{type:"c",value:new n.Color(0)},wrapRGB:{type:"v3",value:new n.Vector3(1,1,1)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","#endif",n.ShaderChunk.map_pars_vertex,n.ShaderChunk.lightmap_pars_vertex,n.ShaderChunk.envmap_pars_vertex,n.ShaderChunk.lights_lambert_pars_vertex,n.ShaderChunk.color_pars_vertex,n.ShaderChunk.morphtarget_pars_vertex,n.ShaderChunk.skinning_pars_vertex,n.ShaderChunk.shadowmap_pars_vertex,n.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",n.ShaderChunk.map_vertex,n.ShaderChunk.lightmap_vertex,n.ShaderChunk.color_vertex,n.ShaderChunk.morphnormal_vertex,n.ShaderChunk.skinbase_vertex,n.ShaderChunk.skinnormal_vertex,n.ShaderChunk.defaultnormal_vertex,n.ShaderChunk.morphtarget_vertex,n.ShaderChunk.skinning_vertex,n.ShaderChunk.default_vertex,n.ShaderChunk.logdepthbuf_vertex,n.ShaderChunk.worldpos_vertex,n.ShaderChunk.envmap_vertex,n.ShaderChunk.lights_lambert_vertex,n.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","#endif",n.ShaderChunk.color_pars_fragment,n.ShaderChunk.map_pars_fragment,n.ShaderChunk.lightmap_pars_fragment,n.ShaderChunk.envmap_pars_fragment,n.ShaderChunk.fog_pars_fragment,n.ShaderChunk.shadowmap_pars_fragment,n.ShaderChunk.specularmap_pars_fragment,n.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( vec3( 1.0 ), opacity );",n.ShaderChunk.logdepthbuf_fragment,n.ShaderChunk.map_fragment,n.ShaderChunk.alphatest_fragment,n.ShaderChunk.specularmap_fragment,"\t#ifdef DOUBLE_SIDED","\t\tif ( gl_FrontFacing )","\t\t\tgl_FragColor.xyz *= vLightFront;","\t\telse","\t\t\tgl_FragColor.xyz *= vLightBack;","\t#else","\t\tgl_FragColor.xyz *= vLightFront;","\t#endif",n.ShaderChunk.lightmap_fragment,n.ShaderChunk.color_fragment,n.ShaderChunk.envmap_fragment,n.ShaderChunk.shadowmap_fragment,n.ShaderChunk.linear_to_gamma_fragment,n.ShaderChunk.fog_fragment,"}"].join("\n")},phong:{uniforms:n.UniformsUtils.merge([n.UniformsLib.common,n.UniformsLib.bump,n.UniformsLib.normalmap,n.UniformsLib.fog,n.UniformsLib.lights,n.UniformsLib.shadowmap,{ambient:{type:"c",value:new n.Color(16777215)},emissive:{type:"c",value:new n.Color(0)},specular:{type:"c",value:new n.Color(1118481)},shininess:{type:"f",value:30},wrapRGB:{type:"v3",value:new n.Vector3(1,1,1)}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","varying vec3 vNormal;",n.ShaderChunk.map_pars_vertex,n.ShaderChunk.lightmap_pars_vertex,n.ShaderChunk.envmap_pars_vertex,n.ShaderChunk.lights_phong_pars_vertex,n.ShaderChunk.color_pars_vertex,n.ShaderChunk.morphtarget_pars_vertex,n.ShaderChunk.skinning_pars_vertex,n.ShaderChunk.shadowmap_pars_vertex,n.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",n.ShaderChunk.map_vertex,n.ShaderChunk.lightmap_vertex,n.ShaderChunk.color_vertex,n.ShaderChunk.morphnormal_vertex,n.ShaderChunk.skinbase_vertex,n.ShaderChunk.skinnormal_vertex,n.ShaderChunk.defaultnormal_vertex,"\tvNormal = normalize( transformedNormal );",n.ShaderChunk.morphtarget_vertex,n.ShaderChunk.skinning_vertex,n.ShaderChunk.default_vertex,n.ShaderChunk.logdepthbuf_vertex,"\tvViewPosition = -mvPosition.xyz;",n.ShaderChunk.worldpos_vertex,n.ShaderChunk.envmap_vertex,n.ShaderChunk.lights_phong_vertex,n.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform vec3 ambient;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;",n.ShaderChunk.color_pars_fragment,n.ShaderChunk.map_pars_fragment,n.ShaderChunk.lightmap_pars_fragment,n.ShaderChunk.envmap_pars_fragment,n.ShaderChunk.fog_pars_fragment,n.ShaderChunk.lights_phong_pars_fragment,n.ShaderChunk.shadowmap_pars_fragment,n.ShaderChunk.bumpmap_pars_fragment,n.ShaderChunk.normalmap_pars_fragment,n.ShaderChunk.specularmap_pars_fragment,n.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( vec3( 1.0 ), opacity );",n.ShaderChunk.logdepthbuf_fragment,n.ShaderChunk.map_fragment,n.ShaderChunk.alphatest_fragment,n.ShaderChunk.specularmap_fragment,n.ShaderChunk.lights_phong_fragment,n.ShaderChunk.lightmap_fragment,n.ShaderChunk.color_fragment,n.ShaderChunk.envmap_fragment,n.ShaderChunk.shadowmap_fragment,n.ShaderChunk.linear_to_gamma_fragment,n.ShaderChunk.fog_fragment,"}"].join("\n")},particle_basic:{uniforms:n.UniformsUtils.merge([n.UniformsLib.particle,n.UniformsLib.shadowmap]),vertexShader:["uniform float size;","uniform float scale;",n.ShaderChunk.color_pars_vertex,n.ShaderChunk.shadowmap_pars_vertex,n.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",n.ShaderChunk.color_vertex,"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\t#ifdef USE_SIZEATTENUATION","\t\tgl_PointSize = size * ( scale / length( mvPosition.xyz ) );","\t#else","\t\tgl_PointSize = size;","\t#endif","\tgl_Position = projectionMatrix * mvPosition;",n.ShaderChunk.logdepthbuf_vertex,n.ShaderChunk.worldpos_vertex,n.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;","uniform float opacity;",n.ShaderChunk.color_pars_fragment,n.ShaderChunk.map_particle_pars_fragment,n.ShaderChunk.fog_pars_fragment,n.ShaderChunk.shadowmap_pars_fragment,n.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( psColor, opacity );",n.ShaderChunk.logdepthbuf_fragment,n.ShaderChunk.map_particle_fragment,n.ShaderChunk.alphatest_fragment,n.ShaderChunk.color_fragment,n.ShaderChunk.shadowmap_fragment,n.ShaderChunk.fog_fragment,"}"].join("\n")},dashed:{uniforms:n.UniformsUtils.merge([n.UniformsLib.common,n.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",n.ShaderChunk.color_pars_vertex,n.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",n.ShaderChunk.color_vertex,"\tvLineDistance = scale * lineDistance;","\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * mvPosition;",n.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",n.ShaderChunk.color_pars_fragment,n.ShaderChunk.fog_pars_fragment,n.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tif ( mod( vLineDistance, totalSize ) > dashSize ) {","\t\tdiscard;","\t}","\tgl_FragColor = vec4( diffuse, opacity );",n.ShaderChunk.logdepthbuf_fragment,n.ShaderChunk.color_fragment,n.ShaderChunk.fog_fragment,"}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:[n.ShaderChunk.morphtarget_pars_vertex,n.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",n.ShaderChunk.morphtarget_vertex,n.ShaderChunk.default_vertex,n.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;",n.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",n.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;","\t#else","\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;","\t#endif","\tfloat color = 1.0 - smoothstep( mNear, mFar, depth );","\tgl_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",n.ShaderChunk.morphtarget_pars_vertex,n.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvNormal = normalize( normalMatrix * normal );",n.ShaderChunk.morphtarget_vertex,n.ShaderChunk.default_vertex,n.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;",n.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",n.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},normalmap:{uniforms:n.UniformsUtils.merge([n.UniformsLib.fog,n.UniformsLib.lights,n.UniformsLib.shadowmap,{enableAO:{type:"i",value:0},enableDiffuse:{type:"i",value:0},enableSpecular:{type:"i",value:0},enableReflection:{type:"i",value:0},enableDisplacement:{type:"i",value:0},tDisplacement:{type:"t",value:null},tDiffuse:{type:"t",value:null},tCube:{type:"t",value:null},tNormal:{type:"t",value:null},tSpecular:{type:"t",value:null},tAO:{type:"t",value:null},uNormalScale:{type:"v2",value:new n.Vector2(1,1)},uDisplacementBias:{type:"f",value:0},uDisplacementScale:{type:"f",value:1},diffuse:{type:"c",value:new n.Color(16777215)},specular:{type:"c",value:new n.Color(1118481)},ambient:{type:"c",value:new n.Color(16777215)},shininess:{type:"f",value:30},opacity:{type:"f",value:1},useRefract:{type:"i",value:0},refractionRatio:{type:"f",value:.98},reflectivity:{type:"f",value:.5},uOffset:{type:"v2",value:new n.Vector2(0,0)},uRepeat:{type:"v2",value:new n.Vector2(1,1)},wrapRGB:{type:"v3",value:new n.Vector3(1,1,1)}}]),fragmentShader:["uniform vec3 ambient;","uniform vec3 diffuse;","uniform vec3 specular;","uniform float shininess;","uniform float opacity;","uniform bool enableDiffuse;","uniform bool enableSpecular;","uniform bool enableAO;","uniform bool enableReflection;","uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tSpecular;","uniform sampler2D tAO;","uniform samplerCube tCube;","uniform vec2 uNormalScale;","uniform bool useRefract;","uniform float refractionRatio;","uniform float reflectivity;","varying vec3 vTangent;","varying vec3 vBinormal;","varying vec3 vNormal;","varying vec2 vUv;","uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_HEMI_LIGHTS > 0","\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];","\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];","\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];","\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","#endif","#ifdef WRAP_AROUND","\tuniform vec3 wrapRGB;","#endif","varying vec3 vWorldPosition;","varying vec3 vViewPosition;",n.ShaderChunk.shadowmap_pars_fragment,n.ShaderChunk.fog_pars_fragment,n.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",n.ShaderChunk.logdepthbuf_fragment,"\tgl_FragColor = vec4( vec3( 1.0 ), opacity );","\tvec3 specularTex = vec3( 1.0 );","\tvec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;","\tnormalTex.xy *= uNormalScale;","\tnormalTex = normalize( normalTex );","\tif( enableDiffuse ) {","\t\t#ifdef GAMMA_INPUT","\t\t\tvec4 texelColor = texture2D( tDiffuse, vUv );","\t\t\ttexelColor.xyz *= texelColor.xyz;","\t\t\tgl_FragColor = gl_FragColor * texelColor;","\t\t#else","\t\t\tgl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );","\t\t#endif","\t}","\tif( enableAO ) {","\t\t#ifdef GAMMA_INPUT","\t\t\tvec4 aoColor = texture2D( tAO, vUv );","\t\t\taoColor.xyz *= aoColor.xyz;","\t\t\tgl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz;","\t\t#else","\t\t\tgl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;","\t\t#endif","\t}","\tif( enableSpecular )","\t\tspecularTex = texture2D( tSpecular, vUv ).xyz;","\tmat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );","\tvec3 finalNormal = tsb * normalTex;","\t#ifdef FLIP_SIDED","\t\tfinalNormal = -finalNormal;","\t#endif","\tvec3 normal = normalize( finalNormal );","\tvec3 viewPosition = normalize( vViewPosition );","\t#if MAX_POINT_LIGHTS > 0","\t\tvec3 pointDiffuse = vec3( 0.0 );","\t\tvec3 pointSpecular = vec3( 0.0 );","\t\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","\t\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","\t\t\tvec3 pointVector = lPosition.xyz + vViewPosition.xyz;","\t\t\tfloat pointDistance = 1.0;","\t\t\tif ( pointLightDistance[ i ] > 0.0 )","\t\t\t\tpointDistance = 1.0 - min( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 );","\t\t\tpointVector = normalize( pointVector );","\t\t\t#ifdef WRAP_AROUND","\t\t\t\tfloat pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );","\t\t\t\tfloat pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );","\t\t\t\tvec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );","\t\t\t#else","\t\t\t\tfloat pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );","\t\t\t#endif","\t\t\tpointDiffuse += pointDistance * pointLightColor[ i ] * diffuse * pointDiffuseWeight;","\t\t\tvec3 pointHalfVector = normalize( pointVector + viewPosition );","\t\t\tfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );","\t\t\tfloat pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, shininess ), 0.0 );","\t\t\tfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;","\t\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( pointVector, pointHalfVector ), 5.0 );","\t\t\tpointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;","\t\t}","\t#endif","\t#if MAX_SPOT_LIGHTS > 0","\t\tvec3 spotDiffuse = vec3( 0.0 );","\t\tvec3 spotSpecular = vec3( 0.0 );","\t\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","\t\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","\t\t\tvec3 spotVector = lPosition.xyz + vViewPosition.xyz;","\t\t\tfloat spotDistance = 1.0;","\t\t\tif ( spotLightDistance[ i ] > 0.0 )","\t\t\t\tspotDistance = 1.0 - min( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 );","\t\t\tspotVector = normalize( spotVector );","\t\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );","\t\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {","\t\t\t\tspotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );","\t\t\t\t#ifdef WRAP_AROUND","\t\t\t\t\tfloat spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 );","\t\t\t\t\tfloat spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 );","\t\t\t\t\tvec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );","\t\t\t\t#else","\t\t\t\t\tfloat spotDiffuseWeight = max( dot( normal, spotVector ), 0.0 );","\t\t\t\t#endif","\t\t\t\tspotDiffuse += spotDistance * spotLightColor[ i ] * diffuse * spotDiffuseWeight * spotEffect;","\t\t\t\tvec3 spotHalfVector = normalize( spotVector + viewPosition );","\t\t\t\tfloat spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );","\t\t\t\tfloat spotSpecularWeight = specularTex.r * max( pow( spotDotNormalHalf, shininess ), 0.0 );","\t\t\t\tfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;","\t\t\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( spotVector, spotHalfVector ), 5.0 );","\t\t\t\tspotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * spotDistance * specularNormalization * spotEffect;","\t\t\t}","\t\t}","\t#endif","\t#if MAX_DIR_LIGHTS > 0","\t\tvec3 dirDiffuse = vec3( 0.0 );","\t\tvec3 dirSpecular = vec3( 0.0 );","\t\tfor( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {","\t\t\tvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","\t\t\tvec3 dirVector = normalize( lDirection.xyz );","\t\t\t#ifdef WRAP_AROUND","\t\t\t\tfloat directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );","\t\t\t\tfloat directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );","\t\t\t\tvec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );","\t\t\t#else","\t\t\t\tfloat dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );","\t\t\t#endif","\t\t\tdirDiffuse += directionalLightColor[ i ] * diffuse * dirDiffuseWeight;","\t\t\tvec3 dirHalfVector = normalize( dirVector + viewPosition );","\t\t\tfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );","\t\t\tfloat dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, shininess ), 0.0 );","\t\t\tfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;","\t\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );","\t\t\tdirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;","\t\t}","\t#endif","\t#if MAX_HEMI_LIGHTS > 0","\t\tvec3 hemiDiffuse  = vec3( 0.0 );","\t\tvec3 hemiSpecular = vec3( 0.0 );","\t\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {","\t\t\tvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );","\t\t\tvec3 lVector = normalize( lDirection.xyz );","\t\t\tfloat dotProduct = dot( normal, lVector );","\t\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;","\t\t\tvec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );","\t\t\themiDiffuse += diffuse * hemiColor;","\t\t\tvec3 hemiHalfVectorSky = normalize( lVector + viewPosition );","\t\t\tfloat hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;","\t\t\tfloat hemiSpecularWeightSky = specularTex.r * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );","\t\t\tvec3 lVectorGround = -lVector;","\t\t\tvec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );","\t\t\tfloat hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;","\t\t\tfloat hemiSpecularWeightGround = specularTex.r * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );","\t\t\tfloat dotProductGround = dot( normal, lVectorGround );","\t\t\tfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;","\t\t\tvec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );","\t\t\tvec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );","\t\t\themiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );","\t\t}","\t#endif","\tvec3 totalDiffuse = vec3( 0.0 );","\tvec3 totalSpecular = vec3( 0.0 );","\t#if MAX_DIR_LIGHTS > 0","\t\ttotalDiffuse += dirDiffuse;","\t\ttotalSpecular += dirSpecular;","\t#endif","\t#if MAX_HEMI_LIGHTS > 0","\t\ttotalDiffuse += hemiDiffuse;","\t\ttotalSpecular += hemiSpecular;","\t#endif","\t#if MAX_POINT_LIGHTS > 0","\t\ttotalDiffuse += pointDiffuse;","\t\ttotalSpecular += pointSpecular;","\t#endif","\t#if MAX_SPOT_LIGHTS > 0","\t\ttotalDiffuse += spotDiffuse;","\t\ttotalSpecular += spotSpecular;","\t#endif","\t#ifdef METAL","\t\tgl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient + totalSpecular );","\t#else","\t\tgl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient ) + totalSpecular;","\t#endif","\tif ( enableReflection ) {","\t\tvec3 vReflect;","\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );","\t\tif ( useRefract ) {","\t\t\tvReflect = refract( cameraToVertex, normal, refractionRatio );","\t\t} else {","\t\t\tvReflect = reflect( cameraToVertex, normal );","\t\t}","\t\tvec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );","\t\t#ifdef GAMMA_INPUT","\t\t\tcubeColor.xyz *= cubeColor.xyz;","\t\t#endif","\t\tgl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * reflectivity );","\t}",n.ShaderChunk.shadowmap_fragment,n.ShaderChunk.linear_to_gamma_fragment,n.ShaderChunk.fog_fragment,"}"].join("\n"),vertexShader:["attribute vec4 tangent;","uniform vec2 uOffset;","uniform vec2 uRepeat;","uniform bool enableDisplacement;","#ifdef VERTEX_TEXTURES","\tuniform sampler2D tDisplacement;","\tuniform float uDisplacementScale;","\tuniform float uDisplacementBias;","#endif","varying vec3 vTangent;","varying vec3 vBinormal;","varying vec3 vNormal;","varying vec2 vUv;","varying vec3 vWorldPosition;","varying vec3 vViewPosition;",n.ShaderChunk.skinning_pars_vertex,n.ShaderChunk.shadowmap_pars_vertex,n.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",n.ShaderChunk.skinbase_vertex,n.ShaderChunk.skinnormal_vertex,"\t#ifdef USE_SKINNING","\t\tvNormal = normalize( normalMatrix * skinnedNormal.xyz );","\t\tvec4 skinnedTangent = skinMatrix * vec4( tangent.xyz, 0.0 );","\t\tvTangent = normalize( normalMatrix * skinnedTangent.xyz );","\t#else","\t\tvNormal = normalize( normalMatrix * normal );","\t\tvTangent = normalize( normalMatrix * tangent.xyz );","\t#endif","\tvBinormal = normalize( cross( vNormal, vTangent ) * tangent.w );","\tvUv = uv * uRepeat + uOffset;","\tvec3 displacedPosition;","\t#ifdef VERTEX_TEXTURES","\t\tif ( enableDisplacement ) {","\t\t\tvec3 dv = texture2D( tDisplacement, uv ).xyz;","\t\t\tfloat df = uDisplacementScale * dv.x + uDisplacementBias;","\t\t\tdisplacedPosition = position + normalize( normal ) * df;","\t\t} else {","\t\t\t#ifdef USE_SKINNING","\t\t\t\tvec4 skinVertex = vec4( position, 1.0 );","\t\t\t\tvec4 skinned  = boneMatX * skinVertex * skinWeight.x;","\t\t\t\tskinned \t  += boneMatY * skinVertex * skinWeight.y;","\t\t\t\tskinned \t  += boneMatZ * skinVertex * skinWeight.z;","\t\t\t\tskinned \t  += boneMatW * skinVertex * skinWeight.w;","\t\t\t\tdisplacedPosition  = skinned.xyz;","\t\t\t#else","\t\t\t\tdisplacedPosition = position;","\t\t\t#endif","\t\t}","\t#else","\t\t#ifdef USE_SKINNING","\t\t\tvec4 skinVertex = vec4( position, 1.0 );","\t\t\tvec4 skinned  = boneMatX * skinVertex * skinWeight.x;","\t\t\tskinned \t  += boneMatY * skinVertex * skinWeight.y;","\t\t\tskinned \t  += boneMatZ * skinVertex * skinWeight.z;","\t\t\tskinned \t  += boneMatW * skinVertex * skinWeight.w;","\t\t\tdisplacedPosition  = skinned.xyz;","\t\t#else","\t\t\tdisplacedPosition = position;","\t\t#endif","\t#endif","\tvec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );","\tvec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );","\tgl_Position = projectionMatrix * mvPosition;",n.ShaderChunk.logdepthbuf_vertex,"\tvWorldPosition = worldPosition.xyz;","\tvViewPosition = -mvPosition.xyz;","\t#ifdef USE_SHADOWMAP","\t\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {","\t\t\tvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;","\t\t}","\t#endif","}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",n.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvWorldPosition = worldPosition.xyz;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",n.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;",n.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",n.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[n.ShaderChunk.morphtarget_pars_vertex,n.ShaderChunk.skinning_pars_vertex,n.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",n.ShaderChunk.skinbase_vertex,n.ShaderChunk.morphtarget_vertex,n.ShaderChunk.skinning_vertex,n.ShaderChunk.default_vertex,n.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:[n.ShaderChunk.logdepthbuf_pars_fragment,"vec4 pack_depth( const in float depth ) {","\tconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","\tconst vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","\tvec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );","\tres -= res.xxyz * bit_mask;","\treturn res;","}","void main() {",n.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tgl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );","\t#else","\t\tgl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );","\t#endif","}"].join("\n")}},n.WebGLRenderer=function(e){function t(e){e.__webglVertexBuffer=De.createBuffer(),e.__webglColorBuffer=De.createBuffer(),Be.info.memory.geometries++}function r(e){e.__webglVertexBuffer=De.createBuffer(),e.__webglColorBuffer=De.createBuffer(),e.__webglLineDistanceBuffer=De.createBuffer(),Be.info.memory.geometries++}function o(e){e.__webglVertexBuffer=De.createBuffer(),e.__webglNormalBuffer=De.createBuffer(),e.__webglTangentBuffer=De.createBuffer(),e.__webglColorBuffer=De.createBuffer(),e.__webglUVBuffer=De.createBuffer(),e.__webglUV2Buffer=De.createBuffer(),e.__webglSkinIndicesBuffer=De.createBuffer(),e.__webglSkinWeightsBuffer=De.createBuffer(),e.__webglFaceBuffer=De.createBuffer(),e.__webglLineBuffer=De.createBuffer();var t,r;if(e.numMorphTargets)for(e.__webglMorphTargetsBuffers=[],t=0,r=e.numMorphTargets;t<r;t++)e.__webglMorphTargetsBuffers.push(De.createBuffer());if(e.numMorphNormals)for(e.__webglMorphNormalsBuffers=[],t=0,r=e.numMorphNormals;t<r;t++)e.__webglMorphNormalsBuffers.push(De.createBuffer());Be.info.memory.geometries++}function a(e,t){var r=e.vertices.length,i=t.material;if(i.attributes){void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]);for(var n in i.attributes){var o=i.attributes[n];if(!o.__webglInitialized||o.createUniqueBuffers){o.__webglInitialized=!0;var a=1;"v2"===o.type?a=2:"v3"===o.type?a=3:"v4"===o.type?a=4:"c"===o.type&&(a=3),o.size=a,o.array=new Float32Array(r*a),o.buffer=De.createBuffer(),o.buffer.belongsToAttribute=n,o.needsUpdate=!0}e.__webglCustomAttributesList.push(o)}}}function s(e,t){var r=e.vertices.length;e.__vertexArray=new Float32Array(3*r),e.__colorArray=new Float32Array(3*r),e.__sortArray=[],e.__webglParticleCount=r,a(e,t)}function c(e,t){var r=e.vertices.length;e.__vertexArray=new Float32Array(3*r),e.__colorArray=new Float32Array(3*r),e.__lineDistanceArray=new Float32Array(1*r),e.__webglLineCount=r,a(e,t)}function l(e,t){var r=t.geometry,i=e.faces3,n=3*i.length,o=1*i.length,a=3*i.length,s=u(t,e),c=d(s),l=f(s),h=p(s);e.__vertexArray=new Float32Array(3*n),l&&(e.__normalArray=new Float32Array(3*n)),r.hasTangents&&(e.__tangentArray=new Float32Array(4*n)),h&&(e.__colorArray=new Float32Array(3*n)),c&&(r.faceVertexUvs.length>0&&(e.__uvArray=new Float32Array(2*n)),r.faceVertexUvs.length>1&&(e.__uv2Array=new Float32Array(2*n))),t.geometry.skinWeights.length&&t.geometry.skinIndices.length&&(e.__skinIndexArray=new Float32Array(4*n),e.__skinWeightArray=new Float32Array(4*n));var m=null!==Ne&&o>21845?Uint32Array:Uint16Array;e.__typeArray=m,e.__faceArray=new m(3*o),e.__lineArray=new m(2*a);var v,g;if(e.numMorphTargets)for(e.__morphTargetsArrays=[],v=0,g=e.numMorphTargets;v<g;v++)e.__morphTargetsArrays.push(new Float32Array(3*n));if(e.numMorphNormals)for(e.__morphNormalsArrays=[],v=0,g=e.numMorphNormals;v<g;v++)e.__morphNormalsArrays.push(new Float32Array(3*n));if(e.__webglFaceCount=3*o,e.__webglLineCount=2*a,s.attributes){void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]);for(var y in s.attributes){var x=s.attributes[y],b={};for(var w in x)b[w]=x[w];if(!b.__webglInitialized||b.createUniqueBuffers){b.__webglInitialized=!0;var _=1;"v2"===b.type?_=2:"v3"===b.type?_=3:"v4"===b.type?_=4:"c"===b.type&&(_=3),b.size=_,b.array=new Float32Array(n*_),b.buffer=De.createBuffer(),b.buffer.belongsToAttribute=y,x.needsUpdate=!0,b.__original=x}e.__webglCustomAttributesList.push(b)}}e.__inittedArrays=!0}function u(e,t){return e.material instanceof n.MeshFaceMaterial?e.material.materials[t.materialIndex]:e.material}function h(e){return e&&void 0!==e.shading&&e.shading===n.SmoothShading}function f(e){return!(e instanceof n.MeshBasicMaterial&&!e.envMap||e instanceof n.MeshDepthMaterial)&&(h(e)?n.SmoothShading:n.FlatShading)}function p(e){return!!e.vertexColors&&e.vertexColors}function d(e){return!!(e.map||e.lightMap||e.bumpMap||e.normalMap||e.specularMap||e instanceof n.ShaderMaterial)}function m(e){for(var t in e.attributes){var r="index"===t?De.ELEMENT_ARRAY_BUFFER:De.ARRAY_BUFFER,i=e.attributes[t];i.buffer=De.createBuffer(),De.bindBuffer(r,i.buffer),De.bufferData(r,i.array,De.STATIC_DRAW)}}function v(e,t,r){var i,n,o,a,s,c,l,u,h,f,p,d,m=e.vertices,v=m.length,g=e.colors,y=g.length,x=e.__vertexArray,b=e.__colorArray,w=e.__sortArray,_=e.verticesNeedUpdate,M=(e.elementsNeedUpdate,e.colorsNeedUpdate),S=e.__webglCustomAttributesList;if(r.sortParticles){for(mt.copy(dt),mt.multiply(r.matrixWorld),i=0;i<v;i++)o=m[i],vt.copy(o),vt.applyProjection(mt),w[i]=[vt.z,i];for(w.sort(T),i=0;i<v;i++)o=m[w[i][1]],a=3*i,x[a]=o.x,x[a+1]=o.y,x[a+2]=o.z;for(n=0;n<y;n++)a=3*n,c=g[w[n][1]],b[a]=c.r,b[a+1]=c.g,b[a+2]=c.b;if(S)for(l=0,u=S.length;l<u;l++)if(d=S[l],void 0===d.boundTo||"vertices"===d.boundTo)if(a=0,f=d.value.length,1===d.size)for(h=0;h<f;h++)s=w[h][1],d.array[h]=d.value[s];else if(2===d.size)for(h=0;h<f;h++)s=w[h][1],p=d.value[s],d.array[a]=p.x,d.array[a+1]=p.y,a+=2;else if(3===d.size)if("c"===d.type)for(h=0;h<f;h++)s=w[h][1],p=d.value[s],d.array[a]=p.r,d.array[a+1]=p.g,d.array[a+2]=p.b,a+=3;else for(h=0;h<f;h++)s=w[h][1],p=d.value[s],d.array[a]=p.x,d.array[a+1]=p.y,d.array[a+2]=p.z,a+=3;else if(4===d.size)for(h=0;h<f;h++)s=w[h][1],p=d.value[s],d.array[a]=p.x,d.array[a+1]=p.y,d.array[a+2]=p.z,d.array[a+3]=p.w,a+=4}else{if(_)for(i=0;i<v;i++)o=m[i],a=3*i,x[a]=o.x,x[a+1]=o.y,x[a+2]=o.z;if(M)for(n=0;n<y;n++)c=g[n],a=3*n,b[a]=c.r,b[a+1]=c.g,b[a+2]=c.b;if(S)for(l=0,u=S.length;l<u;l++)if(d=S[l],d.needsUpdate&&(void 0===d.boundTo||"vertices"===d.boundTo))if(f=d.value.length,a=0,1===d.size)for(h=0;h<f;h++)d.array[h]=d.value[h];else if(2===d.size)for(h=0;h<f;h++)p=d.value[h],d.array[a]=p.x,d.array[a+1]=p.y,a+=2;else if(3===d.size)if("c"===d.type)for(h=0;h<f;h++)p=d.value[h],d.array[a]=p.r,d.array[a+1]=p.g,d.array[a+2]=p.b,a+=3;else for(h=0;h<f;h++)p=d.value[h],d.array[a]=p.x,d.array[a+1]=p.y,d.array[a+2]=p.z,a+=3;else if(4===d.size)for(h=0;h<f;h++)p=d.value[h],d.array[a]=p.x,d.array[a+1]=p.y,d.array[a+2]=p.z,d.array[a+3]=p.w,a+=4}if((_||r.sortParticles)&&(De.bindBuffer(De.ARRAY_BUFFER,e.__webglVertexBuffer),De.bufferData(De.ARRAY_BUFFER,x,t)),(M||r.sortParticles)&&(De.bindBuffer(De.ARRAY_BUFFER,e.__webglColorBuffer),De.bufferData(De.ARRAY_BUFFER,b,t)),S)for(l=0,u=S.length;l<u;l++)d=S[l],(d.needsUpdate||r.sortParticles)&&(De.bindBuffer(De.ARRAY_BUFFER,d.buffer),De.bufferData(De.ARRAY_BUFFER,d.array,t))}function g(e,t){var r,i,n,o,a,s,c,l,u,h,f,p,d=e.vertices,m=e.colors,v=e.lineDistances,g=d.length,y=m.length,x=v.length,b=e.__vertexArray,w=e.__colorArray,_=e.__lineDistanceArray,M=e.verticesNeedUpdate,S=e.colorsNeedUpdate,C=e.lineDistancesNeedUpdate,T=e.__webglCustomAttributesList;if(M){for(r=0;r<g;r++)o=d[r],a=3*r,b[a]=o.x,b[a+1]=o.y,b[a+2]=o.z;De.bindBuffer(De.ARRAY_BUFFER,e.__webglVertexBuffer),De.bufferData(De.ARRAY_BUFFER,b,t)}if(S){for(i=0;i<y;i++)s=m[i],a=3*i,w[a]=s.r,w[a+1]=s.g,w[a+2]=s.b;De.bindBuffer(De.ARRAY_BUFFER,e.__webglColorBuffer),De.bufferData(De.ARRAY_BUFFER,w,t)}if(C){for(n=0;n<x;n++)_[n]=v[n];De.bindBuffer(De.ARRAY_BUFFER,e.__webglLineDistanceBuffer),De.bufferData(De.ARRAY_BUFFER,_,t)}if(T)for(c=0,l=T.length;c<l;c++)if(p=T[c],p.needsUpdate&&(void 0===p.boundTo||"vertices"===p.boundTo)){if(a=0,h=p.value.length,1===p.size)for(u=0;u<h;u++)p.array[u]=p.value[u];else if(2===p.size)for(u=0;u<h;u++)f=p.value[u],p.array[a]=f.x,p.array[a+1]=f.y,a+=2;else if(3===p.size)if("c"===p.type)for(u=0;u<h;u++)f=p.value[u],p.array[a]=f.r,p.array[a+1]=f.g,p.array[a+2]=f.b,a+=3;else for(u=0;u<h;u++)f=p.value[u],p.array[a]=f.x,p.array[a+1]=f.y,p.array[a+2]=f.z,a+=3;else if(4===p.size)for(u=0;u<h;u++)f=p.value[u],p.array[a]=f.x,p.array[a+1]=f.y,p.array[a+2]=f.z,p.array[a+3]=f.w,a+=4;De.bindBuffer(De.ARRAY_BUFFER,p.buffer),De.bufferData(De.ARRAY_BUFFER,p.array,t)}}function y(e,t,r,i,o){if(e.__inittedArrays){var a,s,c,l,u,h,m,v,g,y,x,b,w,_,M,S,C,T,A,E,L,P,D,R,F,k,O,U,N,V,B,z,I,j,H,G,W,X,q,$,Y,K,Z=f(o),Q=p(o),J=d(o),ee=Z===n.SmoothShading,te=0,re=0,ie=0,ne=0,oe=0,ae=0,se=0,ce=0,le=0,ue=0,he=0,fe=0,pe=e.__vertexArray,de=e.__uvArray,me=e.__uv2Array,ve=e.__normalArray,ge=e.__tangentArray,ye=e.__colorArray,xe=e.__skinIndexArray,be=e.__skinWeightArray,we=e.__morphTargetsArrays,_e=e.__morphNormalsArrays,Me=e.__webglCustomAttributesList,Se=e.__faceArray,Ce=e.__lineArray,Te=t.geometry,Ae=Te.verticesNeedUpdate,Ee=Te.elementsNeedUpdate,Le=Te.uvsNeedUpdate,Pe=Te.normalsNeedUpdate,Re=Te.tangentsNeedUpdate,Fe=Te.colorsNeedUpdate,ke=Te.morphTargetsNeedUpdate,Oe=Te.vertices,Ue=e.faces3,Ne=Te.faces,Ve=Te.faceVertexUvs[0],Be=Te.faceVertexUvs[1],ze=(Te.colors,Te.skinIndices),Ie=Te.skinWeights,je=Te.morphTargets,He=Te.morphNormals;if(Ae){for(a=0,s=Ue.length;a<s;a++)l=Ne[Ue[a]],b=Oe[l.a],w=Oe[l.b],_=Oe[l.c],pe[re]=b.x,pe[re+1]=b.y,pe[re+2]=b.z,pe[re+3]=w.x,pe[re+4]=w.y,pe[re+5]=w.z,pe[re+6]=_.x,pe[re+7]=_.y,pe[re+8]=_.z,re+=9;De.bindBuffer(De.ARRAY_BUFFER,e.__webglVertexBuffer),De.bufferData(De.ARRAY_BUFFER,pe,r)}if(ke)for(H=0,G=je.length;H<G;H++){for(he=0,a=0,s=Ue.length;a<s;a++)q=Ue[a],l=Ne[q],b=je[H].vertices[l.a],w=je[H].vertices[l.b],_=je[H].vertices[l.c],W=we[H],W[he]=b.x,W[he+1]=b.y,W[he+2]=b.z,W[he+3]=w.x,W[he+4]=w.y,W[he+5]=w.z,W[he+6]=_.x,W[he+7]=_.y,W[he+8]=_.z,o.morphNormals&&(ee?($=He[H].vertexNormals[q],T=$.a,A=$.b,E=$.c):(T=He[H].faceNormals[q],A=T,E=T),X=_e[H],X[he]=T.x,X[he+1]=T.y,X[he+2]=T.z,X[he+3]=A.x,X[he+4]=A.y,X[he+5]=A.z,X[he+6]=E.x,X[he+7]=E.y,X[he+8]=E.z),he+=9;De.bindBuffer(De.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[H]),De.bufferData(De.ARRAY_BUFFER,we[H],r),o.morphNormals&&(De.bindBuffer(De.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[H]),De.bufferData(De.ARRAY_BUFFER,_e[H],r))}if(Ie.length){for(a=0,s=Ue.length;a<s;a++)l=Ne[Ue[a]],R=Ie[l.a],F=Ie[l.b],k=Ie[l.c],be[ue]=R.x,be[ue+1]=R.y,be[ue+2]=R.z,be[ue+3]=R.w,be[ue+4]=F.x,be[ue+5]=F.y,be[ue+6]=F.z,be[ue+7]=F.w,be[ue+8]=k.x,be[ue+9]=k.y,be[ue+10]=k.z,be[ue+11]=k.w,O=ze[l.a],U=ze[l.b],N=ze[l.c],xe[ue]=O.x,xe[ue+1]=O.y,xe[ue+2]=O.z,xe[ue+3]=O.w,xe[ue+4]=U.x,xe[ue+5]=U.y,xe[ue+6]=U.z,xe[ue+7]=U.w,xe[ue+8]=N.x,xe[ue+9]=N.y,xe[ue+10]=N.z,xe[ue+11]=N.w,ue+=12;ue>0&&(De.bindBuffer(De.ARRAY_BUFFER,e.__webglSkinIndicesBuffer),De.bufferData(De.ARRAY_BUFFER,xe,r),De.bindBuffer(De.ARRAY_BUFFER,e.__webglSkinWeightsBuffer),De.bufferData(De.ARRAY_BUFFER,be,r))}if(Fe&&Q){for(a=0,s=Ue.length;a<s;a++)l=Ne[Ue[a]],m=l.vertexColors,v=l.color,3===m.length&&Q===n.VertexColors?(L=m[0],P=m[1],D=m[2]):(L=v,P=v,D=v),ye[le]=L.r,ye[le+1]=L.g,ye[le+2]=L.b,ye[le+3]=P.r,ye[le+4]=P.g,ye[le+5]=P.b,ye[le+6]=D.r,ye[le+7]=D.g,ye[le+8]=D.b,le+=9;le>0&&(De.bindBuffer(De.ARRAY_BUFFER,e.__webglColorBuffer),De.bufferData(De.ARRAY_BUFFER,ye,r))}if(Re&&Te.hasTangents){for(a=0,s=Ue.length;a<s;a++)l=Ne[Ue[a]],g=l.vertexTangents,M=g[0],S=g[1],C=g[2],ge[se]=M.x,ge[se+1]=M.y,ge[se+2]=M.z,ge[se+3]=M.w,ge[se+4]=S.x,ge[se+5]=S.y,ge[se+6]=S.z,ge[se+7]=S.w,ge[se+8]=C.x,ge[se+9]=C.y,ge[se+10]=C.z,ge[se+11]=C.w,se+=12;De.bindBuffer(De.ARRAY_BUFFER,e.__webglTangentBuffer),De.bufferData(De.ARRAY_BUFFER,ge,r)}if(Pe&&Z){for(a=0,s=Ue.length;a<s;a++)if(l=Ne[Ue[a]],u=l.vertexNormals,h=l.normal,3===u.length&&ee)for(V=0;V<3;V++)z=u[V],ve[ae]=z.x,ve[ae+1]=z.y,ve[ae+2]=z.z,ae+=3;else for(V=0;V<3;V++)ve[ae]=h.x,ve[ae+1]=h.y,ve[ae+2]=h.z,ae+=3;De.bindBuffer(De.ARRAY_BUFFER,e.__webglNormalBuffer),De.bufferData(De.ARRAY_BUFFER,ve,r)}if(Le&&Ve&&J){for(a=0,s=Ue.length;a<s;a++)if(c=Ue[a],void 0!==(y=Ve[c]))for(V=0;V<3;V++)I=y[V],de[ie]=I.x,de[ie+1]=I.y,ie+=2;ie>0&&(De.bindBuffer(De.ARRAY_BUFFER,e.__webglUVBuffer),De.bufferData(De.ARRAY_BUFFER,de,r))}if(Le&&Be&&J){for(a=0,s=Ue.length;a<s;a++)if(c=Ue[a],void 0!==(x=Be[c]))for(V=0;V<3;V++)j=x[V],me[ne]=j.x,me[ne+1]=j.y,ne+=2;ne>0&&(De.bindBuffer(De.ARRAY_BUFFER,e.__webglUV2Buffer),De.bufferData(De.ARRAY_BUFFER,me,r))}if(Ee){for(a=0,s=Ue.length;a<s;a++)Se[oe]=te,Se[oe+1]=te+1,Se[oe+2]=te+2,oe+=3,Ce[ce]=te,Ce[ce+1]=te+1,Ce[ce+2]=te,Ce[ce+3]=te+2,Ce[ce+4]=te+1,Ce[ce+5]=te+2,ce+=6,te+=3;De.bindBuffer(De.ELEMENT_ARRAY_BUFFER,e.__webglFaceBuffer),De.bufferData(De.ELEMENT_ARRAY_BUFFER,Se,r),De.bindBuffer(De.ELEMENT_ARRAY_BUFFER,e.__webglLineBuffer),De.bufferData(De.ELEMENT_ARRAY_BUFFER,Ce,r)}if(Me)for(V=0,B=Me.length;V<B;V++)if(K=Me[V],K.__original.needsUpdate){if(fe=0,0,1===K.size){if(void 0===K.boundTo||"vertices"===K.boundTo)for(a=0,s=Ue.length;a<s;a++)l=Ne[Ue[a]],K.array[fe]=K.value[l.a],K.array[fe+1]=K.value[l.b],K.array[fe+2]=K.value[l.c],fe+=3;else if("faces"===K.boundTo)for(a=0,s=Ue.length;a<s;a++)Y=K.value[Ue[a]],K.array[fe]=Y,K.array[fe+1]=Y,K.array[fe+2]=Y,fe+=3}else if(2===K.size){if(void 0===K.boundTo||"vertices"===K.boundTo)for(a=0,s=Ue.length;a<s;a++)l=Ne[Ue[a]],b=K.value[l.a],w=K.value[l.b],_=K.value[l.c],K.array[fe]=b.x,K.array[fe+1]=b.y,K.array[fe+2]=w.x,K.array[fe+3]=w.y,K.array[fe+4]=_.x,K.array[fe+5]=_.y,fe+=6;else if("faces"===K.boundTo)for(a=0,s=Ue.length;a<s;a++)Y=K.value[Ue[a]],b=Y,w=Y,_=Y,K.array[fe]=b.x,K.array[fe+1]=b.y,K.array[fe+2]=w.x,K.array[fe+3]=w.y,K.array[fe+4]=_.x,K.array[fe+5]=_.y,fe+=6}else if(3===K.size){var Ge;if(Ge="c"===K.type?["r","g","b"]:["x","y","z"],void 0===K.boundTo||"vertices"===K.boundTo)for(a=0,s=Ue.length;a<s;a++)l=Ne[Ue[a]],b=K.value[l.a],w=K.value[l.b],_=K.value[l.c],K.array[fe]=b[Ge[0]],K.array[fe+1]=b[Ge[1]],K.array[fe+2]=b[Ge[2]],K.array[fe+3]=w[Ge[0]],K.array[fe+4]=w[Ge[1]],K.array[fe+5]=w[Ge[2]],K.array[fe+6]=_[Ge[0]],K.array[fe+7]=_[Ge[1]],K.array[fe+8]=_[Ge[2]],fe+=9;else if("faces"===K.boundTo)for(a=0,s=Ue.length;a<s;a++)Y=K.value[Ue[a]],b=Y,w=Y,_=Y,K.array[fe]=b[Ge[0]],K.array[fe+1]=b[Ge[1]],K.array[fe+2]=b[Ge[2]],K.array[fe+3]=w[Ge[0]],K.array[fe+4]=w[Ge[1]],K.array[fe+5]=w[Ge[2]],K.array[fe+6]=_[Ge[0]],K.array[fe+7]=_[Ge[1]],K.array[fe+8]=_[Ge[2]],fe+=9;else if("faceVertices"===K.boundTo)for(a=0,s=Ue.length;a<s;a++)Y=K.value[Ue[a]],b=Y[0],w=Y[1],_=Y[2],K.array[fe]=b[Ge[0]],K.array[fe+1]=b[Ge[1]],K.array[fe+2]=b[Ge[2]],K.array[fe+3]=w[Ge[0]],K.array[fe+4]=w[Ge[1]],K.array[fe+5]=w[Ge[2]],K.array[fe+6]=_[Ge[0]],K.array[fe+7]=_[Ge[1]],K.array[fe+8]=_[Ge[2]],fe+=9}else if(4===K.size)if(void 0===K.boundTo||"vertices"===K.boundTo)for(a=0,s=Ue.length;a<s;a++)l=Ne[Ue[a]],b=K.value[l.a],w=K.value[l.b],_=K.value[l.c],K.array[fe]=b.x,K.array[fe+1]=b.y,K.array[fe+2]=b.z,K.array[fe+3]=b.w,K.array[fe+4]=w.x,K.array[fe+5]=w.y,K.array[fe+6]=w.z,K.array[fe+7]=w.w,K.array[fe+8]=_.x,K.array[fe+9]=_.y,K.array[fe+10]=_.z,K.array[fe+11]=_.w,fe+=12;else if("faces"===K.boundTo)for(a=0,s=Ue.length;a<s;a++)Y=K.value[Ue[a]],b=Y,w=Y,_=Y,K.array[fe]=b.x,K.array[fe+1]=b.y,K.array[fe+2]=b.z,K.array[fe+3]=b.w,K.array[fe+4]=w.x,K.array[fe+5]=w.y,K.array[fe+6]=w.z,K.array[fe+7]=w.w,K.array[fe+8]=_.x,K.array[fe+9]=_.y,K.array[fe+10]=_.z,K.array[fe+11]=_.w,fe+=12;else if("faceVertices"===K.boundTo)for(a=0,s=Ue.length;a<s;a++)Y=K.value[Ue[a]],b=Y[0],w=Y[1],_=Y[2],K.array[fe]=b.x,K.array[fe+1]=b.y,K.array[fe+2]=b.z,K.array[fe+3]=b.w,K.array[fe+4]=w.x,K.array[fe+5]=w.y,K.array[fe+6]=w.z,K.array[fe+7]=w.w,K.array[fe+8]=_.x,K.array[fe+9]=_.y,K.array[fe+10]=_.z,K.array[fe+11]=_.w,fe+=12;De.bindBuffer(De.ARRAY_BUFFER,K.buffer),De.bufferData(De.ARRAY_BUFFER,K.array,r)}i&&(delete e.__inittedArrays,delete e.__colorArray,delete e.__normalArray,delete e.__tangentArray,delete e.__uvArray,delete e.__uv2Array,delete e.__faceArray,delete e.__vertexArray,delete e.__lineArray,delete e.__skinIndexArray,delete e.__skinWeightArray)}}function x(e,t){var r,i,n=e.attributes;for(r in n)i=n[r],i.needsUpdate&&("index"===r?(De.bindBuffer(De.ELEMENT_ARRAY_BUFFER,i.buffer),De.bufferData(De.ELEMENT_ARRAY_BUFFER,i.array,t)):(De.bindBuffer(De.ARRAY_BUFFER,i.buffer),De.bufferData(De.ARRAY_BUFFER,i.array,t)),i.needsUpdate=!1)}function b(e,t,r,i){for(var n in t){var o=t[n],a=r[n];if(o>=0)if(a){var s=a.itemSize;De.bindBuffer(De.ARRAY_BUFFER,a.buffer),_(o),De.vertexAttribPointer(o,s,De.FLOAT,!1,0,i*s*4)}else e.defaultAttributeValues&&(2===e.defaultAttributeValues[n].length?De.vertexAttrib2fv(o,e.defaultAttributeValues[n]):3===e.defaultAttributeValues[n].length&&De.vertexAttrib3fv(o,e.defaultAttributeValues[n]))}M()}function w(){for(var e=0,t=ht.length;e<t;e++)ht[e]=0}function _(e){ht[e]=1,0===ft[e]&&(De.enableVertexAttribArray(e),ft[e]=1)}function M(){for(var e=0,t=ft.length;e<t;e++)ft[e]!==ht[e]&&(De.disableVertexAttribArray(e),ft[e]=0)}function S(e,t,r){var i=e.program.attributes;if(-1!==r.morphTargetBase&&i.position>=0?(De.bindBuffer(De.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[r.morphTargetBase]),_(i.position),De.vertexAttribPointer(i.position,3,De.FLOAT,!1,0,0)):i.position>=0&&(De.bindBuffer(De.ARRAY_BUFFER,t.__webglVertexBuffer),_(i.position),De.vertexAttribPointer(i.position,3,De.FLOAT,!1,0,0)),r.morphTargetForcedOrder.length)for(var n=0,o=r.morphTargetForcedOrder,a=r.morphTargetInfluences;n<e.numSupportedMorphTargets&&n<o.length;)i["morphTarget"+n]>=0&&(De.bindBuffer(De.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[o[n]]),_(i["morphTarget"+n]),De.vertexAttribPointer(i["morphTarget"+n],3,De.FLOAT,!1,0,0)),i["morphNormal"+n]>=0&&e.morphNormals&&(De.bindBuffer(De.ARRAY_BUFFER,t.__webglMorphNormalsBuffers[o[n]]),_(i["morphNormal"+n]),De.vertexAttribPointer(i["morphNormal"+n],3,De.FLOAT,!1,0,0)),r.__webglMorphTargetInfluences[n]=a[o[n]],n++;else{var s,c,l=[],a=r.morphTargetInfluences,u=a.length;for(c=0;c<u;c++)(s=a[c])>0&&l.push([s,c]);l.length>e.numSupportedMorphTargets?(l.sort(T),l.length=e.numSupportedMorphTargets):l.length>e.numSupportedMorphNormals?l.sort(T):0===l.length&&l.push([0,0]);for(var h,n=0;n<e.numSupportedMorphTargets;)l[n]?(h=l[n][1],i["morphTarget"+n]>=0&&(De.bindBuffer(De.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[h]),_(i["morphTarget"+n]),De.vertexAttribPointer(i["morphTarget"+n],3,De.FLOAT,!1,0,0)),i["morphNormal"+n]>=0&&e.morphNormals&&(De.bindBuffer(De.ARRAY_BUFFER,t.__webglMorphNormalsBuffers[h]),_(i["morphNormal"+n]),De.vertexAttribPointer(i["morphNormal"+n],3,De.FLOAT,!1,0,0)),r.__webglMorphTargetInfluences[n]=a[h]):r.__webglMorphTargetInfluences[n]=0,n++}null!==e.program.uniforms.morphTargetInfluences&&De.uniform1fv(e.program.uniforms.morphTargetInfluences,r.__webglMorphTargetInfluences)}function C(e,t){return e.z!==t.z?t.z-e.z:e.id-t.id}function T(e,t){return t[0]-e[0]}function A(e,t,r){if(e.length)for(var i=0,n=e.length;i<n;i++)Ie=null,We=null,Ye=-1,Je=-1,et=-1,qe=-1,$e=-1,Ge=-1,He=-1,yt=!0,e[i].render(t,r,lt,ut),Ie=null,We=null,Ye=-1,Je=-1,et=-1,qe=-1,$e=-1,Ge=-1,He=-1,yt=!0}function E(e,t,r,i,o,a,s,c){var l,u,h,f,p,d,m;t?(p=e.length-1,d=-1,m=-1):(p=0,d=e.length,m=1);for(var v=p;v!==d;v+=m)if(l=e[v],l.render){if(u=l.object,h=l.buffer,c)f=c;else{if(!(f=l[r]))continue;s&&Be.setBlending(f.blending,f.blendEquation,f.blendSrc,f.blendDst),Be.setDepthTest(f.depthTest),Be.setDepthWrite(f.depthWrite),ae(f.polygonOffset,f.polygonOffsetFactor,f.polygonOffsetUnits)}Be.setMaterialFaces(f),h instanceof n.BufferGeometry?Be.renderBufferDirect(i,o,a,f,h,u):Be.renderBuffer(i,o,a,f,h,u)}}function L(e,t,r,i,n,o,a){for(var s,c,l,u=0,h=e.length;u<h;u++)if(s=e[u],c=s.object,c.visible){if(a)l=a;else{if(!(l=s[t]))continue;o&&Be.setBlending(l.blending,l.blendEquation,l.blendSrc,l.blendDst),Be.setDepthTest(l.depthTest),Be.setDepthWrite(l.depthWrite),ae(l.polygonOffset,l.polygonOffsetFactor,l.polygonOffsetUnits)}Be.renderImmediateObject(r,i,n,l,c)}}function P(e){var t=e.object,r=t.material;r.transparent?(e.transparent=r,e.opaque=null):(e.opaque=r,e.transparent=null)}function D(e){var t=e.object,r=e.buffer,i=t.geometry,o=t.material;if(o instanceof n.MeshFaceMaterial){var a=i instanceof n.BufferGeometry?0:r.materialIndex;o=o.materials[a],o.transparent?(e.transparent=o,e.opaque=null):(e.opaque=o,e.transparent=null)}else o&&(o.transparent?(e.transparent=o,e.opaque=null):(e.opaque=o,e.transparent=null))}function R(e,i){var a,u,h,f;if(void 0===e.__webglInit)if(e.__webglInit=!0,e._modelViewMatrix=new n.Matrix4,e._normalMatrix=new n.Matrix3,void 0===(u=e.geometry));else if(void 0===u.__webglInit)if(u.__webglInit=!0,u.addEventListener("dispose",Rt),u instanceof n.BufferGeometry)m(u);else if(e instanceof n.Mesh){h=e.material,void 0===u.geometryGroups&&u.makeGroups(h instanceof n.MeshFaceMaterial,Ne?4294967296:65535);for(a in u.geometryGroups)f=u.geometryGroups[a],f.__webglVertexBuffer||(o(f),l(f,e),u.verticesNeedUpdate=!0,u.morphTargetsNeedUpdate=!0,u.elementsNeedUpdate=!0,u.uvsNeedUpdate=!0,u.normalsNeedUpdate=!0,u.tangentsNeedUpdate=!0,u.colorsNeedUpdate=!0)}else e instanceof n.Line?u.__webglVertexBuffer||(r(u),c(u,e),u.verticesNeedUpdate=!0,u.colorsNeedUpdate=!0,u.lineDistancesNeedUpdate=!0):e instanceof n.ParticleSystem&&(u.__webglVertexBuffer||(t(u),s(u,e),u.verticesNeedUpdate=!0,u.colorsNeedUpdate=!0));if(void 0===e.__webglActive){if(e instanceof n.Mesh){if((u=e.geometry)instanceof n.BufferGeometry)F(i.__webglObjects,u,e);else if(u instanceof n.Geometry)for(a in u.geometryGroups)f=u.geometryGroups[a],F(i.__webglObjects,f,e)}else e instanceof n.Line||e instanceof n.ParticleSystem?(u=e.geometry,F(i.__webglObjects,u,e)):e instanceof n.ImmediateRenderObject||e.immediateRenderCallback?k(i.__webglObjectsImmediate,e):e instanceof n.Sprite?i.__webglSprites.push(e):e instanceof n.LensFlare&&i.__webglFlares.push(e);e.__webglActive=!0}}function F(e,t,r){e.push({id:null,buffer:t,object:r,opaque:null,transparent:null,z:0})}function k(e,t){e.push({id:null,object:t,opaque:null,transparent:null,z:0})}function O(e){var t,r,i,o=e.geometry;if(o instanceof n.BufferGeometry)x(o,De.DYNAMIC_DRAW);else if(e instanceof n.Mesh){for(var a=0,s=o.geometryGroupsList.length;a<s;a++)t=o.geometryGroupsList[a],i=u(e,t),o.buffersNeedUpdate&&l(t,e),r=i.attributes&&U(i),(o.verticesNeedUpdate||o.morphTargetsNeedUpdate||o.elementsNeedUpdate||o.uvsNeedUpdate||o.normalsNeedUpdate||o.colorsNeedUpdate||o.tangentsNeedUpdate||r)&&y(t,e,De.DYNAMIC_DRAW,!o.dynamic,i);o.verticesNeedUpdate=!1,o.morphTargetsNeedUpdate=!1,o.elementsNeedUpdate=!1,o.uvsNeedUpdate=!1,o.normalsNeedUpdate=!1,o.colorsNeedUpdate=!1,o.tangentsNeedUpdate=!1,o.buffersNeedUpdate=!1,i.attributes&&N(i)}else e instanceof n.Line?(i=u(e,o),r=i.attributes&&U(i),(o.verticesNeedUpdate||o.colorsNeedUpdate||o.lineDistancesNeedUpdate||r)&&g(o,De.DYNAMIC_DRAW),o.verticesNeedUpdate=!1,o.colorsNeedUpdate=!1,o.lineDistancesNeedUpdate=!1,i.attributes&&N(i)):e instanceof n.ParticleSystem&&(i=u(e,o),r=i.attributes&&U(i),(o.verticesNeedUpdate||o.colorsNeedUpdate||e.sortParticles||r)&&v(o,De.DYNAMIC_DRAW,e),o.verticesNeedUpdate=!1,o.colorsNeedUpdate=!1,i.attributes&&N(i))}function U(e){for(var t in e.attributes)if(e.attributes[t].needsUpdate)return!0;return!1}function N(e){for(var t in e.attributes)e.attributes[t].needsUpdate=!1}function V(e,t){e instanceof n.Mesh||e instanceof n.ParticleSystem||e instanceof n.Line?B(t.__webglObjects,e):e instanceof n.Sprite?z(t.__webglSprites,e):e instanceof n.LensFlare?z(t.__webglFlares,e):(e instanceof n.ImmediateRenderObject||e.immediateRenderCallback)&&B(t.__webglObjectsImmediate,e),delete e.__webglActive}function B(e,t){for(var r=e.length-1;r>=0;r--)e[r].object===t&&e.splice(r,1)}function z(e,t){for(var r=e.length-1;r>=0;r--)e[r]===t&&e.splice(r,1)}function I(e,t){e.uniforms=n.UniformsUtils.clone(t.uniforms),e.vertexShader=t.vertexShader,e.fragmentShader=t.fragmentShader}function j(e,t,r,i,o){Xe=0,i.needsUpdate&&(i.program&&zt(i),Be.initMaterial(i,t,r,o),i.needsUpdate=!1),i.morphTargets&&(o.__webglMorphTargetInfluences||(o.__webglMorphTargetInfluences=new Float32Array(Be.maxMorphTargets)));var a=!1,s=i.program,c=s.uniforms,l=i.uniforms;if(s.id!==Ie&&(De.useProgram(s.program),Ie=s.id,a=!0),i.id!==He&&(He=i.id,a=!0),(a||e!==We)&&(De.uniformMatrix4fv(c.projectionMatrix,!1,e.projectionMatrix.elements),Ee&&De.uniform1f(c.logDepthBufFC,2/(Math.log(e.far+1)/Math.LN2)),e!==We&&(We=e)),i.skinning)if(Ct&&o.skeleton.useVertexTexture){if(null!==c.boneTexture){var u=J();De.uniform1i(c.boneTexture,u),Be.setTexture(o.skeleton.boneTexture,u)}null!==c.boneTextureWidth&&De.uniform1i(c.boneTextureWidth,o.skeleton.boneTextureWidth),null!==c.boneTextureHeight&&De.uniform1i(c.boneTextureHeight,o.skeleton.boneTextureHeight)}else null!==c.boneGlobalMatrices&&De.uniformMatrix4fv(c.boneGlobalMatrices,!1,o.skeleton.boneMatrices);return a&&(r&&i.fog&&q(l,r),(i instanceof n.MeshPhongMaterial||i instanceof n.MeshLambertMaterial||i.lights)&&(yt&&(ne(s,t),yt=!1),K(l,xt)),(i instanceof n.MeshBasicMaterial||i instanceof n.MeshLambertMaterial||i instanceof n.MeshPhongMaterial)&&H(l,i),i instanceof n.LineBasicMaterial?G(l,i):i instanceof n.LineDashedMaterial?(G(l,i),W(l,i)):i instanceof n.ParticleSystemMaterial?X(l,i):i instanceof n.MeshPhongMaterial?$(l,i):i instanceof n.MeshLambertMaterial?Y(l,i):i instanceof n.MeshDepthMaterial?(l.mNear.value=e.near,l.mFar.value=e.far,l.opacity.value=i.opacity):i instanceof n.MeshNormalMaterial&&(l.opacity.value=i.opacity),o.receiveShadow&&!i._shadowPass&&Z(l,t),ee(s,i.uniformsList),(i instanceof n.ShaderMaterial||i instanceof n.MeshPhongMaterial||i.envMap)&&null!==c.cameraPosition&&(vt.setFromMatrixPosition(e.matrixWorld),De.uniform3f(c.cameraPosition,vt.x,vt.y,vt.z)),(i instanceof n.MeshPhongMaterial||i instanceof n.MeshLambertMaterial||i instanceof n.ShaderMaterial||i.skinning)&&null!==c.viewMatrix&&De.uniformMatrix4fv(c.viewMatrix,!1,e.matrixWorldInverse.elements)),Q(c,o),null!==c.modelMatrix&&De.uniformMatrix4fv(c.modelMatrix,!1,o.matrixWorld.elements),s}function H(e,t){e.opacity.value=t.opacity,Be.gammaInput?e.diffuse.value.copyGammaToLinear(t.color):e.diffuse.value=t.color,e.map.value=t.map,e.lightMap.value=t.lightMap,e.specularMap.value=t.specularMap,t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale));var r;if(t.map?r=t.map:t.specularMap?r=t.specularMap:t.normalMap?r=t.normalMap:t.bumpMap&&(r=t.bumpMap),void 0!==r){var i=r.offset,o=r.repeat;e.offsetRepeat.value.set(i.x,i.y,o.x,o.y)}e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap instanceof n.WebGLRenderTargetCube?1:-1,Be.gammaInput,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.combine.value=t.combine,e.useRefract.value=t.envMap&&t.envMap.mapping instanceof n.CubeRefractionMapping}function G(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function W(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function X(e,t){e.psColor.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size,e.scale.value=xe.height/2,e.map.value=t.map}function q(e,t){e.fogColor.value=t.color,t instanceof n.Fog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t instanceof n.FogExp2&&(e.fogDensity.value=t.density)}function $(e,t){e.shininess.value=t.shininess,Be.gammaInput?(e.ambient.value.copyGammaToLinear(t.ambient),e.emissive.value.copyGammaToLinear(t.emissive),e.specular.value.copyGammaToLinear(t.specular)):(e.ambient.value=t.ambient,e.emissive.value=t.emissive,e.specular.value=t.specular),t.wrapAround&&e.wrapRGB.value.copy(t.wrapRGB)}function Y(e,t){Be.gammaInput?(e.ambient.value.copyGammaToLinear(t.ambient),e.emissive.value.copyGammaToLinear(t.emissive)):(e.ambient.value=t.ambient,e.emissive.value=t.emissive),t.wrapAround&&e.wrapRGB.value.copy(t.wrapRGB)}function K(e,t){e.ambientLightColor.value=t.ambient,e.directionalLightColor.value=t.directional.colors,e.directionalLightDirection.value=t.directional.positions,e.pointLightColor.value=t.point.colors,e.pointLightPosition.value=t.point.positions,e.pointLightDistance.value=t.point.distances,e.spotLightColor.value=t.spot.colors,e.spotLightPosition.value=t.spot.positions,e.spotLightDistance.value=t.spot.distances,e.spotLightDirection.value=t.spot.directions,e.spotLightAngleCos.value=t.spot.anglesCos,e.spotLightExponent.value=t.spot.exponents,e.hemisphereLightSkyColor.value=t.hemi.skyColors,e.hemisphereLightGroundColor.value=t.hemi.groundColors,e.hemisphereLightDirection.value=t.hemi.positions}function Z(e,t){if(e.shadowMatrix)for(var r=0,i=0,o=t.length;i<o;i++){var a=t[i];a.castShadow&&((a instanceof n.SpotLight||a instanceof n.DirectionalLight&&!a.shadowCascade)&&(e.shadowMap.value[r]=a.shadowMap,e.shadowMapSize.value[r]=a.shadowMapSize,e.shadowMatrix.value[r]=a.shadowMatrix,e.shadowDarkness.value[r]=a.shadowDarkness,e.shadowBias.value[r]=a.shadowBias,r++))}}function Q(e,t){De.uniformMatrix4fv(e.modelViewMatrix,!1,t._modelViewMatrix.elements),e.normalMatrix&&De.uniformMatrix3fv(e.normalMatrix,!1,t._normalMatrix.elements)}function J(){var e=Xe;return e>=bt&&console.warn("WebGLRenderer: trying to use "+e+" texture units while this GPU supports only "+bt),Xe+=1,e}function ee(e,t){var r,i,o,a,s,c,l,u,h,f,p;for(h=0,f=t.length;h<f;h++)if(a=e.uniforms[t[h][1]])if(r=t[h][0],o=r.type,i=r.value,"i"===o)De.uniform1i(a,i);else if("f"===o)De.uniform1f(a,i);else if("v2"===o)De.uniform2f(a,i.x,i.y);else if("v3"===o)De.uniform3f(a,i.x,i.y,i.z);else if("v4"===o)De.uniform4f(a,i.x,i.y,i.z,i.w);else if("c"===o)De.uniform3f(a,i.r,i.g,i.b);else if("iv1"===o)De.uniform1iv(a,i);else if("iv"===o)De.uniform3iv(a,i);else if("fv1"===o)De.uniform1fv(a,i);else if("fv"===o)De.uniform3fv(a,i);else if("v2v"===o){for(void 0===r._array&&(r._array=new Float32Array(2*i.length)),l=0,u=i.length;l<u;l++)p=2*l,r._array[p]=i[l].x,r._array[p+1]=i[l].y;De.uniform2fv(a,r._array)}else if("v3v"===o){for(void 0===r._array&&(r._array=new Float32Array(3*i.length)),l=0,u=i.length;l<u;l++)p=3*l,r._array[p]=i[l].x,r._array[p+1]=i[l].y,r._array[p+2]=i[l].z;De.uniform3fv(a,r._array)}else if("v4v"===o){for(void 0===r._array&&(r._array=new Float32Array(4*i.length)),l=0,u=i.length;l<u;l++)p=4*l,r._array[p]=i[l].x,r._array[p+1]=i[l].y,r._array[p+2]=i[l].z,r._array[p+3]=i[l].w;De.uniform4fv(a,r._array)}else if("m3"===o)De.uniformMatrix3fv(a,!1,i.elements);else if("m3v"===o){for(void 0===r._array&&(r._array=new Float32Array(9*i.length)),l=0,u=i.length;l<u;l++)i[l].flattenToArrayOffset(r._array,9*l);De.uniformMatrix3fv(a,!1,r._array)}else if("m4"===o)De.uniformMatrix4fv(a,!1,i.elements);else if("m4v"===o){for(void 0===r._array&&(r._array=new Float32Array(16*i.length)),l=0,u=i.length;l<u;l++)i[l].flattenToArrayOffset(r._array,16*l);De.uniformMatrix4fv(a,!1,r._array)}else if("t"===o){if(s=i,c=J(),De.uniform1i(a,c),!s)continue;s.image instanceof Array&&6===s.image.length?le(s,c):s instanceof n.WebGLRenderTargetCube?ue(s,c):Be.setTexture(s,c)}else if("tv"===o){for(void 0===r._array&&(r._array=[]),l=0,u=r.value.length;l<u;l++)r._array[l]=J();for(De.uniform1iv(a,r._array),l=0,u=r.value.length;l<u;l++)s=r.value[l],c=r._array[l],s&&Be.setTexture(s,c)}else console.warn("THREE.WebGLRenderer: Unknown uniform type: "+o)}function te(e,t){e._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,e.matrixWorld),e._normalMatrix.getNormalMatrix(e._modelViewMatrix)}function re(e,t,r,i){e[t]=r.r*r.r*i,e[t+1]=r.g*r.g*i,e[t+2]=r.b*r.b*i}function ie(e,t,r,i){e[t]=r.r*i,e[t+1]=r.g*i,e[t+2]=r.b*i}function ne(e,t){var r,i,o,a,s,c,l,u,h,f=0,p=0,d=0,m=xt,v=m.directional.colors,g=m.directional.positions,y=m.point.colors,x=m.point.positions,b=m.point.distances,w=m.spot.colors,_=m.spot.positions,M=m.spot.distances,S=m.spot.directions,C=m.spot.anglesCos,T=m.spot.exponents,A=m.hemi.skyColors,E=m.hemi.groundColors,L=m.hemi.positions,P=0,D=0,R=0,F=0,k=0,O=0,U=0,N=0,V=0,B=0,z=0,I=0;for(r=0,i=t.length;r<i;r++)if(o=t[r],!o.onlyShadow)if(a=o.color,l=o.intensity,h=o.distance,o instanceof n.AmbientLight){if(!o.visible)continue;Be.gammaInput?(f+=a.r*a.r,p+=a.g*a.g,d+=a.b*a.b):(f+=a.r,p+=a.g,d+=a.b)}else if(o instanceof n.DirectionalLight){if(k+=1,!o.visible)continue;if(gt.setFromMatrixPosition(o.matrixWorld),vt.setFromMatrixPosition(o.target.matrixWorld),gt.sub(vt),gt.normalize(),0===gt.x&&0===gt.y&&0===gt.z)continue;V=3*P,g[V]=gt.x,g[V+1]=gt.y,g[V+2]=gt.z,Be.gammaInput?re(v,V,a,l*l):ie(v,V,a,l),P+=1}else if(o instanceof n.PointLight){if(O+=1,!o.visible)continue;B=3*D,Be.gammaInput?re(y,B,a,l*l):ie(y,B,a,l),vt.setFromMatrixPosition(o.matrixWorld),x[B]=vt.x,x[B+1]=vt.y,x[B+2]=vt.z,b[D]=h,D+=1}else if(o instanceof n.SpotLight){if(U+=1,!o.visible)continue;z=3*R,Be.gammaInput?re(w,z,a,l*l):ie(w,z,a,l),vt.setFromMatrixPosition(o.matrixWorld),_[z]=vt.x,_[z+1]=vt.y,_[z+2]=vt.z,M[R]=h,gt.copy(vt),vt.setFromMatrixPosition(o.target.matrixWorld),gt.sub(vt),gt.normalize(),S[z]=gt.x,S[z+1]=gt.y,S[z+2]=gt.z,C[R]=Math.cos(o.angle),T[R]=o.exponent,R+=1}else if(o instanceof n.HemisphereLight){if(N+=1,!o.visible)continue;if(gt.setFromMatrixPosition(o.matrixWorld),gt.normalize(),0===gt.x&&0===gt.y&&0===gt.z)continue;I=3*F,L[I]=gt.x,L[I+1]=gt.y,L[I+2]=gt.z,s=o.color,c=o.groundColor,Be.gammaInput?(u=l*l,re(A,I,s,u),re(E,I,c,u)):(ie(A,I,s,l),ie(E,I,c,l)),F+=1}for(r=3*P,i=Math.max(v.length,3*k);r<i;r++)v[r]=0;for(r=3*D,i=Math.max(y.length,3*O);r<i;r++)y[r]=0;for(r=3*R,i=Math.max(w.length,3*U);r<i;r++)w[r]=0;for(r=3*F,i=Math.max(A.length,3*N);r<i;r++)A[r]=0;for(r=3*F,i=Math.max(E.length,3*N);r<i;r++)E[r]=0;m.directional.length=P,m.point.length=D,m.spot.length=R,m.hemi.length=F,m.ambient[0]=f,m.ambient[1]=p,m.ambient[2]=d}function oe(e){e!==nt&&(De.lineWidth(e),nt=e)}function ae(e,t,r){tt!==e&&(e?De.enable(De.POLYGON_OFFSET_FILL):De.disable(De.POLYGON_OFFSET_FILL),tt=e),!e||rt===t&&it===r||(De.polygonOffset(t,r),rt=t,it=r)}function se(e,t,r){r?(De.texParameteri(e,De.TEXTURE_WRAP_S,me(t.wrapS)),De.texParameteri(e,De.TEXTURE_WRAP_T,me(t.wrapT)),De.texParameteri(e,De.TEXTURE_MAG_FILTER,me(t.magFilter)),De.texParameteri(e,De.TEXTURE_MIN_FILTER,me(t.minFilter))):(De.texParameteri(e,De.TEXTURE_WRAP_S,De.CLAMP_TO_EDGE),De.texParameteri(e,De.TEXTURE_WRAP_T,De.CLAMP_TO_EDGE),De.texParameteri(e,De.TEXTURE_MAG_FILTER,de(t.magFilter)),De.texParameteri(e,De.TEXTURE_MIN_FILTER,de(t.minFilter))),Oe&&t.type!==n.FloatType&&(t.anisotropy>1||t.__oldAnisotropy)&&(De.texParameterf(e,Oe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,Mt)),t.__oldAnisotropy=t.anisotropy)}function ce(e,t){if(e.width<=t&&e.height<=t)return e;var r=Math.max(e.width,e.height),i=Math.floor(e.width*t/r),n=Math.floor(e.height*t/r),o=document.createElement("canvas");return o.width=i,o.height=n,o.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,i,n),o}function le(e,t){if(6===e.image.length)if(e.needsUpdate){e.image.__webglTextureCube||(e.addEventListener("dispose",Ft),e.image.__webglTextureCube=De.createTexture(),Be.info.memory.textures++),De.activeTexture(De.TEXTURE0+t),De.bindTexture(De.TEXTURE_CUBE_MAP,e.image.__webglTextureCube),De.pixelStorei(De.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var r=e instanceof n.CompressedTexture,i=[],o=0;o<6;o++)Be.autoScaleCubemaps&&!r?i[o]=ce(e.image[o],_t):i[o]=e.image[o];var a=i[0],s=n.Math.isPowerOfTwo(a.width)&&n.Math.isPowerOfTwo(a.height),c=me(e.format),l=me(e.type);se(De.TEXTURE_CUBE_MAP,e,s);for(var o=0;o<6;o++)if(r)for(var u,h=i[o].mipmaps,f=0,p=h.length;f<p;f++)u=h[f],e.format!==n.RGBAFormat?De.compressedTexImage2D(De.TEXTURE_CUBE_MAP_POSITIVE_X+o,f,c,u.width,u.height,0,u.data):De.texImage2D(De.TEXTURE_CUBE_MAP_POSITIVE_X+o,f,c,u.width,u.height,0,c,l,u.data);else De.texImage2D(De.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,c,c,l,i[o]);e.generateMipmaps&&s&&De.generateMipmap(De.TEXTURE_CUBE_MAP),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else De.activeTexture(De.TEXTURE0+t),De.bindTexture(De.TEXTURE_CUBE_MAP,e.image.__webglTextureCube)}function ue(e,t){De.activeTexture(De.TEXTURE0+t),De.bindTexture(De.TEXTURE_CUBE_MAP,e.__webglTexture)}function he(e,t,r){De.bindFramebuffer(De.FRAMEBUFFER,e),De.framebufferTexture2D(De.FRAMEBUFFER,De.COLOR_ATTACHMENT0,r,t.__webglTexture,0)}function fe(e,t){De.bindRenderbuffer(De.RENDERBUFFER,e),t.depthBuffer&&!t.stencilBuffer?(De.renderbufferStorage(De.RENDERBUFFER,De.DEPTH_COMPONENT16,t.width,t.height),De.framebufferRenderbuffer(De.FRAMEBUFFER,De.DEPTH_ATTACHMENT,De.RENDERBUFFER,e)):t.depthBuffer&&t.stencilBuffer?(De.renderbufferStorage(De.RENDERBUFFER,De.DEPTH_STENCIL,t.width,t.height),De.framebufferRenderbuffer(De.FRAMEBUFFER,De.DEPTH_STENCIL_ATTACHMENT,De.RENDERBUFFER,e)):De.renderbufferStorage(De.RENDERBUFFER,De.RGBA4,t.width,t.height)}function pe(e){e instanceof n.WebGLRenderTargetCube?(De.bindTexture(De.TEXTURE_CUBE_MAP,e.__webglTexture),De.generateMipmap(De.TEXTURE_CUBE_MAP),De.bindTexture(De.TEXTURE_CUBE_MAP,null)):(De.bindTexture(De.TEXTURE_2D,e.__webglTexture),De.generateMipmap(De.TEXTURE_2D),De.bindTexture(De.TEXTURE_2D,null))}function de(e){return e===n.NearestFilter||e===n.NearestMipMapNearestFilter||e===n.NearestMipMapLinearFilter?De.NEAREST:De.LINEAR}function me(e){if(e===n.RepeatWrapping)return De.REPEAT;if(e===n.ClampToEdgeWrapping)return De.CLAMP_TO_EDGE;if(e===n.MirroredRepeatWrapping)return De.MIRRORED_REPEAT;if(e===n.NearestFilter)return De.NEAREST;if(e===n.NearestMipMapNearestFilter)return De.NEAREST_MIPMAP_NEAREST;if(e===n.NearestMipMapLinearFilter)return De.NEAREST_MIPMAP_LINEAR;if(e===n.LinearFilter)return De.LINEAR;if(e===n.LinearMipMapNearestFilter)return De.LINEAR_MIPMAP_NEAREST;if(e===n.LinearMipMapLinearFilter)return De.LINEAR_MIPMAP_LINEAR;if(e===n.UnsignedByteType)return De.UNSIGNED_BYTE;if(e===n.UnsignedShort4444Type)return De.UNSIGNED_SHORT_4_4_4_4;if(e===n.UnsignedShort5551Type)return De.UNSIGNED_SHORT_5_5_5_1;if(e===n.UnsignedShort565Type)return De.UNSIGNED_SHORT_5_6_5;if(e===n.ByteType)return De.BYTE;if(e===n.ShortType)return De.SHORT;if(e===n.UnsignedShortType)return De.UNSIGNED_SHORT;if(e===n.IntType)return De.INT;if(e===n.UnsignedIntType)return De.UNSIGNED_INT;if(e===n.FloatType)return De.FLOAT;if(e===n.AlphaFormat)return De.ALPHA;if(e===n.RGBFormat)return De.RGB;if(e===n.RGBAFormat)return De.RGBA;if(e===n.LuminanceFormat)return De.LUMINANCE;if(e===n.LuminanceAlphaFormat)return De.LUMINANCE_ALPHA;if(e===n.AddEquation)return De.FUNC_ADD;if(e===n.SubtractEquation)return De.FUNC_SUBTRACT;if(e===n.ReverseSubtractEquation)return De.FUNC_REVERSE_SUBTRACT;if(e===n.ZeroFactor)return De.ZERO;if(e===n.OneFactor)return De.ONE;if(e===n.SrcColorFactor)return De.SRC_COLOR;if(e===n.OneMinusSrcColorFactor)return De.ONE_MINUS_SRC_COLOR;if(e===n.SrcAlphaFactor)return De.SRC_ALPHA;if(e===n.OneMinusSrcAlphaFactor)return De.ONE_MINUS_SRC_ALPHA;if(e===n.DstAlphaFactor)return De.DST_ALPHA;if(e===n.OneMinusDstAlphaFactor)return De.ONE_MINUS_DST_ALPHA;if(e===n.DstColorFactor)return De.DST_COLOR;if(e===n.OneMinusDstColorFactor)return De.ONE_MINUS_DST_COLOR;if(e===n.SrcAlphaSaturateFactor)return De.SRC_ALPHA_SATURATE;if(void 0!==Ue){if(e===n.RGB_S3TC_DXT1_Format)return Ue.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===n.RGBA_S3TC_DXT1_Format)return Ue.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===n.RGBA_S3TC_DXT3_Format)return Ue.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===n.RGBA_S3TC_DXT5_Format)return Ue.COMPRESSED_RGBA_S3TC_DXT5_EXT}return 0}function ve(e){if(Ct&&e&&e.skeleton&&e.skeleton.useVertexTexture)return 1024;var t=De.getParameter(De.MAX_VERTEX_UNIFORM_VECTORS),r=Math.floor((t-20)/4),i=r;return void 0!==e&&e instanceof n.SkinnedMesh&&(i=Math.min(e.skeleton.bones.length,i))<e.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+e.skeleton.bones.length+", this GPU supports just "+i+" (try OpenGL instead of ANGLE)"),i}function ge(e){for(var t=0,r=0,i=0,o=0,a=0,s=e.length;a<s;a++){var c=e[a];c.onlyShadow||!1===c.visible||(c instanceof n.DirectionalLight&&t++,c instanceof n.PointLight&&r++,c instanceof n.SpotLight&&i++,c instanceof n.HemisphereLight&&o++)}return{directional:t,point:r,spot:i,hemi:o}}function ye(e){for(var t=0,r=0,i=e.length;r<i;r++){var o=e[r];o.castShadow&&(o instanceof n.SpotLight&&t++,o instanceof n.DirectionalLight&&!o.shadowCascade&&t++)}return t}console.log("THREE.WebGLRenderer",n.REVISION),e=e||{};var xe=void 0!==e.canvas?e.canvas:document.createElement("canvas"),be=void 0!==e.context?e.context:null,we=void 0!==e.precision?e.precision:"highp",_e=void 0!==e.alpha&&e.alpha,Me=void 0===e.depth||e.depth,Se=void 0===e.stencil||e.stencil,Ce=void 0!==e.antialias&&e.antialias,Te=void 0===e.premultipliedAlpha||e.premultipliedAlpha,Ae=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,Ee=void 0!==e.logarithmicDepthBuffer&&e.logarithmicDepthBuffer,Le=new n.Color(0),Pe=0;this.domElement=xe,this.context=null,this.devicePixelRatio=void 0!==e.devicePixelRatio?e.devicePixelRatio:void 0!==i.devicePixelRatio?i.devicePixelRatio:1,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.autoUpdateObjects=!0,this.gammaInput=!1,this.gammaOutput=!1,this.shadowMapEnabled=!1,this.shadowMapAutoUpdate=!0,this.shadowMapType=n.PCFShadowMap,this.shadowMapCullFace=n.CullFaceFront,this.shadowMapDebug=!1,this.shadowMapCascade=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0,this.renderPluginsPre=[],this.renderPluginsPost=[],this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var De,Re,Fe,ke,Oe,Ue,Ne,Ve,Be=this,ze=[],Ie=null,je=null,He=-1,Ge=null,We=null,Xe=0,qe=-1,$e=-1,Ye=-1,Ke=-1,Ze=-1,Qe=-1,Je=-1,et=-1,tt=null,rt=null,it=null,nt=null,ot=0,at=0,st=xe.width,ct=xe.height,lt=0,ut=0,ht=new Uint8Array(16),ft=new Uint8Array(16),pt=new n.Frustum,dt=new n.Matrix4,mt=new n.Matrix4,vt=new n.Vector3,gt=new n.Vector3,yt=!0,xt={ambient:[0,0,0],directional:{length:0,colors:new Array,positions:new Array},point:{length:0,colors:new Array,positions:new Array,distances:new Array},spot:{length:0,colors:new Array,positions:new Array,distances:new Array,directions:new Array,anglesCos:new Array,exponents:new Array},hemi:{length:0,skyColors:new Array,groundColors:new Array,positions:new Array}};!function(){try{var e={alpha:_e,depth:Me,stencil:Se,antialias:Ce,premultipliedAlpha:Te,preserveDrawingBuffer:Ae};if(null===(De=be||xe.getContext("webgl",e)||xe.getContext("experimental-webgl",e)))throw"Error creating WebGL context."}catch(e){console.error(e)}Re=De.getExtension("OES_texture_float"),Fe=De.getExtension("OES_texture_float_linear"),ke=De.getExtension("OES_standard_derivatives"),Oe=De.getExtension("EXT_texture_filter_anisotropic")||De.getExtension("MOZ_EXT_texture_filter_anisotropic")||De.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),Ue=De.getExtension("WEBGL_compressed_texture_s3tc")||De.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||De.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"),Ne=De.getExtension("OES_element_index_uint"),null===Re&&console.log("THREE.WebGLRenderer: Float textures not supported."),null===ke&&console.log("THREE.WebGLRenderer: Standard derivatives not supported."),null===Oe&&console.log("THREE.WebGLRenderer: Anisotropic texture filtering not supported."),null===Ue&&console.log("THREE.WebGLRenderer: S3TC compressed textures not supported."),null===Ne&&console.log("THREE.WebGLRenderer: elementindex as unsigned integer not supported."),void 0===De.getShaderPrecisionFormat&&(De.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),Ee&&(Ve=De.getExtension("EXT_frag_depth"))}(),function(){De.clearColor(0,0,0,1),De.clearDepth(1),De.clearStencil(0),De.enable(De.DEPTH_TEST),De.depthFunc(De.LEQUAL),De.frontFace(De.CCW),De.cullFace(De.BACK),De.enable(De.CULL_FACE),De.enable(De.BLEND),De.blendEquation(De.FUNC_ADD),De.blendFunc(De.SRC_ALPHA,De.ONE_MINUS_SRC_ALPHA),De.viewport(ot,at,st,ct),De.clearColor(Le.r,Le.g,Le.b,Pe)}(),this.context=De;var bt=De.getParameter(De.MAX_TEXTURE_IMAGE_UNITS),wt=De.getParameter(De.MAX_VERTEX_TEXTURE_IMAGE_UNITS),_t=(De.getParameter(De.MAX_TEXTURE_SIZE),De.getParameter(De.MAX_CUBE_MAP_TEXTURE_SIZE)),Mt=Oe?De.getParameter(Oe.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,St=wt>0,Ct=St&&Re,Tt=(Ue&&De.getParameter(De.COMPRESSED_TEXTURE_FORMATS),De.getShaderPrecisionFormat(De.VERTEX_SHADER,De.HIGH_FLOAT)),At=De.getShaderPrecisionFormat(De.VERTEX_SHADER,De.MEDIUM_FLOAT),Et=(De.getShaderPrecisionFormat(De.VERTEX_SHADER,De.LOW_FLOAT),De.getShaderPrecisionFormat(De.FRAGMENT_SHADER,De.HIGH_FLOAT)),Lt=De.getShaderPrecisionFormat(De.FRAGMENT_SHADER,De.MEDIUM_FLOAT),Pt=(De.getShaderPrecisionFormat(De.FRAGMENT_SHADER,De.LOW_FLOAT),Tt.precision>0&&Et.precision>0),Dt=At.precision>0&&Lt.precision>0;"highp"!==we||Pt||(Dt?(we="mediump",console.warn("WebGLRenderer: highp not supported, using mediump")):(we="lowp",console.warn("WebGLRenderer: highp and mediump not supported, using lowp"))),"mediump"!==we||Dt||(we="lowp",console.warn("WebGLRenderer: mediump not supported, using lowp")),this.getContext=function(){return De},this.supportsVertexTextures=function(){return St},this.supportsFloatTextures=function(){return Re},this.supportsStandardDerivatives=function(){return ke},this.supportsCompressedTextureS3TC=function(){return Ue},this.getMaxAnisotropy=function(){return Mt},this.getPrecision=function(){return we},this.setSize=function(e,t,r){xe.width=e*this.devicePixelRatio,xe.height=t*this.devicePixelRatio,!1!==r&&(xe.style.width=e+"px",xe.style.height=t+"px"),this.setViewport(0,0,e,t)},this.setViewport=function(e,t,r,i){ot=e*this.devicePixelRatio,at=t*this.devicePixelRatio,st=r*this.devicePixelRatio,ct=i*this.devicePixelRatio,De.viewport(ot,at,st,ct)},this.setScissor=function(e,t,r,i){De.scissor(e*this.devicePixelRatio,t*this.devicePixelRatio,r*this.devicePixelRatio,i*this.devicePixelRatio)},this.enableScissorTest=function(e){e?De.enable(De.SCISSOR_TEST):De.disable(De.SCISSOR_TEST)},this.setClearColor=function(e,t){Le.set(e),Pe=void 0!==t?t:1,De.clearColor(Le.r,Le.g,Le.b,Pe)},this.setClearColorHex=function(e,t){console.warn("DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead."),this.setClearColor(e,t)},this.getClearColor=function(){return Le},this.getClearAlpha=function(){return Pe},this.clear=function(e,t,r){var i=0;(void 0===e||e)&&(i|=De.COLOR_BUFFER_BIT),(void 0===t||t)&&(i|=De.DEPTH_BUFFER_BIT),(void 0===r||r)&&(i|=De.STENCIL_BUFFER_BIT),De.clear(i)},this.clearColor=function(){De.clear(De.COLOR_BUFFER_BIT)},this.clearDepth=function(){De.clear(De.DEPTH_BUFFER_BIT)},this.clearStencil=function(){De.clear(De.STENCIL_BUFFER_BIT)},this.clearTarget=function(e,t,r,i){this.setRenderTarget(e),this.clear(t,r,i)},this.addPostPlugin=function(e){e.init(this),this.renderPluginsPost.push(e)},this.addPrePlugin=function(e){e.init(this),this.renderPluginsPre.push(e)},this.updateShadowMap=function(e,t){Ie=null,Ye=-1,Je=-1,et=-1,Ge=-1,He=-1,yt=!0,qe=-1,$e=-1,this.shadowMapPlugin.update(e,t)};var Rt=function(e){var t=e.target;t.removeEventListener("dispose",Rt),Nt(t)},Ft=function(e){var t=e.target;t.removeEventListener("dispose",Ft),Vt(t),Be.info.memory.textures--},kt=function(e){var t=e.target;t.removeEventListener("dispose",kt),Bt(t),Be.info.memory.textures--},Ot=function(e){var t=e.target;t.removeEventListener("dispose",Ot),zt(t)},Ut=function(e){if(void 0!==e.__webglVertexBuffer&&De.deleteBuffer(e.__webglVertexBuffer),void 0!==e.__webglNormalBuffer&&De.deleteBuffer(e.__webglNormalBuffer),void 0!==e.__webglTangentBuffer&&De.deleteBuffer(e.__webglTangentBuffer),void 0!==e.__webglColorBuffer&&De.deleteBuffer(e.__webglColorBuffer),void 0!==e.__webglUVBuffer&&De.deleteBuffer(e.__webglUVBuffer),void 0!==e.__webglUV2Buffer&&De.deleteBuffer(e.__webglUV2Buffer),void 0!==e.__webglSkinIndicesBuffer&&De.deleteBuffer(e.__webglSkinIndicesBuffer),void 0!==e.__webglSkinWeightsBuffer&&De.deleteBuffer(e.__webglSkinWeightsBuffer),void 0!==e.__webglFaceBuffer&&De.deleteBuffer(e.__webglFaceBuffer),void 0!==e.__webglLineBuffer&&De.deleteBuffer(e.__webglLineBuffer),void 0!==e.__webglLineDistanceBuffer&&De.deleteBuffer(e.__webglLineDistanceBuffer),void 0!==e.__webglCustomAttributesList)for(var t in e.__webglCustomAttributesList)De.deleteBuffer(e.__webglCustomAttributesList[t].buffer);Be.info.memory.geometries--},Nt=function(e){if(e.__webglInit=void 0,e instanceof n.BufferGeometry){var t=e.attributes;for(var r in t)void 0!==t[r].buffer&&De.deleteBuffer(t[r].buffer);Be.info.memory.geometries--}else if(void 0!==e.geometryGroups)for(var i in e.geometryGroups){var o=e.geometryGroups[i];if(void 0!==o.numMorphTargets)for(var a=0,s=o.numMorphTargets;a<s;a++)De.deleteBuffer(o.__webglMorphTargetsBuffers[a]);if(void 0!==o.numMorphNormals)for(var a=0,s=o.numMorphNormals;a<s;a++)De.deleteBuffer(o.__webglMorphNormalsBuffers[a]);Ut(o)}else Ut(e)},Vt=function(e){if(e.image&&e.image.__webglTextureCube)De.deleteTexture(e.image.__webglTextureCube);else{if(!e.__webglInit)return;e.__webglInit=!1,De.deleteTexture(e.__webglTexture)}},Bt=function(e){if(e&&e.__webglTexture)if(De.deleteTexture(e.__webglTexture),e instanceof n.WebGLRenderTargetCube)for(var t=0;t<6;t++)De.deleteFramebuffer(e.__webglFramebuffer[t]),De.deleteRenderbuffer(e.__webglRenderbuffer[t]);else De.deleteFramebuffer(e.__webglFramebuffer),De.deleteRenderbuffer(e.__webglRenderbuffer)},zt=function(e){var t=e.program;if(void 0!==t){e.program=void 0;var r,i,n,o=!1;for(r=0,i=ze.length;r<i;r++)if(n=ze[r],n.program===t){n.usedTimes--,0===n.usedTimes&&(o=!0);break}if(!0===o){var a=[];for(r=0,i=ze.length;r<i;r++)n=ze[r],n.program!==t&&a.push(n);ze=a,De.deleteProgram(t),Be.info.memory.programs--}}};this.renderBufferImmediate=function(e,t,r){if(w(),e.hasPositions&&!e.__webglVertexBuffer&&(e.__webglVertexBuffer=De.createBuffer()),e.hasNormals&&!e.__webglNormalBuffer&&(e.__webglNormalBuffer=De.createBuffer()),e.hasUvs&&!e.__webglUvBuffer&&(e.__webglUvBuffer=De.createBuffer()),e.hasColors&&!e.__webglColorBuffer&&(e.__webglColorBuffer=De.createBuffer()),e.hasPositions&&(De.bindBuffer(De.ARRAY_BUFFER,e.__webglVertexBuffer),De.bufferData(De.ARRAY_BUFFER,e.positionArray,De.DYNAMIC_DRAW),_(t.attributes.position),De.vertexAttribPointer(t.attributes.position,3,De.FLOAT,!1,0,0)),e.hasNormals){if(De.bindBuffer(De.ARRAY_BUFFER,e.__webglNormalBuffer),r.shading===n.FlatShading){var i,o,a,s,c,l,u,h,f,p,d,m,v,g,y=3*e.count;for(g=0;g<y;g+=9)v=e.normalArray,s=v[g],u=v[g+1],p=v[g+2],c=v[g+3],h=v[g+4],d=v[g+5],l=v[g+6],f=v[g+7],m=v[g+8],i=(s+c+l)/3,o=(u+h+f)/3,a=(p+d+m)/3,v[g]=i,v[g+1]=o,v[g+2]=a,v[g+3]=i,v[g+4]=o,v[g+5]=a,v[g+6]=i,v[g+7]=o,v[g+8]=a}De.bufferData(De.ARRAY_BUFFER,e.normalArray,De.DYNAMIC_DRAW),_(t.attributes.normal),De.vertexAttribPointer(t.attributes.normal,3,De.FLOAT,!1,0,0)}e.hasUvs&&r.map&&(De.bindBuffer(De.ARRAY_BUFFER,e.__webglUvBuffer),De.bufferData(De.ARRAY_BUFFER,e.uvArray,De.DYNAMIC_DRAW),_(t.attributes.uv),De.vertexAttribPointer(t.attributes.uv,2,De.FLOAT,!1,0,0)),e.hasColors&&r.vertexColors!==n.NoColors&&(De.bindBuffer(De.ARRAY_BUFFER,e.__webglColorBuffer),De.bufferData(De.ARRAY_BUFFER,e.colorArray,De.DYNAMIC_DRAW),_(t.attributes.color),De.vertexAttribPointer(t.attributes.color,3,De.FLOAT,!1,0,0)),M(),De.drawArrays(De.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,r,i,o,a){if(!1!==i.visible){var s=j(e,t,r,i,a),c=s.attributes,l=o.attributes,u=!1,h=i.wireframe?1:0,f=16777215*o.id+2*s.id+h;if(f!==Ge&&(Ge=f,u=!0),u&&w(),a instanceof n.Mesh){var p=l.index;if(p){var d,m;p.array instanceof Uint32Array?(d=De.UNSIGNED_INT,m=4):(d=De.UNSIGNED_SHORT,m=2);var v=o.offsets;if(0===v.length)u&&(b(i,c,l,0),De.bindBuffer(De.ELEMENT_ARRAY_BUFFER,p.buffer)),De.drawElements(De.TRIANGLES,p.array.length,d,0),Be.info.render.calls++,Be.info.render.vertices+=p.array.length,Be.info.render.faces+=p.array.length/3;else{u=!0;for(var g=0,y=v.length;g<y;g++){var x=v[g].index;u&&(b(i,c,l,x),De.bindBuffer(De.ELEMENT_ARRAY_BUFFER,p.buffer)),De.drawElements(De.TRIANGLES,v[g].count,d,v[g].start*m),Be.info.render.calls++,Be.info.render.vertices+=v[g].count,Be.info.render.faces+=v[g].count/3}}}else{u&&b(i,c,l,0);var _=o.attributes.position;De.drawArrays(De.TRIANGLES,0,_.array.length/3),Be.info.render.calls++,Be.info.render.vertices+=_.array.length/3,Be.info.render.faces+=_.array.length/9}}else if(a instanceof n.ParticleSystem){u&&b(i,c,l,0);var _=l.position;De.drawArrays(De.POINTS,0,_.array.length/3),Be.info.render.calls++,Be.info.render.points+=_.array.length/3}else if(a instanceof n.Line){var M=a.type===n.LineStrip?De.LINE_STRIP:De.LINES;oe(i.linewidth);var p=l.index;if(p){var d,m;p.array instanceof Uint32Array?(d=De.UNSIGNED_INT,m=4):(d=De.UNSIGNED_SHORT,m=2);var v=o.offsets;if(0===v.length)u&&(b(i,c,l,0),De.bindBuffer(De.ELEMENT_ARRAY_BUFFER,p.buffer)),De.drawElements(De.LINES,p.array.length,d,0),Be.info.render.calls++,Be.info.render.vertices+=p.array.length;else{v.length>1&&(u=!0);for(var g=0,y=v.length;g<y;g++){var x=v[g].index;u&&(b(i,c,l,x),De.bindBuffer(De.ELEMENT_ARRAY_BUFFER,p.buffer)),De.drawElements(De.LINES,v[g].count,d,v[g].start*m),Be.info.render.calls++,Be.info.render.vertices+=v[g].count}}}else{u&&b(i,c,l,0);var _=l.position;De.drawArrays(M,0,_.array.length/3),Be.info.render.calls++,Be.info.render.points+=_.array.length/3}}}},this.renderBuffer=function(e,t,r,i,o,a){if(!1!==i.visible){var s,c,l,u=j(e,t,r,i,a),h=u.attributes,f=!1,p=i.wireframe?1:0,d=16777215*o.id+2*u.id+p;if(d!==Ge&&(Ge=d,f=!0),f&&w(),!i.morphTargets&&h.position>=0?f&&(De.bindBuffer(De.ARRAY_BUFFER,o.__webglVertexBuffer),_(h.position),De.vertexAttribPointer(h.position,3,De.FLOAT,!1,0,0)):a.morphTargetBase&&S(i,o,a),f){if(o.__webglCustomAttributesList)for(c=0,l=o.__webglCustomAttributesList.length;c<l;c++)s=o.__webglCustomAttributesList[c],h[s.buffer.belongsToAttribute]>=0&&(De.bindBuffer(De.ARRAY_BUFFER,s.buffer),_(h[s.buffer.belongsToAttribute]),De.vertexAttribPointer(h[s.buffer.belongsToAttribute],s.size,De.FLOAT,!1,0,0));h.color>=0&&(a.geometry.colors.length>0||a.geometry.faces.length>0?(De.bindBuffer(De.ARRAY_BUFFER,o.__webglColorBuffer),_(h.color),De.vertexAttribPointer(h.color,3,De.FLOAT,!1,0,0)):i.defaultAttributeValues&&De.vertexAttrib3fv(h.color,i.defaultAttributeValues.color)),h.normal>=0&&(De.bindBuffer(De.ARRAY_BUFFER,o.__webglNormalBuffer),_(h.normal),De.vertexAttribPointer(h.normal,3,De.FLOAT,!1,0,0)),h.tangent>=0&&(De.bindBuffer(De.ARRAY_BUFFER,o.__webglTangentBuffer),_(h.tangent),De.vertexAttribPointer(h.tangent,4,De.FLOAT,!1,0,0)),h.uv>=0&&(a.geometry.faceVertexUvs[0]?(De.bindBuffer(De.ARRAY_BUFFER,o.__webglUVBuffer),_(h.uv),De.vertexAttribPointer(h.uv,2,De.FLOAT,!1,0,0)):i.defaultAttributeValues&&De.vertexAttrib2fv(h.uv,i.defaultAttributeValues.uv)),h.uv2>=0&&(a.geometry.faceVertexUvs[1]?(De.bindBuffer(De.ARRAY_BUFFER,o.__webglUV2Buffer),_(h.uv2),De.vertexAttribPointer(h.uv2,2,De.FLOAT,!1,0,0)):i.defaultAttributeValues&&De.vertexAttrib2fv(h.uv2,i.defaultAttributeValues.uv2)),i.skinning&&h.skinIndex>=0&&h.skinWeight>=0&&(De.bindBuffer(De.ARRAY_BUFFER,o.__webglSkinIndicesBuffer),_(h.skinIndex),De.vertexAttribPointer(h.skinIndex,4,De.FLOAT,!1,0,0),De.bindBuffer(De.ARRAY_BUFFER,o.__webglSkinWeightsBuffer),_(h.skinWeight),De.vertexAttribPointer(h.skinWeight,4,De.FLOAT,!1,0,0)),h.lineDistance>=0&&(De.bindBuffer(De.ARRAY_BUFFER,o.__webglLineDistanceBuffer),_(h.lineDistance),De.vertexAttribPointer(h.lineDistance,1,De.FLOAT,!1,0,0))}if(M(),a instanceof n.Mesh){var m=o.__typeArray===Uint32Array?De.UNSIGNED_INT:De.UNSIGNED_SHORT;i.wireframe?(oe(i.wireframeLinewidth),f&&De.bindBuffer(De.ELEMENT_ARRAY_BUFFER,o.__webglLineBuffer),De.drawElements(De.LINES,o.__webglLineCount,m,0)):(f&&De.bindBuffer(De.ELEMENT_ARRAY_BUFFER,o.__webglFaceBuffer),De.drawElements(De.TRIANGLES,o.__webglFaceCount,m,0)),Be.info.render.calls++,Be.info.render.vertices+=o.__webglFaceCount,Be.info.render.faces+=o.__webglFaceCount/3}else if(a instanceof n.Line){var v=a.type===n.LineStrip?De.LINE_STRIP:De.LINES;oe(i.linewidth),De.drawArrays(v,0,o.__webglLineCount),Be.info.render.calls++}else a instanceof n.ParticleSystem&&(De.drawArrays(De.POINTS,0,o.__webglParticleCount),Be.info.render.calls++,Be.info.render.points+=o.__webglParticleCount)}},this.render=function(e,t,r,i){if(t instanceof n.Camera==!1)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");var o,a,s,c,l,u=e.__lights,h=e.fog;for(He=-1,yt=!0,!0===e.autoUpdate&&e.updateMatrixWorld(),void 0===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),dt.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),pt.setFromMatrix(dt),this.autoUpdateObjects&&this.initWebGLObjects(e),A(this.renderPluginsPre,e,t),Be.info.render.calls=0,Be.info.render.vertices=0,Be.info.render.faces=0,Be.info.render.points=0,this.setRenderTarget(r),(this.autoClear||i)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),l=e.__webglObjects,o=0,a=l.length;o<a;o++)s=l[o],c=s.object,s.id=o,s.render=!1,c.visible&&((c instanceof n.Mesh||c instanceof n.ParticleSystem)&&c.frustumCulled&&!pt.intersectsObject(c)||(te(c,t),D(s),s.render=!0,!0===this.sortObjects&&(null!==c.renderDepth?s.z=c.renderDepth:(vt.setFromMatrixPosition(c.matrixWorld),vt.applyProjection(dt),s.z=vt.z))));for(this.sortObjects&&l.sort(C),l=e.__webglObjectsImmediate,o=0,a=l.length;o<a;o++)s=l[o],c=s.object,c.visible&&(te(c,t),P(s));if(e.overrideMaterial){var f=e.overrideMaterial;this.setBlending(f.blending,f.blendEquation,f.blendSrc,f.blendDst),this.setDepthTest(f.depthTest),this.setDepthWrite(f.depthWrite),ae(f.polygonOffset,f.polygonOffsetFactor,f.polygonOffsetUnits),E(e.__webglObjects,!1,"",t,u,h,!0,f),L(e.__webglObjectsImmediate,"",t,u,h,!1,f)}else{var f=null;this.setBlending(n.NoBlending),E(e.__webglObjects,!0,"opaque",t,u,h,!1,f),L(e.__webglObjectsImmediate,"opaque",t,u,h,!1,f),E(e.__webglObjects,!1,"transparent",t,u,h,!0,f),L(e.__webglObjectsImmediate,"transparent",t,u,h,!0,f)}A(this.renderPluginsPost,e,t),r&&r.generateMipmaps&&r.minFilter!==n.NearestFilter&&r.minFilter!==n.LinearFilter&&pe(r),this.setDepthTest(!0),this.setDepthWrite(!0)},this.renderImmediateObject=function(e,t,r,i,n){var o=j(e,t,r,i,n);Ge=-1,Be.setMaterialFaces(i),n.immediateRenderCallback?n.immediateRenderCallback(o,De,pt):n.render(function(e){Be.renderBufferImmediate(e,o,i)})},this.initWebGLObjects=function(e){for(e.__webglObjects||(e.__webglObjects=[],e.__webglObjectsImmediate=[],e.__webglSprites=[],e.__webglFlares=[]);e.__objectsAdded.length;)R(e.__objectsAdded[0],e),e.__objectsAdded.splice(0,1);for(;e.__objectsRemoved.length;)V(e.__objectsRemoved[0],e),e.__objectsRemoved.splice(0,1);for(var t=0,r=e.__webglObjects.length;t<r;t++){var i=e.__webglObjects[t].object;void 0===i.__webglInit&&(void 0!==i.__webglActive&&V(i,e),R(i,e)),O(i)}},this.initMaterial=function(e,t,r,i){e.addEventListener("dispose",Ot);var o,a,s,c,l,u,h;e instanceof n.MeshDepthMaterial?h="depth":e instanceof n.MeshNormalMaterial?h="normal":e instanceof n.MeshBasicMaterial?h="basic":e instanceof n.MeshLambertMaterial?h="lambert":e instanceof n.MeshPhongMaterial?h="phong":e instanceof n.LineBasicMaterial?h="basic":e instanceof n.LineDashedMaterial?h="dashed":e instanceof n.ParticleSystemMaterial&&(h="particle_basic"),h&&I(e,n.ShaderLib[h]),c=ge(t),u=ye(t),l=ve(i),s={precision:we,supportsVertexTextures:St,map:!!e.map,envMap:!!e.envMap,lightMap:!!e.lightMap,bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,specularMap:!!e.specularMap,vertexColors:e.vertexColors,fog:r,useFog:e.fog,fogExp:r instanceof n.FogExp2,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:Ee,skinning:e.skinning,maxBones:l,useVertexTexture:Ct&&i&&i.skeleton&&i.skeleton.useVertexTexture,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:this.maxMorphTargets,maxMorphNormals:this.maxMorphNormals,maxDirLights:c.directional,maxPointLights:c.point,maxSpotLights:c.spot,maxHemiLights:c.hemi,maxShadows:u,shadowMapEnabled:this.shadowMapEnabled&&i.receiveShadow&&u>0,shadowMapType:this.shadowMapType,shadowMapDebug:this.shadowMapDebug,shadowMapCascade:this.shadowMapCascade,alphaTest:e.alphaTest,metal:e.metal,wrapAround:e.wrapAround,doubleSided:e.side===n.DoubleSide,flipSided:e.side===n.BackSide};var f=[];h?f.push(h):(f.push(e.fragmentShader),f.push(e.vertexShader));for(var p in e.defines)f.push(p),f.push(e.defines[p]);for(var d in s)f.push(d),f.push(s[d]);for(var m,v=f.join(),d=0,g=ze.length;d<g;d++){var y=ze[d];if(y.code===v){m=y,m.usedTimes++;break}}void 0===m&&(m=new n.WebGLProgram(this,v,e,s),ze.push(m),Be.info.memory.programs=ze.length),e.program=m;var x=e.program.attributes;if(e.morphTargets){e.numSupportedMorphTargets=0;var b,w="morphTarget";for(a=0;a<this.maxMorphTargets;a++)b=w+a,x[b]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;var b,w="morphNormal";for(a=0;a<this.maxMorphNormals;a++)b=w+a,x[b]>=0&&e.numSupportedMorphNormals++}e.uniformsList=[];for(o in e.uniforms)e.uniformsList.push([e.uniforms[o],o])},this.setFaceCulling=function(e,t){e===n.CullFaceNone?De.disable(De.CULL_FACE):(t===n.FrontFaceDirectionCW?De.frontFace(De.CW):De.frontFace(De.CCW),e===n.CullFaceBack?De.cullFace(De.BACK):e===n.CullFaceFront?De.cullFace(De.FRONT):De.cullFace(De.FRONT_AND_BACK),De.enable(De.CULL_FACE))},this.setMaterialFaces=function(e){var t=e.side===n.DoubleSide,r=e.side===n.BackSide;qe!==t&&(t?De.disable(De.CULL_FACE):De.enable(De.CULL_FACE),qe=t),$e!==r&&(r?De.frontFace(De.CW):De.frontFace(De.CCW),$e=r)},this.setDepthTest=function(e){Je!==e&&(e?De.enable(De.DEPTH_TEST):De.disable(De.DEPTH_TEST),Je=e)},this.setDepthWrite=function(e){et!==e&&(De.depthMask(e),et=e)},this.setBlending=function(e,t,r,i){e!==Ye&&(e===n.NoBlending?De.disable(De.BLEND):e===n.AdditiveBlending?(De.enable(De.BLEND),De.blendEquation(De.FUNC_ADD),De.blendFunc(De.SRC_ALPHA,De.ONE)):e===n.SubtractiveBlending?(De.enable(De.BLEND),De.blendEquation(De.FUNC_ADD),De.blendFunc(De.ZERO,De.ONE_MINUS_SRC_COLOR)):e===n.MultiplyBlending?(De.enable(De.BLEND),De.blendEquation(De.FUNC_ADD),De.blendFunc(De.ZERO,De.SRC_COLOR)):e===n.CustomBlending?De.enable(De.BLEND):(De.enable(De.BLEND),De.blendEquationSeparate(De.FUNC_ADD,De.FUNC_ADD),De.blendFuncSeparate(De.SRC_ALPHA,De.ONE_MINUS_SRC_ALPHA,De.ONE,De.ONE_MINUS_SRC_ALPHA)),Ye=e),e===n.CustomBlending?(t!==Ke&&(De.blendEquation(me(t)),Ke=t),r===Ze&&i===Qe||(De.blendFunc(me(r),me(i)),Ze=r,Qe=i)):(Ke=null,Ze=null,Qe=null)},this.setTexture=function(e,t){if(e.needsUpdate){e.__webglInit||(e.__webglInit=!0,e.addEventListener("dispose",Ft),e.__webglTexture=De.createTexture(),Be.info.memory.textures++),De.activeTexture(De.TEXTURE0+t),De.bindTexture(De.TEXTURE_2D,e.__webglTexture),De.pixelStorei(De.UNPACK_FLIP_Y_WEBGL,e.flipY),De.pixelStorei(De.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),De.pixelStorei(De.UNPACK_ALIGNMENT,e.unpackAlignment);var r=e.image,i=n.Math.isPowerOfTwo(r.width)&&n.Math.isPowerOfTwo(r.height),o=me(e.format),a=me(e.type);se(De.TEXTURE_2D,e,i);var s,c=e.mipmaps;if(e instanceof n.DataTexture)if(c.length>0&&i){for(var l=0,u=c.length;l<u;l++)s=c[l],De.texImage2D(De.TEXTURE_2D,l,o,s.width,s.height,0,o,a,s.data);e.generateMipmaps=!1}else De.texImage2D(De.TEXTURE_2D,0,o,r.width,r.height,0,o,a,r.data);else if(e instanceof n.CompressedTexture)for(var l=0,u=c.length;l<u;l++)s=c[l],e.format!==n.RGBAFormat?De.compressedTexImage2D(De.TEXTURE_2D,l,o,s.width,s.height,0,s.data):De.texImage2D(De.TEXTURE_2D,l,o,s.width,s.height,0,o,a,s.data);else if(c.length>0&&i){for(var l=0,u=c.length;l<u;l++)s=c[l],De.texImage2D(De.TEXTURE_2D,l,o,o,a,s);e.generateMipmaps=!1}else De.texImage2D(De.TEXTURE_2D,0,o,o,a,e.image);e.generateMipmaps&&i&&De.generateMipmap(De.TEXTURE_2D),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else De.activeTexture(De.TEXTURE0+t),De.bindTexture(De.TEXTURE_2D,e.__webglTexture)},this.setRenderTarget=function(e){var t=e instanceof n.WebGLRenderTargetCube;if(e&&!e.__webglFramebuffer){void 0===e.depthBuffer&&(e.depthBuffer=!0),void 0===e.stencilBuffer&&(e.stencilBuffer=!0),e.addEventListener("dispose",kt),e.__webglTexture=De.createTexture(),Be.info.memory.textures++;var r=n.Math.isPowerOfTwo(e.width)&&n.Math.isPowerOfTwo(e.height),i=me(e.format),o=me(e.type);if(t){e.__webglFramebuffer=[],e.__webglRenderbuffer=[],De.bindTexture(De.TEXTURE_CUBE_MAP,e.__webglTexture),se(De.TEXTURE_CUBE_MAP,e,r);for(var a=0;a<6;a++)e.__webglFramebuffer[a]=De.createFramebuffer(),e.__webglRenderbuffer[a]=De.createRenderbuffer(),De.texImage2D(De.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,i,e.width,e.height,0,i,o,null),he(e.__webglFramebuffer[a],e,De.TEXTURE_CUBE_MAP_POSITIVE_X+a),fe(e.__webglRenderbuffer[a],e);r&&De.generateMipmap(De.TEXTURE_CUBE_MAP)}else e.__webglFramebuffer=De.createFramebuffer(),e.shareDepthFrom?e.__webglRenderbuffer=e.shareDepthFrom.__webglRenderbuffer:e.__webglRenderbuffer=De.createRenderbuffer(),De.bindTexture(De.TEXTURE_2D,e.__webglTexture),se(De.TEXTURE_2D,e,r),De.texImage2D(De.TEXTURE_2D,0,i,e.width,e.height,0,i,o,null),he(e.__webglFramebuffer,e,De.TEXTURE_2D),e.shareDepthFrom?e.depthBuffer&&!e.stencilBuffer?De.framebufferRenderbuffer(De.FRAMEBUFFER,De.DEPTH_ATTACHMENT,De.RENDERBUFFER,e.__webglRenderbuffer):e.depthBuffer&&e.stencilBuffer&&De.framebufferRenderbuffer(De.FRAMEBUFFER,De.DEPTH_STENCIL_ATTACHMENT,De.RENDERBUFFER,e.__webglRenderbuffer):fe(e.__webglRenderbuffer,e),r&&De.generateMipmap(De.TEXTURE_2D);t?De.bindTexture(De.TEXTURE_CUBE_MAP,null):De.bindTexture(De.TEXTURE_2D,null),De.bindRenderbuffer(De.RENDERBUFFER,null),De.bindFramebuffer(De.FRAMEBUFFER,null)}var s,c,l,u,h;e?(s=t?e.__webglFramebuffer[e.activeCubeFace]:e.__webglFramebuffer,c=e.width,l=e.height,u=0,h=0):(s=null,c=st,l=ct,u=ot,h=at),s!==je&&(De.bindFramebuffer(De.FRAMEBUFFER,s),De.viewport(u,h,c,l),je=s),lt=c,ut=l},this.shadowMapPlugin=new n.ShadowMapPlugin,this.addPrePlugin(this.shadowMapPlugin),this.addPostPlugin(new n.SpritePlugin),this.addPostPlugin(new n.LensFlarePlugin)},n.WebGLRenderTarget=function(e,t,r){this.width=e,this.height=t,r=r||{},this.wrapS=void 0!==r.wrapS?r.wrapS:n.ClampToEdgeWrapping,this.wrapT=void 0!==r.wrapT?r.wrapT:n.ClampToEdgeWrapping,this.magFilter=void 0!==r.magFilter?r.magFilter:n.LinearFilter,this.minFilter=void 0!==r.minFilter?r.minFilter:n.LinearMipMapLinearFilter,this.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,this.offset=new n.Vector2(0,0),this.repeat=new n.Vector2(1,1),this.format=void 0!==r.format?r.format:n.RGBAFormat,this.type=void 0!==r.type?r.type:n.UnsignedByteType,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.generateMipmaps=!0,this.shareDepthFrom=null},n.WebGLRenderTarget.prototype={constructor:n.WebGLRenderTarget,setSize:function(e,t){this.width=e,this.height=t},clone:function(){var e=new n.WebGLRenderTarget(this.width,this.height);return e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.format=this.format,e.type=this.type,e.depthBuffer=this.depthBuffer,e.stencilBuffer=this.stencilBuffer,e.generateMipmaps=this.generateMipmaps,e.shareDepthFrom=this.shareDepthFrom,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},n.EventDispatcher.prototype.apply(n.WebGLRenderTarget.prototype),n.WebGLRenderTargetCube=function(e,t,r){n.WebGLRenderTarget.call(this,e,t,r),this.activeCubeFace=0},n.WebGLRenderTargetCube.prototype=Object.create(n.WebGLRenderTarget.prototype),n.WebGLProgram=function(){var e=0,t=function(e){var t,r,i=[];for(var n in e)!1!==(t=e[n])&&(r="#define "+n+" "+t,i.push(r));return i.join("\n")},r=function(e,t,r){for(var i={},n=0,o=r.length;n<o;n++){var a=r[n];i[a]=e.getUniformLocation(t,a)}return i},i=function(e,t,r){for(var i={},n=0,o=r.length;n<o;n++){var a=r[n];i[a]=e.getAttribLocation(t,a)}return i};return function(o,a,s,c){var l=o,u=l.context,h=s.fragmentShader,f=s.vertexShader,p=s.uniforms,d=s.attributes,m=s.defines,v=s.index0AttributeName;void 0===v&&!0===c.morphTargets&&(v="position");var g="SHADOWMAP_TYPE_BASIC";c.shadowMapType===n.PCFShadowMap?g="SHADOWMAP_TYPE_PCF":c.shadowMapType===n.PCFSoftShadowMap&&(g="SHADOWMAP_TYPE_PCF_SOFT");var y,x,b=t(m),w=u.createProgram();s instanceof n.RawShaderMaterial?(y="",x=""):(y=["precision "+c.precision+" float;","precision "+c.precision+" int;",b,c.supportsVertexTextures?"#define VERTEX_TEXTURES":"",l.gammaInput?"#define GAMMA_INPUT":"",l.gammaOutput?"#define GAMMA_OUTPUT":"","#define MAX_DIR_LIGHTS "+c.maxDirLights,"#define MAX_POINT_LIGHTS "+c.maxPointLights,"#define MAX_SPOT_LIGHTS "+c.maxSpotLights,"#define MAX_HEMI_LIGHTS "+c.maxHemiLights,"#define MAX_SHADOWS "+c.maxShadows,"#define MAX_BONES "+c.maxBones,c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.lightMap?"#define USE_LIGHTMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.vertexColors?"#define USE_COLOR":"",c.skinning?"#define USE_SKINNING":"",c.useVertexTexture?"#define BONE_TEXTURE":"",c.morphTargets?"#define USE_MORPHTARGETS":"",c.morphNormals?"#define USE_MORPHNORMALS":"",c.wrapAround?"#define WRAP_AROUND":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+g:"",c.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",c.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","attribute vec2 uv2;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif",""].join("\n"),x=["precision "+c.precision+" float;","precision "+c.precision+" int;",c.bumpMap||c.normalMap?"#extension GL_OES_standard_derivatives : enable":"",b,"#define MAX_DIR_LIGHTS "+c.maxDirLights,"#define MAX_POINT_LIGHTS "+c.maxPointLights,"#define MAX_SPOT_LIGHTS "+c.maxSpotLights,"#define MAX_HEMI_LIGHTS "+c.maxHemiLights,"#define MAX_SHADOWS "+c.maxShadows,c.alphaTest?"#define ALPHATEST "+c.alphaTest:"",l.gammaInput?"#define GAMMA_INPUT":"",l.gammaOutput?"#define GAMMA_OUTPUT":"",c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.lightMap?"#define USE_LIGHTMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.vertexColors?"#define USE_COLOR":"",c.metal?"#define METAL":"",c.wrapAround?"#define WRAP_AROUND":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+g:"",c.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",c.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",""].join("\n"));var _=new n.WebGLShader(u,u.VERTEX_SHADER,y+f),M=new n.WebGLShader(u,u.FRAGMENT_SHADER,x+h);u.attachShader(w,_),u.attachShader(w,M),void 0!==v&&u.bindAttribLocation(w,0,v),u.linkProgram(w),!1===u.getProgramParameter(w,u.LINK_STATUS)&&(console.error("Could not initialise shader"),console.error("gl.VALIDATE_STATUS",u.getProgramParameter(w,u.VALIDATE_STATUS)),console.error("gl.getError()",u.getError())),""!==u.getProgramInfoLog(w)&&console.error("gl.getProgramInfoLog()",u.getProgramInfoLog(w)),u.deleteShader(_),u.deleteShader(M);var S=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","modelMatrix","cameraPosition","morphTargetInfluences"];c.useVertexTexture?(S.push("boneTexture"),S.push("boneTextureWidth"),S.push("boneTextureHeight")):S.push("boneGlobalMatrices"),c.logarithmicDepthBuffer&&S.push("logDepthBufFC");for(var C in p)S.push(C);this.uniforms=r(u,w,S),S=["position","normal","uv","uv2","tangent","color","skinIndex","skinWeight","lineDistance"];for(var T=0;T<c.maxMorphTargets;T++)S.push("morphTarget"+T);for(var T=0;T<c.maxMorphNormals;T++)S.push("morphNormal"+T);for(var A in d)S.push(A);return this.attributes=i(u,w,S),this.id=e++,this.code=a,this.usedTimes=1,this.program=w,this.vertexShader=_,this.fragmentShader=M,this}}(),n.WebGLShader=function(){var e=function(e){for(var t=e.split("\n"),r=0;r<t.length;r++)t[r]=r+1+": "+t[r];return t.join("\n")};return function(t,r,i){var n=t.createShader(r);return t.shaderSource(n,i),t.compileShader(n),!1===t.getShaderParameter(n,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(n)&&(console.error("THREE.WebGLShader:","gl.getShaderInfoLog()",t.getShaderInfoLog(n)),console.error(e(i))),n}}(),n.RenderableVertex=function(){this.position=new n.Vector3,this.positionWorld=new n.Vector3,this.positionScreen=new n.Vector4,this.visible=!0},n.RenderableVertex.prototype.copy=function(e){this.positionWorld.copy(e.positionWorld),this.positionScreen.copy(e.positionScreen)},n.RenderableFace=function(){this.id=0,this.v1=new n.RenderableVertex,this.v2=new n.RenderableVertex,this.v3=new n.RenderableVertex,this.normalModel=new n.Vector3,this.vertexNormalsModel=[new n.Vector3,new n.Vector3,new n.Vector3],this.vertexNormalsLength=0,this.color=null,this.material=null,this.uvs=[new n.Vector2,new n.Vector2,new n.Vector2],this.z=0},n.RenderableObject=function(){this.id=0,this.object=null,this.z=0},n.RenderableSprite=function(){this.id=0,this.object=null,this.x=0,this.y=0,this.z=0,this.rotation=0,this.scale=new n.Vector2,this.material=null},n.RenderableLine=function(){this.id=0,this.v1=new n.RenderableVertex,this.v2=new n.RenderableVertex,this.vertexColors=[new n.Color,new n.Color],this.material=null,this.z=0},n.GeometryUtils={merge:function(e,t,r){console.warn("DEPRECATED: GeometryUtils's .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var i;t instanceof n.Mesh&&(t.matrixAutoUpdate&&t.updateMatrix(),i=t.matrix,t=t.geometry),e.merge(t,i,r)},randomPointInTriangle:function(){var e=new n.Vector3;return function(t,r,i){var o=new n.Vector3,a=n.Math.random16(),s=n.Math.random16();a+s>1&&(a=1-a,s=1-s);var c=1-a-s;return o.copy(t),o.multiplyScalar(a),e.copy(r),e.multiplyScalar(s),o.add(e),e.copy(i),e.multiplyScalar(c),o.add(e),o}}(),randomPointInFace:function(e,t,r){var i,o,a;return i=t.vertices[e.a],o=t.vertices[e.b],a=t.vertices[e.c],n.GeometryUtils.randomPointInTriangle(i,o,a)},randomPointsInGeometry:function(e,t){var r,i,o,a,s,c=e.faces,l=e.vertices,u=c.length,h=0,f=[];for(i=0;i<u;i++)r=c[i],o=l[r.a],a=l[r.b],s=l[r.c],r._area=n.GeometryUtils.triangleArea(o,a,s),h+=r._area,f[i]=h;var p,d,m=[],v={};for(i=0;i<t;i++)p=n.Math.random16()*h,d=function(e){function t(r,i){if(i<r)return r;var n=r+Math.floor((i-r)/2);return f[n]>e?t(r,n-1):f[n]<e?t(n+1,i):n}return t(0,f.length-1)}(p),m[i]=n.GeometryUtils.randomPointInFace(c[d],e,!0),v[d]?v[d]+=1:v[d]=1;return m},triangleArea:function(){var e=new n.Vector3,t=new n.Vector3;return function(r,i,n){return e.subVectors(i,r),t.subVectors(n,r),e.cross(t),.5*e.length()}}(),center:function(e){e.computeBoundingBox();var t=e.boundingBox,r=new n.Vector3;return r.addVectors(t.min,t.max),r.multiplyScalar(-.5),e.applyMatrix((new n.Matrix4).makeTranslation(r.x,r.y,r.z)),e.computeBoundingBox(),r}},n.ImageUtils={crossOrigin:void 0,loadTexture:function(e,t,r,i){var o=new n.ImageLoader;o.crossOrigin=this.crossOrigin;var a=new n.Texture(void 0,t),s=o.load(e,function(){a.needsUpdate=!0,r&&r(a)},void 0,function(e){i&&i(e)});return a.image=s,a.sourceFile=e,a},loadCompressedTexture:function(e,t,r,i){var o=new n.CompressedTexture;o.mapping=t;var a=new XMLHttpRequest;return a.onload=function(){var e=a.response,t=n.ImageUtils.parseDDS(e,!0);o.format=t.format,o.mipmaps=t.mipmaps,o.image.width=t.width,o.image.height=t.height,o.generateMipmaps=!1,o.needsUpdate=!0,r&&r(o)},a.onerror=i,a.open("GET",e,!0),a.responseType="arraybuffer",a.send(null),o},loadTextureCube:function(e,t,r,i){var o=[];o.loadCount=0;var a=new n.ImageLoader;a.crossOrigin=this.crossOrigin;var s=new n.Texture;s.image=o,void 0!==t&&(s.mapping=t),s.flipY=!1;for(var c=0,l=e.length;c<l;++c){var u=a.load(e[c],function(){o.loadCount+=1,6===o.loadCount&&(s.needsUpdate=!0,r&&r(s))});o[c]=u}return s},loadCompressedTextureCube:function(e,t,r,i){var o=[];o.loadCount=0;var a=new n.CompressedTexture;a.image=o,void 0!==t&&(a.mapping=t),a.flipY=!1,a.generateMipmaps=!1;if(e instanceof Array)for(var s=0,c=e.length;s<c;++s){var l={};o[s]=l;var u=new XMLHttpRequest;u.onload=function(e,t){return function(){var i=e.response,s=n.ImageUtils.parseDDS(i,!0);t.format=s.format,t.mipmaps=s.mipmaps,t.width=s.width,t.height=s.height,o.loadCount+=1,6===o.loadCount&&(a.format=s.format,a.needsUpdate=!0,r&&r(a))}}(u,l),u.onerror=i;var h=e[s];u.open("GET",h,!0),u.responseType="arraybuffer",u.send(null)}else{var h=e,u=new XMLHttpRequest;u.onload=function(){var e=u.response,t=n.ImageUtils.parseDDS(e,!0);if(t.isCubemap){for(var i=t.mipmaps.length/t.mipmapCount,s=0;s<i;s++){o[s]={mipmaps:[]};for(var c=0;c<t.mipmapCount;c++)o[s].mipmaps.push(t.mipmaps[s*t.mipmapCount+c]),o[s].format=t.format,o[s].width=t.width,o[s].height=t.height}a.format=t.format,a.needsUpdate=!0,r&&r(a)}},u.onerror=i,u.open("GET",h,!0),u.responseType="arraybuffer",u.send(null)}return a},loadDDSTexture:function(e,t,r,i){var o=[];o.loadCount=0;var a=new n.CompressedTexture;a.image=o,void 0!==t&&(a.mapping=t),a.flipY=!1,a.generateMipmaps=!1;var s=new XMLHttpRequest;return s.onload=function(){var e=s.response,t=n.ImageUtils.parseDDS(e,!0);if(t.isCubemap)for(var i=t.mipmaps.length/t.mipmapCount,c=0;c<i;c++){o[c]={mipmaps:[]};for(var l=0;l<t.mipmapCount;l++)o[c].mipmaps.push(t.mipmaps[c*t.mipmapCount+l]),o[c].format=t.format,o[c].width=t.width,o[c].height=t.height}else a.image.width=t.width,a.image.height=t.height,a.mipmaps=t.mipmaps;a.format=t.format,a.needsUpdate=!0,r&&r(a)},s.onerror=i,s.open("GET",e,!0),s.responseType="arraybuffer",s.send(null),a},parseDDS:function(e,t){function r(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var i={mipmaps:[],width:0,height:0,format:null,mipmapCount:1},o=r("DXT1"),a=r("DXT3"),s=r("DXT5"),c=new Int32Array(e,0,31);if(542327876!==c[0])return console.error("ImageUtils.parseDDS(): Invalid magic number in DDS header"),i;if(4&!c[20])return console.error("ImageUtils.parseDDS(): Unsupported format, must contain a FourCC code"),i;var l,u=c[21],h=!1;switch(u){case o:l=8,i.format=n.RGB_S3TC_DXT1_Format;break;case a:l=16,i.format=n.RGBA_S3TC_DXT3_Format;break;case s:l=16,i.format=n.RGBA_S3TC_DXT5_Format;break;default:if(!(32==c[22]&&16711680&c[23]&&65280&c[24]&&255&c[25]&&4278190080&c[26]))return console.error("ImageUtils.parseDDS(): Unsupported FourCC code: ",function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}(u)),i;h=!0,l=64,i.format=n.RGBAFormat}i.mipmapCount=1,131072&c[2]&&!1!==t&&(i.mipmapCount=Math.max(1,c[7])),i.isCubemap=!!(512&c[28]),i.width=c[4],i.height=c[3];for(var f=c[1]+4,p=i.width,d=i.height,m=i.isCubemap?6:1,v=0;v<m;v++){for(var g=0;g<i.mipmapCount;g++){if(h)var y=function(e,t,r,i){for(var n=r*i*4,o=new Uint8Array(e,t,n),a=new Uint8Array(n),s=0,c=0,l=0;l<i;l++)for(var u=0;u<r;u++){var h=o[c];c++;var f=o[c];c++;var p=o[c];c++;var d=o[c];c++,a[s]=p,s++,a[s]=f,s++,a[s]=h,s++,a[s]=d,s++}return a}(e,f,p,d),x=y.length;else var x=Math.max(4,p)/4*Math.max(4,d)/4*l,y=new Uint8Array(e,f,x);var b={data:y,width:p,height:d};i.mipmaps.push(b),f+=x,p=Math.max(.5*p,1),d=Math.max(.5*d,1)}p=i.width,d=i.height}return i},getNormalMap:function(e,t){var r=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]};t|=1;var i=e.width,n=e.height,o=document.createElement("canvas");o.width=i,o.height=n;var a=o.getContext("2d");a.drawImage(e,0,0);for(var s=a.getImageData(0,0,i,n).data,c=a.createImageData(i,n),l=c.data,u=0;u<i;u++)for(var h=0;h<n;h++){var f=h-1<0?0:h-1,p=h+1>n-1?n-1:h+1,d=u-1<0?0:u-1,m=u+1>i-1?i-1:u+1,v=[],g=[0,0,s[4*(h*i+u)]/255*t];v.push([-1,0,s[4*(h*i+d)]/255*t]),v.push([-1,-1,s[4*(f*i+d)]/255*t]),v.push([0,-1,s[4*(f*i+u)]/255*t]),v.push([1,-1,s[4*(f*i+m)]/255*t]),v.push([1,0,s[4*(h*i+m)]/255*t]),v.push([1,1,s[4*(p*i+m)]/255*t]),v.push([0,1,s[4*(p*i+u)]/255*t]),v.push([-1,1,s[4*(p*i+d)]/255*t]);for(var y=[],x=v.length,b=0;b<x;b++){var w=v[b],_=v[(b+1)%x];w=r(w,g),_=r(_,g),y.push(function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return[e[0]/t,e[1]/t,e[2]/t]}(function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}(w,_)))}for(var M=[0,0,0],b=0;b<y.length;b++)M[0]+=y[b][0],M[1]+=y[b][1],M[2]+=y[b][2];M[0]/=y.length,M[1]/=y.length,M[2]/=y.length;var S=4*(h*i+u);l[S]=(M[0]+1)/2*255|0,l[S+1]=(M[1]+1)/2*255|0,l[S+2]=255*M[2]|0,l[S+3]=255}return a.putImageData(c,0,0),o},generateDataTexture:function(e,t,r){for(var i=e*t,o=new Uint8Array(3*i),a=Math.floor(255*r.r),s=Math.floor(255*r.g),c=Math.floor(255*r.b),l=0;l<i;l++)o[3*l]=a,o[3*l+1]=s,o[3*l+2]=c;var u=new n.DataTexture(o,e,t,n.RGBFormat);return u.needsUpdate=!0,u}},n.SceneUtils={createMultiMaterialObject:function(e,t){for(var r=new n.Object3D,i=0,o=t.length;i<o;i++)r.add(new n.Mesh(e,t[i]));return r},detach:function(e,t,r){e.applyMatrix(t.matrixWorld),t.remove(e),r.add(e)},attach:function(e,t,r){var i=new n.Matrix4;i.getInverse(r.matrixWorld),e.applyMatrix(i),t.remove(e),r.add(e)}},n.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){return this.faces[this.face][this.weight][this.style]},loadFace:function(e){var t=e.familyName.toLowerCase(),r=this;r.faces[t]=r.faces[t]||{},r.faces[t][e.cssFontWeight]=r.faces[t][e.cssFontWeight]||{},r.faces[t][e.cssFontWeight][e.cssFontStyle]=e;r.faces[t][e.cssFontWeight][e.cssFontStyle]=e;return e},drawText:function(e){var t,r=this.getFace(),i=this.size/r.resolution,o=0,a=String(e).split(""),s=a.length,c=[];for(t=0;t<s;t++){var l=new n.Path,u=this.extractGlyphPoints(a[t],r,i,o,l);o+=u.offset,c.push(u.path)}return{paths:c,offset:o/2}},extractGlyphPoints:function(e,t,r,i,o){var a,s,c,l,u,h,f,p,d,m,v,g,y,x,b,w,_,M,S=[],C=t.glyphs[e]||t.glyphs["?"];if(C){if(C.o)for(l=C._cachedOutline||(C._cachedOutline=C.o.split(" ")),u=l.length,h=r,f=r,a=0;a<u;)switch(l[a++]){case"m":p=l[a++]*h+i,d=l[a++]*f,o.moveTo(p,d);break;case"l":p=l[a++]*h+i,d=l[a++]*f,o.lineTo(p,d);break;case"q":if(m=l[a++]*h+i,v=l[a++]*f,x=l[a++]*h+i,b=l[a++]*f,o.quadraticCurveTo(x,b,m,v),M=S[S.length-1])for(g=M.x,y=M.y,s=1,c=this.divisions;s<=c;s++){var T=s/c;n.Shape.Utils.b2(T,g,x,m),n.Shape.Utils.b2(T,y,b,v)}break;case"b":if(m=l[a++]*h+i,v=l[a++]*f,x=l[a++]*h+i,b=l[a++]*-f,w=l[a++]*h+i,_=l[a++]*-f,o.bezierCurveTo(m,v,x,b,w,_),M=S[S.length-1])for(g=M.x,y=M.y,s=1,c=this.divisions;s<=c;s++){var T=s/c;n.Shape.Utils.b3(T,g,x,w,m),n.Shape.Utils.b3(T,y,b,_,v)}}return{offset:C.ha*r,path:o}}}},n.FontUtils.generateShapes=function(e,t){t=t||{};var r=void 0!==t.size?t.size:100,i=void 0!==t.curveSegments?t.curveSegments:4,o=void 0!==t.font?t.font:"helvetiker",a=void 0!==t.weight?t.weight:"normal",s=void 0!==t.style?t.style:"normal";n.FontUtils.size=r,n.FontUtils.divisions=i,n.FontUtils.face=o,n.FontUtils.weight=a,n.FontUtils.style=s;for(var c=n.FontUtils.drawText(e),l=c.paths,u=[],h=0,f=l.length;h<f;h++)Array.prototype.push.apply(u,l[h].toShapes());return u},function(e){var t=function(e,t){var n=e.length;if(n<3)return null;var o,a,s,c=[],l=[],u=[];if(r(e)>0)for(a=0;a<n;a++)l[a]=a;else for(a=0;a<n;a++)l[a]=n-1-a;var h=n,f=2*h;for(a=h-1;h>2;){if(f--<=0)return console.log("Warning, unable to triangulate polygon!"),t?u:c;if(o=a,h<=o&&(o=0),a=o+1,h<=a&&(a=0),s=a+1,h<=s&&(s=0),i(e,o,a,s,h,l)){var p,d,m,v,g;for(p=l[o],d=l[a],m=l[s],c.push([e[p],e[d],e[m]]),u.push([l[o],l[a],l[s]]),v=a,g=a+1;g<h;v++,g++)l[v]=l[g];h--,f=2*h}}return t?u:c},r=function(e){for(var t=e.length,r=0,i=t-1,n=0;n<t;i=n++)r+=e[i].x*e[n].y-e[n].x*e[i].y;return.5*r},i=function(e,t,r,i,n,o){var a,s,c,l,u,h,f,p,d;if(s=e[o[t]].x,c=e[o[t]].y,l=e[o[r]].x,u=e[o[r]].y,h=e[o[i]].x,f=e[o[i]].y,1e-10>(l-s)*(f-c)-(u-c)*(h-s))return!1;var m,v,g,y,x,b,w,_,M,S,C,T,A,E,L;for(m=h-l,v=f-u,g=s-h,y=c-f,x=l-s,b=u-c,a=0;a<n;a++)if(p=e[o[a]].x,d=e[o[a]].y,!(p===s&&d===c||p===l&&d===u||p===h&&d===f)&&(w=p-s,_=d-c,M=p-l,S=d-u,C=p-h,T=d-f,L=m*S-v*M,A=x*_-b*w,E=g*T-y*C,L>=-1e-10&&E>=-1e-10&&A>=-1e-10))return!1;return!0};e.Triangulate=t,e.Triangulate.area=r}(n.FontUtils),i._typeface_js={faces:n.FontUtils.faces,loadFace:n.FontUtils.loadFace},n.typeface_js=i._typeface_js,n.Curve=function(){},n.Curve.prototype.getPoint=function(e){return console.log("Warning, getPoint() not implemented!"),null},n.Curve.prototype.getPointAt=function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)},n.Curve.prototype.getPoints=function(e){e||(e=5);var t,r=[];for(t=0;t<=e;t++)r.push(this.getPoint(t/e));return r},n.Curve.prototype.getSpacedPoints=function(e){e||(e=5);var t,r=[];for(t=0;t<=e;t++)r.push(this.getPointAt(t/e));return r},n.Curve.prototype.getLength=function(){var e=this.getLengths();return e[e.length-1]},n.Curve.prototype.getLengths=function(e){if(e||(e=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length==e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,r,i=[],n=this.getPoint(0),o=0;for(i.push(0),r=1;r<=e;r++)t=this.getPoint(r/e),o+=t.distanceTo(n),i.push(o),n=t;return this.cacheArcLengths=i,i},n.Curve.prototype.updateArcLengths=function(){this.needsUpdate=!0,this.getLengths()},n.Curve.prototype.getUtoTmapping=function(e,t){var r,i=this.getLengths(),n=0,o=i.length;r=t||e*i[o-1];for(var a,s=0,c=o-1;s<=c;)if(n=Math.floor(s+(c-s)/2),(a=i[n]-r)<0)s=n+1;else{if(!(a>0)){c=n;break}c=n-1}if(n=c,i[n]==r){var l=n/(o-1);return l}var u=i[n],h=i[n+1],f=h-u,p=(r-u)/f,l=(n+p)/(o-1);return l},n.Curve.prototype.getTangent=function(e){var t=e-1e-4,r=e+1e-4;t<0&&(t=0),r>1&&(r=1);var i=this.getPoint(t);return this.getPoint(r).clone().sub(i).normalize()},n.Curve.prototype.getTangentAt=function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},n.Curve.Utils={tangentQuadraticBezier:function(e,t,r,i){return 2*(1-e)*(r-t)+2*e*(i-r)},tangentCubicBezier:function(e,t,r,i,n){return-3*t*(1-e)*(1-e)+3*r*(1-e)*(1-e)-6*e*r*(1-e)+6*e*i*(1-e)-3*e*e*i+3*e*e*n},tangentSpline:function(e,t,r,i,n){return 6*e*e-6*e+(3*e*e-4*e+1)+(-6*e*e+6*e)+(3*e*e-2*e)},interpolate:function(e,t,r,i,n){var o=.5*(r-e),a=.5*(i-t),s=n*n;return(2*t-2*r+o+a)*(n*s)+(-3*t+3*r-2*o-a)*s+o*n+t}},n.Curve.create=function(e,t){return e.prototype=Object.create(n.Curve.prototype),e.prototype.getPoint=t,e},n.CurvePath=function(){this.curves=[],this.bends=[],this.autoClose=!1},n.CurvePath.prototype=Object.create(n.Curve.prototype),n.CurvePath.prototype.add=function(e){this.curves.push(e)},n.CurvePath.prototype.checkConnection=function(){},n.CurvePath.prototype.closePath=function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new n.LineCurve(t,e))},n.CurvePath.prototype.getPoint=function(e){for(var t,r,i=e*this.getLength(),n=this.getCurveLengths(),o=0;o<n.length;){if(n[o]>=i){t=n[o]-i,r=this.curves[o];var a=1-t/r.getLength();return r.getPointAt(a)}o++}return null},n.CurvePath.prototype.getLength=function(){var e=this.getCurveLengths();return e[e.length-1]},n.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var e,t=[],r=0,i=this.curves.length;for(e=0;e<i;e++)r+=this.curves[e].getLength(),t.push(r);return this.cacheLengths=t,t},n.CurvePath.prototype.getBoundingBox=function(){var e,t,r,i,o,a,s=this.getPoints();e=t=Number.NEGATIVE_INFINITY,i=o=Number.POSITIVE_INFINITY;var c,l,u,h,f=s[0]instanceof n.Vector3;for(h=f?new n.Vector3:new n.Vector2,l=0,u=s.length;l<u;l++)c=s[l],c.x>e?e=c.x:c.x<i&&(i=c.x),c.y>t?t=c.y:c.y<o&&(o=c.y),f&&(c.z>r?r=c.z:c.z<a&&(a=c.z)),h.add(c);var p={minX:i,minY:o,maxX:e,maxY:t};return f&&(p.maxZ=r,p.minZ=a),p},n.CurvePath.prototype.createPointsGeometry=function(e){var t=this.getPoints(e,!0);return this.createGeometry(t)},n.CurvePath.prototype.createSpacedPointsGeometry=function(e){var t=this.getSpacedPoints(e,!0);return this.createGeometry(t)},n.CurvePath.prototype.createGeometry=function(e){for(var t=new n.Geometry,r=0;r<e.length;r++)t.vertices.push(new n.Vector3(e[r].x,e[r].y,e[r].z||0));return t},n.CurvePath.prototype.addWrapPath=function(e){this.bends.push(e)},n.CurvePath.prototype.getTransformedPoints=function(e,t){var r,i,n=this.getPoints(e);for(t||(t=this.bends),r=0,i=t.length;r<i;r++)n=this.getWrapPoints(n,t[r]);return n},n.CurvePath.prototype.getTransformedSpacedPoints=function(e,t){var r,i,n=this.getSpacedPoints(e);for(t||(t=this.bends),r=0,i=t.length;r<i;r++)n=this.getWrapPoints(n,t[r]);return n},n.CurvePath.prototype.getWrapPoints=function(e,t){var r,i,n,o,a,s,c=this.getBoundingBox();for(r=0,i=e.length;r<i;r++){n=e[r],o=n.x,a=n.y,s=o/c.maxX,s=t.getUtoTmapping(s,o);var l=t.getPoint(s),u=t.getTangent(s);u.set(-u.y,u.x).multiplyScalar(a),n.x=l.x+u.x,n.y=l.y+u.y}return e},n.Gyroscope=function(){n.Object3D.call(this)},n.Gyroscope.prototype=Object.create(n.Object3D.prototype),n.Gyroscope.prototype.updateMatrixWorld=function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent?(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorld.decompose(this.translationWorld,this.quaternionWorld,this.scaleWorld),this.matrix.decompose(this.translationObject,this.quaternionObject,this.scaleObject),this.matrixWorld.compose(this.translationWorld,this.quaternionObject,this.scaleWorld)):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=0,r=this.children.length;t<r;t++)this.children[t].updateMatrixWorld(e)},n.Gyroscope.prototype.translationWorld=new n.Vector3,n.Gyroscope.prototype.translationObject=new n.Vector3,n.Gyroscope.prototype.quaternionWorld=new n.Quaternion,n.Gyroscope.prototype.quaternionObject=new n.Quaternion,n.Gyroscope.prototype.scaleWorld=new n.Vector3,n.Gyroscope.prototype.scaleObject=new n.Vector3,n.Path=function(e){n.CurvePath.call(this),this.actions=[],e&&this.fromPoints(e)},n.Path.prototype=Object.create(n.CurvePath.prototype),n.PathActions={MOVE_TO:"moveTo",LINE_TO:"lineTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEZIER_CURVE_TO:"bezierCurveTo",CSPLINE_THRU:"splineThru",ARC:"arc",ELLIPSE:"ellipse"},n.Path.prototype.fromPoints=function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y)},n.Path.prototype.moveTo=function(e,t){var r=Array.prototype.slice.call(arguments);this.actions.push({action:n.PathActions.MOVE_TO,args:r})},n.Path.prototype.lineTo=function(e,t){var r=Array.prototype.slice.call(arguments),i=this.actions[this.actions.length-1].args,o=i[i.length-2],a=i[i.length-1],s=new n.LineCurve(new n.Vector2(o,a),new n.Vector2(e,t));this.curves.push(s),this.actions.push({action:n.PathActions.LINE_TO,args:r})},n.Path.prototype.quadraticCurveTo=function(e,t,r,i){var o=Array.prototype.slice.call(arguments),a=this.actions[this.actions.length-1].args,s=a[a.length-2],c=a[a.length-1],l=new n.QuadraticBezierCurve(new n.Vector2(s,c),new n.Vector2(e,t),new n.Vector2(r,i));this.curves.push(l),this.actions.push({action:n.PathActions.QUADRATIC_CURVE_TO,args:o})},n.Path.prototype.bezierCurveTo=function(e,t,r,i,o,a){var s=Array.prototype.slice.call(arguments),c=this.actions[this.actions.length-1].args,l=c[c.length-2],u=c[c.length-1],h=new n.CubicBezierCurve(new n.Vector2(l,u),new n.Vector2(e,t),new n.Vector2(r,i),new n.Vector2(o,a));this.curves.push(h),this.actions.push({action:n.PathActions.BEZIER_CURVE_TO,args:s})};n.Path.prototype.splineThru=function(e){var t=Array.prototype.slice.call(arguments),r=this.actions[this.actions.length-1].args,i=r[r.length-2],o=r[r.length-1],a=[new n.Vector2(i,o)];Array.prototype.push.apply(a,e);var s=new n.SplineCurve(a);this.curves.push(s),this.actions.push({action:n.PathActions.CSPLINE_THRU,args:t})},n.Path.prototype.arc=function(e,t,r,i,n,o){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],c=a[a.length-1];this.absarc(e+s,t+c,r,i,n,o)},n.Path.prototype.absarc=function(e,t,r,i,n,o){this.absellipse(e,t,r,r,i,n,o)},n.Path.prototype.ellipse=function(e,t,r,i,n,o,a){var s=this.actions[this.actions.length-1].args,c=s[s.length-2],l=s[s.length-1];this.absellipse(e+c,t+l,r,i,n,o,a)},n.Path.prototype.absellipse=function(e,t,r,i,o,a,s){var c=Array.prototype.slice.call(arguments),l=new n.EllipseCurve(e,t,r,i,o,a,s);this.curves.push(l);var u=l.getPoint(1);c.push(u.x),c.push(u.y),this.actions.push({action:n.PathActions.ELLIPSE,args:c})},n.Path.prototype.getSpacedPoints=function(e,t){e||(e=40);for(var r=[],i=0;i<e;i++)r.push(this.getPoint(i/e));return r},n.Path.prototype.getPoints=function(e,t){if(this.useSpacedPoints)return console.log("tata"),this.getSpacedPoints(e,t);e=e||12;var r,i,o,a,s,c,l,u,h,f,p,d,m,v,g,y,x,b,w=[];for(r=0,i=this.actions.length;r<i;r++)switch(o=this.actions[r],a=o.action,s=o.args,a){case n.PathActions.MOVE_TO:case n.PathActions.LINE_TO:w.push(new n.Vector2(s[0],s[1]));break;case n.PathActions.QUADRATIC_CURVE_TO:for(c=s[2],l=s[3],f=s[0],p=s[1],w.length>0?(v=w[w.length-1],d=v.x,m=v.y):(v=this.actions[r-1].args,d=v[v.length-2],m=v[v.length-1]),g=1;g<=e;g++)y=g/e,x=n.Shape.Utils.b2(y,d,f,c),b=n.Shape.Utils.b2(y,m,p,l),w.push(new n.Vector2(x,b));break;case n.PathActions.BEZIER_CURVE_TO:for(c=s[4],l=s[5],f=s[0],p=s[1],u=s[2],h=s[3],w.length>0?(v=w[w.length-1],d=v.x,m=v.y):(v=this.actions[r-1].args,d=v[v.length-2],m=v[v.length-1]),g=1;g<=e;g++)y=g/e,x=n.Shape.Utils.b3(y,d,f,u,c),b=n.Shape.Utils.b3(y,m,p,h,l),w.push(new n.Vector2(x,b));break;case n.PathActions.CSPLINE_THRU:v=this.actions[r-1].args;var _=new n.Vector2(v[v.length-2],v[v.length-1]),M=[_],S=e*s[0].length;M=M.concat(s[0]);var C=new n.SplineCurve(M);for(g=1;g<=S;g++)w.push(C.getPointAt(g/S));break;case n.PathActions.ARC:var T,A=s[0],E=s[1],L=s[2],P=s[3],D=s[4],R=!!s[5],F=D-P,k=2*e;for(g=1;g<=k;g++)y=g/k,R||(y=1-y),T=P+y*F,x=A+L*Math.cos(T),b=E+L*Math.sin(T),w.push(new n.Vector2(x,b));break;case n.PathActions.ELLIPSE:var T,A=s[0],E=s[1],O=s[2],U=s[3],P=s[4],D=s[5],R=!!s[6],F=D-P,k=2*e;for(g=1;g<=k;g++)y=g/k,R||(y=1-y),T=P+y*F,x=A+O*Math.cos(T),b=E+U*Math.sin(T),w.push(new n.Vector2(x,b))}var N=w[w.length-1];return Math.abs(N.x-w[0].x)<1e-10&&Math.abs(N.y-w[0].y)<1e-10&&w.splice(w.length-1,1),t&&w.push(w[0]),w},n.Path.prototype.toShapes=function(e,t){function r(e){for(var t=[],r=0,i=e.length;r<i;r++){var o=e[r],a=new n.Shape;a.actions=o.actions,a.curves=o.curves,t.push(a)}return t}var i=function(e){var t,r,i,o,a,s=[],c=new n.Path;for(t=0,r=e.length;t<r;t++)i=e[t],a=i.args,o=i.action,o==n.PathActions.MOVE_TO&&0!=c.actions.length&&(s.push(c),c=new n.Path),c[o].apply(c,a);return 0!=c.actions.length&&s.push(c),s}(this.actions);if(0==i.length)return[];if(!0===t)return r(i);var o,a,s,c=[];if(1==i.length)return a=i[0],s=new n.Shape,s.actions=a.actions,s.curves=a.curves,c.push(s),c;var l=!n.Shape.Utils.isClockWise(i[0].getPoints());l=e?!l:l;var u,h=[],f=[],p=[],d=0;f[d]=void 0,p[d]=[];var m,v;for(m=0,v=i.length;m<v;m++)a=i[m],u=a.getPoints(),o=n.Shape.Utils.isClockWise(u),o=e?!o:o,o?(!l&&f[d]&&d++,f[d]={s:new n.Shape,p:u},f[d].s.actions=a.actions,f[d].s.curves=a.curves,l&&d++,p[d]=[]):p[d].push({h:a,p:u[0]});if(!f[0])return r(i);if(f.length>1){for(var g=!1,y=[],x=0,b=f.length;x<b;x++)h[x]=[];for(var x=0,b=f.length;x<b;x++)for(var w=(f[x],p[x]),_=0;_<w.length;_++){for(var M=w[_],S=!0,C=0;C<f.length;C++)(function(e,t){for(var r=t.length,i=!1,n=r-1,o=0;o<r;n=o++){var a=t[n],s=t[o],c=s.x-a.x,l=s.y-a.y;if(Math.abs(l)>1e-10){if(l<0&&(a=t[o],c=-c,s=t[n],l=-l),e.y<a.y||e.y>s.y)continue;if(e.y==a.y){if(e.x==a.x)return!0}else{var u=l*(e.x-a.x)-c*(e.y-a.y);if(0==u)return!0;if(u<0)continue;i=!i}}else{if(e.y!=a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return i})(M.p,f[C].p)&&(x!=C&&y.push({froms:x,tos:C,hole:_}),S?(S=!1,h[C].push(M)):g=!0);S&&h[x].push(M)}y.length>0&&(g||(p=h))}var T,A,E;for(m=0,v=f.length;m<v;m++)for(s=f[m].s,c.push(s),T=p[m],A=0,E=T.length;A<E;A++)s.holes.push(T[A].h);return c},n.Shape=function(){n.Path.apply(this,arguments),this.holes=[]},n.Shape.prototype=Object.create(n.Path.prototype),n.Shape.prototype.extrude=function(e){return new n.ExtrudeGeometry(this,e)},n.Shape.prototype.makeGeometry=function(e){return new n.ShapeGeometry(this,e)},n.Shape.prototype.getPointsHoles=function(e){var t,r=this.holes.length,i=[];for(t=0;t<r;t++)i[t]=this.holes[t].getTransformedPoints(e,this.bends);return i},n.Shape.prototype.getSpacedPointsHoles=function(e){var t,r=this.holes.length,i=[];for(t=0;t<r;t++)i[t]=this.holes[t].getTransformedSpacedPoints(e,this.bends);return i},n.Shape.prototype.extractAllPoints=function(e){return{shape:this.getTransformedPoints(e),holes:this.getPointsHoles(e)}},n.Shape.prototype.extractPoints=function(e){return this.useSpacedPoints?this.extractAllSpacedPoints(e):this.extractAllPoints(e)},n.Shape.prototype.extractAllSpacedPoints=function(e){return{shape:this.getTransformedSpacedPoints(e),holes:this.getSpacedPointsHoles(e)}},n.Shape.Utils={triangulateShape:function(e,t){function r(e,t,r){return e.x!=t.x?e.x<t.x?e.x<=r.x&&r.x<=t.x:t.x<=r.x&&r.x<=e.x:e.y<t.y?e.y<=r.y&&r.y<=t.y:t.y<=r.y&&r.y<=e.y}function i(e,t,i,n,o){var a=t.x-e.x,s=t.y-e.y,c=n.x-i.x,l=n.y-i.y,u=e.x-i.x,h=e.y-i.y,f=s*c-a*l,p=s*u-a*h;if(Math.abs(f)>1e-10){var d;if(f>0){if(p<0||p>f)return[];if((d=l*u-c*h)<0||d>f)return[]}else{if(p>0||p<f)return[];if((d=l*u-c*h)>0||d<f)return[]}if(0==d)return!o||0!=p&&p!=f?[e]:[];if(d==f)return!o||0!=p&&p!=f?[t]:[];if(0==p)return[i];if(p==f)return[n];var m=d/f;return[{x:e.x+m*a,y:e.y+m*s}]}if(0!=p||l*u!=c*h)return[];var v=0==a&&0==s,g=0==c&&0==l;if(v&&g)return e.x!=i.x||e.y!=i.y?[]:[e];if(v)return r(i,n,e)?[e]:[];if(g)return r(e,t,i)?[i]:[];var y,x,b,w,_,M,S,C;return 0!=a?(e.x<t.x?(y=e,b=e.x,x=t,w=t.x):(y=t,b=t.x,x=e,w=e.x),i.x<n.x?(_=i,S=i.x,M=n,C=n.x):(_=n,S=n.x,M=i,C=i.x)):(e.y<t.y?(y=e,b=e.y,x=t,w=t.y):(y=t,b=t.y,x=e,w=e.y),i.y<n.y?(_=i,S=i.y,M=n,C=n.y):(_=n,S=n.y,M=i,C=i.y)),b<=S?w<S?[]:w==S?o?[]:[_]:w<=C?[_,x]:[_,M]:b>C?[]:b==C?o?[]:[y]:w<=C?[y,x]:[y,M]}function o(e,t,r,i){var n=t.x-e.x,o=t.y-e.y,a=r.x-e.x,s=r.y-e.y,c=i.x-e.x,l=i.y-e.y,u=n*s-o*a,h=n*l-o*c;if(Math.abs(u)>1e-10){var f=c*s-l*a;return u>0?h>=0&&f>=0:h>=0||f>=0}return h>0}for(var a,s,c,l,u,h,f={},p=e.concat(),d=0,m=t.length;d<m;d++)Array.prototype.push.apply(p,t[d]);for(a=0,s=p.length;a<s;a++)u=p[a].x+":"+p[a].y,void 0!==f[u]&&console.log("Duplicate point",u),f[u]=a;var v=function(e,t){for(var r,n,a,s,c,l,u,h,f,p,d,m=e.concat(),v=[],g=[],y=0,x=t.length;y<x;y++)v.push(y);for(var b=0,w=2*v.length;v.length>0;){if(--w<0){console.log("Infinite Loop! Holes left:"+v.length+", Probably Hole outside Shape!");break}for(a=b;a<m.length;a++){s=m[a],n=-1;for(var y=0;y<v.length;y++)if(l=v[y],u=s.x+":"+s.y+":"+l,void 0===g[u]){r=t[l];for(var _=0;_<r.length;_++)if(c=r[_],function(e,t){var i=m.length-1,n=e-1;n<0&&(n=i);var a=e+1;a>i&&(a=0);var s=o(m[e],m[n],m[a],r[t]);if(!s)return!1;var c=r.length-1,l=t-1;l<0&&(l=c);var u=t+1;return u>c&&(u=0),!!(s=o(r[t],r[l],r[u],m[e]))}(a,_)&&!function(e,t){var r,n,o;for(r=0;r<m.length;r++)if(n=r+1,n%=m.length,o=i(e,t,m[r],m[n],!0),o.length>0)return!0;return!1}(s,c)&&!function(e,r){var n,o,a,s,c;for(n=0;n<v.length;n++)for(o=t[v[n]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,c=i(e,r,o[a],o[s],!0),c.length>0)return!0;return!1}(s,c)){n=_,v.splice(y,1),h=m.slice(0,a+1),f=m.slice(a),p=r.slice(n),d=r.slice(0,n+1),m=h.concat(p).concat(d).concat(f),b=a;break}if(n>=0)break;g[u]=!0}if(n>=0)break}}return m}(e,t),g=n.FontUtils.Triangulate(v,!1);for(a=0,s=g.length;a<s;a++)for(l=g[a],c=0;c<3;c++)u=l[c].x+":"+l[c].y,void 0!==(h=f[u])&&(l[c]=h);return g.concat()},isClockWise:function(e){return n.FontUtils.Triangulate.area(e)<0},b2p0:function(e,t){var r=1-e;return r*r*t},b2p1:function(e,t){return 2*(1-e)*e*t},b2p2:function(e,t){return e*e*t},b2:function(e,t,r,i){return this.b2p0(e,t)+this.b2p1(e,r)+this.b2p2(e,i)},b3p0:function(e,t){var r=1-e;return r*r*r*t},b3p1:function(e,t){var r=1-e;return 3*r*r*e*t},b3p2:function(e,t){return 3*(1-e)*e*e*t},b3p3:function(e,t){return e*e*e*t},b3:function(e,t,r,i,n){return this.b3p0(e,t)+this.b3p1(e,r)+this.b3p2(e,i)+this.b3p3(e,n)}},n.LineCurve=function(e,t){this.v1=e,this.v2=t},n.LineCurve.prototype=Object.create(n.Curve.prototype),n.LineCurve.prototype.getPoint=function(e){var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},n.LineCurve.prototype.getPointAt=function(e){return this.getPoint(e)},n.LineCurve.prototype.getTangent=function(e){return this.v2.clone().sub(this.v1).normalize()},n.QuadraticBezierCurve=function(e,t,r){this.v0=e,this.v1=t,this.v2=r},n.QuadraticBezierCurve.prototype=Object.create(n.Curve.prototype),n.QuadraticBezierCurve.prototype.getPoint=function(e){var t,r;return t=n.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x),r=n.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y),new n.Vector2(t,r)},n.QuadraticBezierCurve.prototype.getTangent=function(e){var t,r;t=n.Curve.Utils.tangentQuadraticBezier(e,this.v0.x,this.v1.x,this.v2.x),r=n.Curve.Utils.tangentQuadraticBezier(e,this.v0.y,this.v1.y,this.v2.y);var i=new n.Vector2(t,r);return i.normalize(),i},n.CubicBezierCurve=function(e,t,r,i){this.v0=e,this.v1=t,this.v2=r,this.v3=i},n.CubicBezierCurve.prototype=Object.create(n.Curve.prototype),n.CubicBezierCurve.prototype.getPoint=function(e){var t,r;return t=n.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),r=n.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),new n.Vector2(t,r)},n.CubicBezierCurve.prototype.getTangent=function(e){var t,r;t=n.Curve.Utils.tangentCubicBezier(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),r=n.Curve.Utils.tangentCubicBezier(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y);var i=new n.Vector2(t,r);return i.normalize(),i},n.SplineCurve=function(e){this.points=void 0==e?[]:e},n.SplineCurve.prototype=Object.create(n.Curve.prototype),n.SplineCurve.prototype.getPoint=function(e){var t,r,i,o=new n.Vector2,a=[],s=this.points;return t=(s.length-1)*e,r=Math.floor(t),i=t-r,a[0]=0==r?r:r-1,a[1]=r,a[2]=r>s.length-2?s.length-1:r+1,a[3]=r>s.length-3?s.length-1:r+2,o.x=n.Curve.Utils.interpolate(s[a[0]].x,s[a[1]].x,s[a[2]].x,s[a[3]].x,i),o.y=n.Curve.Utils.interpolate(s[a[0]].y,s[a[1]].y,s[a[2]].y,s[a[3]].y,i),o},n.EllipseCurve=function(e,t,r,i,n,o,a){this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=n,this.aEndAngle=o,this.aClockwise=a},n.EllipseCurve.prototype=Object.create(n.Curve.prototype),n.EllipseCurve.prototype.getPoint=function(e){var t,r=this.aEndAngle-this.aStartAngle;r<0&&(r+=2*Math.PI),r>2*Math.PI&&(r-=2*Math.PI),t=!0===this.aClockwise?this.aEndAngle+(1-e)*(2*Math.PI-r):this.aStartAngle+e*r;var i=this.aX+this.xRadius*Math.cos(t),o=this.aY+this.yRadius*Math.sin(t);return new n.Vector2(i,o)},n.ArcCurve=function(e,t,r,i,o,a){n.EllipseCurve.call(this,e,t,r,r,i,o,a)},n.ArcCurve.prototype=Object.create(n.EllipseCurve.prototype),n.LineCurve3=n.Curve.create(function(e,t){this.v1=e,this.v2=t},function(e){var t=new n.Vector3;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t}),n.QuadraticBezierCurve3=n.Curve.create(function(e,t,r){this.v0=e,this.v1=t,this.v2=r},function(e){var t,r,i;return t=n.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x),r=n.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y),i=n.Shape.Utils.b2(e,this.v0.z,this.v1.z,this.v2.z),new n.Vector3(t,r,i)}),n.CubicBezierCurve3=n.Curve.create(function(e,t,r,i){this.v0=e,this.v1=t,this.v2=r,this.v3=i},function(e){var t,r,i;return t=n.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),r=n.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),i=n.Shape.Utils.b3(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z),new n.Vector3(t,r,i)}),n.SplineCurve3=n.Curve.create(function(e){this.points=void 0==e?[]:e},function(e){var t,r,i,o=new n.Vector3,a=[],s=this.points;t=(s.length-1)*e,r=Math.floor(t),i=t-r,a[0]=0==r?r:r-1,a[1]=r,a[2]=r>s.length-2?s.length-1:r+1,a[3]=r>s.length-3?s.length-1:r+2;var c=s[a[0]],l=s[a[1]],u=s[a[2]],h=s[a[3]];return o.x=n.Curve.Utils.interpolate(c.x,l.x,u.x,h.x,i),o.y=n.Curve.Utils.interpolate(c.y,l.y,u.y,h.y,i),o.z=n.Curve.Utils.interpolate(c.z,l.z,u.z,h.z,i),o}),n.ClosedSplineCurve3=n.Curve.create(function(e){this.points=void 0==e?[]:e},function(e){var t,r,i,o=new n.Vector3,a=[],s=this.points;return t=(s.length-0)*e,r=Math.floor(t),i=t-r,r+=r>0?0:(Math.floor(Math.abs(r)/s.length)+1)*s.length,a[0]=(r-1)%s.length,a[1]=r%s.length,a[2]=(r+1)%s.length,a[3]=(r+2)%s.length,o.x=n.Curve.Utils.interpolate(s[a[0]].x,s[a[1]].x,s[a[2]].x,s[a[3]].x,i),o.y=n.Curve.Utils.interpolate(s[a[0]].y,s[a[1]].y,s[a[2]].y,s[a[3]].y,i),o.z=n.Curve.Utils.interpolate(s[a[0]].z,s[a[1]].z,s[a[2]].z,s[a[3]].z,i),o}),n.AnimationHandler=function(){var e=[],t={},r={};r.update=function(t){for(var r=0;r<e.length;r++)e[r].update(t)},r.addToUpdate=function(t){-1===e.indexOf(t)&&e.push(t)},r.removeFromUpdate=function(t){var r=e.indexOf(t);-1!==r&&e.splice(r,1)},r.add=function(e){void 0!==t[e.name]&&console.log("THREE.AnimationHandler.add: Warning! "+e.name+" already exists in library. Overwriting."),t[e.name]=e,o(e)},r.remove=function(e){void 0===t[e]&&console.log("THREE.AnimationHandler.add: Warning! "+e+" doesn't exists in library. Doing nothing."),t[e]=void 0},r.get=function(e){if("string"==typeof e)return t[e]?t[e]:null},r.parse=function(e){var t=[];if(e instanceof n.SkinnedMesh)for(var r=0;r<e.skeleton.bones.length;r++)t.push(e.skeleton.bones[r]);else i(e,t);return t};var i=function(e,t){t.push(e);for(var r=0;r<e.children.length;r++)i(e.children[r],t)},o=function(e){if(!0!==e.initialized){for(var t=0;t<e.hierarchy.length;t++){for(var r=0;r<e.hierarchy[t].keys.length;r++)if(e.hierarchy[t].keys[r].time<0&&(e.hierarchy[t].keys[r].time=0),void 0!==e.hierarchy[t].keys[r].rot&&!(e.hierarchy[t].keys[r].rot instanceof n.Quaternion)){var i=e.hierarchy[t].keys[r].rot;e.hierarchy[t].keys[r].rot=(new n.Quaternion).fromArray(i)}if(e.hierarchy[t].keys.length&&void 0!==e.hierarchy[t].keys[0].morphTargets){for(var o={},r=0;r<e.hierarchy[t].keys.length;r++)for(var a=0;a<e.hierarchy[t].keys[r].morphTargets.length;a++){var s=e.hierarchy[t].keys[r].morphTargets[a];o[s]=-1}e.hierarchy[t].usedMorphTargets=o;for(var r=0;r<e.hierarchy[t].keys.length;r++){var c={};for(var s in o){for(var a=0;a<e.hierarchy[t].keys[r].morphTargets.length;a++)if(e.hierarchy[t].keys[r].morphTargets[a]===s){c[s]=e.hierarchy[t].keys[r].morphTargetsInfluences[a];break}a===e.hierarchy[t].keys[r].morphTargets.length&&(c[s]=0)}e.hierarchy[t].keys[r].morphTargetsInfluences=c}}for(var r=1;r<e.hierarchy[t].keys.length;r++)e.hierarchy[t].keys[r].time===e.hierarchy[t].keys[r-1].time&&(e.hierarchy[t].keys.splice(r,1),r--);for(var r=0;r<e.hierarchy[t].keys.length;r++)e.hierarchy[t].keys[r].index=r}e.initialized=!0}};return r.LINEAR=0,r.CATMULLROM=1,r.CATMULLROM_FORWARD=2,r}(),n.Animation=function(e,t){this.root=e,this.data=n.AnimationHandler.get(t),this.hierarchy=n.AnimationHandler.parse(e),this.currentTime=0,this.timeScale=1,this.isPlaying=!1,this.isPaused=!0,this.loop=!0,this.weight=0,this.interpolationType=n.AnimationHandler.LINEAR},n.Animation.prototype.keyTypes=["pos","rot","scl"],n.Animation.prototype.play=function(e,t){this.currentTime=void 0!==e?e:0,this.weight=void 0!==t?t:1,this.isPlaying=!0,this.isPaused=!1,this.reset(),n.AnimationHandler.addToUpdate(this)},n.Animation.prototype.pause=function(){!0===this.isPaused?n.AnimationHandler.addToUpdate(this):n.AnimationHandler.removeFromUpdate(this),this.isPaused=!this.isPaused},n.Animation.prototype.stop=function(){this.isPlaying=!1,this.isPaused=!1,n.AnimationHandler.removeFromUpdate(this)},n.Animation.prototype.reset=function(){for(var e=0,t=this.hierarchy.length;e<t;e++){var r=this.hierarchy[e];r.matrixAutoUpdate=!0,void 0===r.animationCache&&(r.animationCache={}),void 0===r.animationCache[this.data.name]&&(r.animationCache[this.data.name]={},r.animationCache[this.data.name].prevKey={pos:0,rot:0,scl:0},r.animationCache[this.data.name].nextKey={pos:0,rot:0,scl:0},r.animationCache[this.data.name].originalMatrix=r instanceof n.Bone?r.skinMatrix:r.matrix);for(var i=r.animationCache[this.data.name],o=0;o<3;o++){for(var a=this.keyTypes[o],s=this.data.hierarchy[e].keys[0],c=this.getNextKeyWith(a,e,1);c.time<this.currentTime&&c.index>s.index;)s=c,c=this.getNextKeyWith(a,e,c.index+1);i.prevKey[a]=s,i.nextKey[a]=c}}},n.Animation.prototype.update=function(){var e=[],t=new n.Vector3,r=new n.Vector3,i=new n.Quaternion,o=function(e,t){var r,i,n,o,s,c,l,u,h,f=[],p=[];return r=(e.length-1)*t,i=Math.floor(r),n=r-i,f[0]=0===i?i:i-1,f[1]=i,f[2]=i>e.length-2?i:i+1,f[3]=i>e.length-3?i:i+2,c=e[f[0]],l=e[f[1]],u=e[f[2]],h=e[f[3]],o=n*n,s=n*o,p[0]=a(c[0],l[0],u[0],h[0],n,o,s),p[1]=a(c[1],l[1],u[1],h[1],n,o,s),p[2]=a(c[2],l[2],u[2],h[2],n,o,s),p},a=function(e,t,r,i,n,o,a){var s=.5*(r-e),c=.5*(i-t);return(2*(t-r)+s+c)*a+(-3*(t-r)-2*s-c)*o+s*n+t};return function(a){if(!1!==this.isPlaying&&(this.currentTime+=a*this.timeScale,0!==this.weight)){var s,c=this.data.length;if(!0===this.loop&&this.currentTime>c)this.currentTime%=c,this.reset();else if(!1===this.loop&&this.currentTime>c)return void this.stop();for(var l=0,u=this.hierarchy.length;l<u;l++)for(var h=this.hierarchy[l],f=h.animationCache[this.data.name],p=0;p<3;p++){var d=this.keyTypes[p],m=f.prevKey[d],v=f.nextKey[d];if(v.time<=this.currentTime){for(m=this.data.hierarchy[l].keys[0],v=this.getNextKeyWith(d,l,1);v.time<this.currentTime&&v.index>m.index;)m=v,v=this.getNextKeyWith(d,l,v.index+1);f.prevKey[d]=m,f.nextKey[d]=v}h.matrixAutoUpdate=!0,h.matrixWorldNeedsUpdate=!0;var g=(this.currentTime-m.time)/(v.time-m.time),y=m[d],x=v[d];if(g<0&&(g=0),g>1&&(g=1),"pos"===d){if(s=h.position,this.interpolationType===n.AnimationHandler.LINEAR)if(r.x=y[0]+(x[0]-y[0])*g,r.y=y[1]+(x[1]-y[1])*g,r.z=y[2]+(x[2]-y[2])*g,h instanceof n.Bone){var b=this.weight/(this.weight+h.accumulatedPosWeight);s.lerp(r,b),h.accumulatedPosWeight+=this.weight}else s=r;else if(this.interpolationType===n.AnimationHandler.CATMULLROM||this.interpolationType===n.AnimationHandler.CATMULLROM_FORWARD){e[0]=this.getPrevKeyWith("pos",l,m.index-1).pos,e[1]=y,e[2]=x,e[3]=this.getNextKeyWith("pos",l,v.index+1).pos,g=.33*g+.33;var w=o(e,g);if(h instanceof n.Bone){var b=this.weight/(this.weight+h.accumulatedPosWeight);h.accumulatedPosWeight+=this.weight}else var b=1;if(s.x=s.x+(w[0]-s.x)*b,s.y=s.y+(w[1]-s.y)*b,s.z=s.z+(w[2]-s.z)*b,this.interpolationType===n.AnimationHandler.CATMULLROM_FORWARD){var _=o(e,1.01*g);t.set(_[0],_[1],_[2]),t.sub(s),t.y=0,t.normalize();var M=Math.atan2(t.x,t.z);h.rotation.set(0,M,0)}}}else if("rot"===d)if(n.Quaternion.slerp(y,x,i,g),h instanceof n.Bone)if(0===h.accumulatedRotWeight)h.quaternion.copy(i),h.accumulatedRotWeight=this.weight;else{var b=this.weight/(this.weight+h.accumulatedRotWeight);n.Quaternion.slerp(h.quaternion,i,h.quaternion,b),h.accumulatedRotWeight+=this.weight}else h.quaternion.copy(i);else if("scl"===d)if(s=h.scale,r.x=y[0]+(x[0]-y[0])*g,r.y=y[1]+(x[1]-y[1])*g,r.z=y[2]+(x[2]-y[2])*g,h instanceof n.Bone){var b=this.weight/(this.weight+h.accumulatedSclWeight);s.lerp(r,b),h.accumulatedSclWeight+=this.weight}else s=r}return!0}}}(),n.Animation.prototype.getNextKeyWith=function(e,t,r){var i=this.data.hierarchy[t].keys;for(this.interpolationType===n.AnimationHandler.CATMULLROM||this.interpolationType===n.AnimationHandler.CATMULLROM_FORWARD?r=r<i.length-1?r:i.length-1:r%=i.length;r<i.length;r++)if(void 0!==i[r][e])return i[r];return this.data.hierarchy[t].keys[0]},n.Animation.prototype.getPrevKeyWith=function(e,t,r){var i=this.data.hierarchy[t].keys;for(r=this.interpolationType===n.AnimationHandler.CATMULLROM||this.interpolationType===n.AnimationHandler.CATMULLROM_FORWARD?r>0?r:0:r>=0?r:r+i.length;r>=0;r--)if(void 0!==i[r][e])return i[r];return this.data.hierarchy[t].keys[i.length-1]},n.KeyFrameAnimation=function(e,t){this.root=e,this.data=n.AnimationHandler.get(t),this.hierarchy=n.AnimationHandler.parse(e),this.currentTime=0,this.timeScale=.001,this.isPlaying=!1,this.isPaused=!0,this.loop=!0;for(var r=0,i=this.hierarchy.length;r<i;r++){var o=this.data.hierarchy[r].keys,a=this.data.hierarchy[r].sids,s=this.hierarchy[r];if(o.length&&a){for(var c=0;c<a.length;c++){var l=a[c],u=this.getNextKeyWith(l,r,0);u&&u.apply(l)}s.matrixAutoUpdate=!1,this.data.hierarchy[r].node.updateMatrix(),s.matrixWorldNeedsUpdate=!0}}},n.KeyFrameAnimation.prototype.play=function(e){if(this.currentTime=void 0!==e?e:0,!1===this.isPlaying){this.isPlaying=!0;var t,r,i,o=this.hierarchy.length;for(t=0;t<o;t++){r=this.hierarchy[t],i=this.data.hierarchy[t],void 0===i.animationCache&&(i.animationCache={},i.animationCache.prevKey=null,i.animationCache.nextKey=null,i.animationCache.originalMatrix=r instanceof n.Bone?r.skinMatrix:r.matrix);var a=this.data.hierarchy[t].keys;a.length&&(i.animationCache.prevKey=a[0],i.animationCache.nextKey=a[1],this.startTime=Math.min(a[0].time,this.startTime),this.endTime=Math.max(a[a.length-1].time,this.endTime))}this.update(0)}this.isPaused=!1,n.AnimationHandler.addToUpdate(this)},n.KeyFrameAnimation.prototype.pause=function(){this.isPaused?n.AnimationHandler.addToUpdate(this):n.AnimationHandler.removeFromUpdate(this),this.isPaused=!this.isPaused},n.KeyFrameAnimation.prototype.stop=function(){this.isPlaying=!1,this.isPaused=!1,n.AnimationHandler.removeFromUpdate(this);for(var e=0;e<this.data.hierarchy.length;e++){var t=this.hierarchy[e],r=this.data.hierarchy[e];if(void 0!==r.animationCache){var i=r.animationCache.originalMatrix;t instanceof n.Bone?(i.copy(t.skinMatrix),t.skinMatrix=i):(i.copy(t.matrix),t.matrix=i),delete r.animationCache}}},n.KeyFrameAnimation.prototype.update=function(e){if(!1!==this.isPlaying){this.currentTime+=e*this.timeScale;var t=this.data.length;!0===this.loop&&this.currentTime>t&&(this.currentTime%=t),this.currentTime=Math.min(this.currentTime,t);for(var r=0,i=this.hierarchy.length;r<i;r++){var n=this.hierarchy[r],o=this.data.hierarchy[r],a=o.keys,s=o.animationCache;if(a.length){var c=s.prevKey,l=s.nextKey;if(l.time<=this.currentTime){for(;l.time<this.currentTime&&l.index>c.index;)c=l,l=a[c.index+1];s.prevKey=c,s.nextKey=l}l.time>=this.currentTime?c.interpolate(l,this.currentTime):c.interpolate(l,l.time),this.data.hierarchy[r].node.updateMatrix(),n.matrixWorldNeedsUpdate=!0}}}},n.KeyFrameAnimation.prototype.getNextKeyWith=function(e,t,r){var i=this.data.hierarchy[t].keys;for(r%=i.length;r<i.length;r++)if(i[r].hasTarget(e))return i[r];return i[0]},n.KeyFrameAnimation.prototype.getPrevKeyWith=function(e,t,r){var i=this.data.hierarchy[t].keys;for(r=r>=0?r:r+i.length;r>=0;r--)if(i[r].hasTarget(e))return i[r];return i[i.length-1]},n.MorphAnimation=function(e){this.mesh=e,this.frames=e.morphTargetInfluences.length,this.currentTime=0,this.duration=1e3,this.loop=!0,this.isPlaying=!1},n.MorphAnimation.prototype={play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1},update:function(){var e=0,t=0;return function(r){if(!1!==this.isPlaying){this.currentTime+=r,!0===this.loop&&this.currentTime>this.duration&&(this.currentTime%=this.duration),this.currentTime=Math.min(this.currentTime,this.duration);var i=this.duration/this.frames,n=Math.floor(this.currentTime/i);n!=t&&(this.mesh.morphTargetInfluences[e]=0,this.mesh.morphTargetInfluences[t]=1,this.mesh.morphTargetInfluences[n]=0,e=t,t=n),this.mesh.morphTargetInfluences[n]=this.currentTime%i/i,this.mesh.morphTargetInfluences[e]=1-this.mesh.morphTargetInfluences[n]}}}()},n.CubeCamera=function(e,t,r){n.Object3D.call(this);var i=new n.PerspectiveCamera(90,1,e,t);i.up.set(0,-1,0),i.lookAt(new n.Vector3(1,0,0)),this.add(i);var o=new n.PerspectiveCamera(90,1,e,t);o.up.set(0,-1,0),o.lookAt(new n.Vector3(-1,0,0)),this.add(o);var a=new n.PerspectiveCamera(90,1,e,t);a.up.set(0,0,1),a.lookAt(new n.Vector3(0,1,0)),this.add(a);var s=new n.PerspectiveCamera(90,1,e,t);s.up.set(0,0,-1),s.lookAt(new n.Vector3(0,-1,0)),this.add(s);var c=new n.PerspectiveCamera(90,1,e,t);c.up.set(0,-1,0),c.lookAt(new n.Vector3(0,0,1)),this.add(c);var l=new n.PerspectiveCamera(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new n.Vector3(0,0,-1)),this.add(l),this.renderTarget=new n.WebGLRenderTargetCube(r,r,{format:n.RGBFormat,magFilter:n.LinearFilter,minFilter:n.LinearFilter}),this.updateCubeMap=function(e,t){var r=this.renderTarget,n=r.generateMipmaps;r.generateMipmaps=!1,r.activeCubeFace=0,e.render(t,i,r),r.activeCubeFace=1,e.render(t,o,r),r.activeCubeFace=2,e.render(t,a,r),r.activeCubeFace=3,e.render(t,s,r),r.activeCubeFace=4,e.render(t,c,r),r.generateMipmaps=n,r.activeCubeFace=5,e.render(t,l,r)}},n.CubeCamera.prototype=Object.create(n.Object3D.prototype),n.CombinedCamera=function(e,t,r,i,o,a,s){n.Camera.call(this),this.fov=r,this.left=-e/2,this.right=e/2,this.top=t/2,this.bottom=-t/2,this.cameraO=new n.OrthographicCamera(e/-2,e/2,t/2,t/-2,a,s),this.cameraP=new n.PerspectiveCamera(r,e/t,i,o),this.zoom=1,this.toPerspective()},n.CombinedCamera.prototype=Object.create(n.Camera.prototype),n.CombinedCamera.prototype.toPerspective=function(){this.near=this.cameraP.near,this.far=this.cameraP.far,this.cameraP.fov=this.fov/this.zoom,this.cameraP.updateProjectionMatrix(),this.projectionMatrix=this.cameraP.projectionMatrix,this.inPerspectiveMode=!0,this.inOrthographicMode=!1},n.CombinedCamera.prototype.toOrthographic=function(){var e=this.fov,t=this.cameraP.aspect,r=this.cameraP.near,i=this.cameraP.far,n=(r+i)/2,o=Math.tan(e/2)*n,a=2*o,s=a*t,c=s/2;o/=this.zoom,c/=this.zoom,this.cameraO.left=-c,this.cameraO.right=c,this.cameraO.top=o,this.cameraO.bottom=-o,this.cameraO.updateProjectionMatrix(),this.near=this.cameraO.near,this.far=this.cameraO.far,this.projectionMatrix=this.cameraO.projectionMatrix,this.inPerspectiveMode=!1,this.inOrthographicMode=!0},n.CombinedCamera.prototype.setSize=function(e,t){this.cameraP.aspect=e/t,this.left=-e/2,this.right=e/2,this.top=t/2,this.bottom=-t/2},n.CombinedCamera.prototype.setFov=function(e){this.fov=e,this.inPerspectiveMode?this.toPerspective():this.toOrthographic()},n.CombinedCamera.prototype.updateProjectionMatrix=function(){this.inPerspectiveMode?this.toPerspective():(this.toPerspective(),this.toOrthographic())},n.CombinedCamera.prototype.setLens=function(e,t){void 0===t&&(t=24);var r=2*n.Math.radToDeg(Math.atan(t/(2*e)));return this.setFov(r),r},n.CombinedCamera.prototype.setZoom=function(e){this.zoom=e,this.inPerspectiveMode?this.toPerspective():this.toOrthographic()},n.CombinedCamera.prototype.toFrontView=function(){this.rotation.x=0,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},n.CombinedCamera.prototype.toBackView=function(){this.rotation.x=0,this.rotation.y=Math.PI,this.rotation.z=0,this.rotationAutoUpdate=!1},n.CombinedCamera.prototype.toLeftView=function(){this.rotation.x=0,this.rotation.y=-Math.PI/2,this.rotation.z=0,this.rotationAutoUpdate=!1},n.CombinedCamera.prototype.toRightView=function(){this.rotation.x=0,this.rotation.y=Math.PI/2,this.rotation.z=0,this.rotationAutoUpdate=!1},n.CombinedCamera.prototype.toTopView=function(){this.rotation.x=-Math.PI/2,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},n.CombinedCamera.prototype.toBottomView=function(){this.rotation.x=Math.PI/2,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},n.BoxGeometry=function(e,t,r,i,o,a){function s(e,t,r,i,o,a,s,l){var u,h,f,p=c.widthSegments,d=c.heightSegments,m=o/2,v=a/2,g=c.vertices.length;"x"===e&&"y"===t||"y"===e&&"x"===t?u="z":"x"===e&&"z"===t||"z"===e&&"x"===t?(u="y",d=c.depthSegments):("z"===e&&"y"===t||"y"===e&&"z"===t)&&(u="x",p=c.depthSegments);var y=p+1,x=d+1,b=o/p,w=a/d,_=new n.Vector3;for(_[u]=s>0?1:-1,f=0;f<x;f++)for(h=0;h<y;h++){var M=new n.Vector3;M[e]=(h*b-m)*r,M[t]=(f*w-v)*i,M[u]=s,c.vertices.push(M)}for(f=0;f<d;f++)for(h=0;h<p;h++){var S=h+y*f,C=h+y*(f+1),T=h+1+y*(f+1),A=h+1+y*f,E=new n.Vector2(h/p,1-f/d),L=new n.Vector2(h/p,1-(f+1)/d),P=new n.Vector2((h+1)/p,1-(f+1)/d),D=new n.Vector2((h+1)/p,1-f/d),R=new n.Face3(S+g,C+g,A+g);R.normal.copy(_),R.vertexNormals.push(_.clone(),_.clone(),_.clone()),R.materialIndex=l,c.faces.push(R),c.faceVertexUvs[0].push([E,L,D]),R=new n.Face3(C+g,T+g,A+g),R.normal.copy(_),R.vertexNormals.push(_.clone(),_.clone(),_.clone()),R.materialIndex=l,c.faces.push(R),c.faceVertexUvs[0].push([L.clone(),P,D.clone()])}}n.Geometry.call(this),this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:o,depthSegments:a},this.widthSegments=i||1,this.heightSegments=o||1,this.depthSegments=a||1;var c=this,l=e/2,u=t/2,h=r/2;s("z","y",-1,-1,r,t,l,0),s("z","y",1,-1,r,t,-l,1),s("x","z",1,1,e,r,u,2),s("x","z",1,-1,e,r,-u,3),s("x","y",1,-1,e,t,h,4),s("x","y",-1,-1,e,t,-h,5),this.mergeVertices()},n.BoxGeometry.prototype=Object.create(n.Geometry.prototype),n.CircleGeometry=function(e,t,r,i){n.Geometry.call(this),this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},e=e||50,t=void 0!==t?Math.max(3,t):8,r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var o,a=[],s=new n.Vector3,c=new n.Vector2(.5,.5);for(this.vertices.push(s),a.push(c),o=0;o<=t;o++){var l=new n.Vector3,u=r+o/t*i;l.x=e*Math.cos(u),l.y=e*Math.sin(u),this.vertices.push(l),a.push(new n.Vector2((l.x/e+1)/2,(l.y/e+1)/2))}var h=new n.Vector3(0,0,1);for(o=1;o<=t;o++)this.faces.push(new n.Face3(o,o+1,0,[h.clone(),h.clone(),h.clone()])),this.faceVertexUvs[0].push([a[o].clone(),a[o+1].clone(),c.clone()]);this.computeFaceNormals(),this.boundingSphere=new n.Sphere(new n.Vector3,e)},n.CircleGeometry.prototype=Object.create(n.Geometry.prototype),n.CubeGeometry=function(e,t,r,i,o,a){return console.warn("DEPRECATED: THREE.CubeGeometry is deprecated. Use THREE.BoxGeometry instead."),new n.BoxGeometry(e,t,r,i,o,a)},n.CylinderGeometry=function(e,t,r,i,o,a){n.Geometry.call(this),this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:o,openEnded:a},e=void 0!==e?e:20,t=void 0!==t?t:20,r=void 0!==r?r:100,i=i||8,o=o||1,a=void 0!==a&&a;var s,c,l=r/2,u=[],h=[];for(c=0;c<=o;c++){var f=[],p=[],d=c/o,m=d*(t-e)+e;for(s=0;s<=i;s++){var v=s/i,g=new n.Vector3;g.x=m*Math.sin(v*Math.PI*2),g.y=-d*r+l,g.z=m*Math.cos(v*Math.PI*2),this.vertices.push(g),f.push(this.vertices.length-1),p.push(new n.Vector2(v,1-d))}u.push(f),h.push(p)}var y,x,b=(t-e)/r;for(s=0;s<i;s++)for(0!==e?(y=this.vertices[u[0][s]].clone(),x=this.vertices[u[0][s+1]].clone()):(y=this.vertices[u[1][s]].clone(),x=this.vertices[u[1][s+1]].clone()),y.setY(Math.sqrt(y.x*y.x+y.z*y.z)*b).normalize(),x.setY(Math.sqrt(x.x*x.x+x.z*x.z)*b).normalize(),c=0;c<o;c++){var w=u[c][s],_=u[c+1][s],M=u[c+1][s+1],S=u[c][s+1],C=y.clone(),T=y.clone(),A=x.clone(),E=x.clone(),L=h[c][s].clone(),P=h[c+1][s].clone(),D=h[c+1][s+1].clone(),R=h[c][s+1].clone();this.faces.push(new n.Face3(w,_,S,[C,T,E])),this.faceVertexUvs[0].push([L,P,R]),this.faces.push(new n.Face3(_,M,S,[T.clone(),A,E.clone()])),this.faceVertexUvs[0].push([P.clone(),D,R.clone()])}if(!1===a&&e>0)for(this.vertices.push(new n.Vector3(0,l,0)),s=0;s<i;s++){var w=u[0][s],_=u[0][s+1],M=this.vertices.length-1,C=new n.Vector3(0,1,0),T=new n.Vector3(0,1,0),A=new n.Vector3(0,1,0),L=h[0][s].clone(),P=h[0][s+1].clone(),D=new n.Vector2(P.x,0);this.faces.push(new n.Face3(w,_,M,[C,T,A])),this.faceVertexUvs[0].push([L,P,D])}if(!1===a&&t>0)for(this.vertices.push(new n.Vector3(0,-l,0)),s=0;s<i;s++){var w=u[c][s+1],_=u[c][s],M=this.vertices.length-1,C=new n.Vector3(0,-1,0),T=new n.Vector3(0,-1,0),A=new n.Vector3(0,-1,0),L=h[c][s+1].clone(),P=h[c][s].clone(),D=new n.Vector2(P.x,1);this.faces.push(new n.Face3(w,_,M,[C,T,A])),this.faceVertexUvs[0].push([L,P,D])}this.computeFaceNormals()},n.CylinderGeometry.prototype=Object.create(n.Geometry.prototype),n.ExtrudeGeometry=function(e,t){if(void 0===e)return void(e=[]);n.Geometry.call(this),e=e instanceof Array?e:[e],this.shapebb=e[e.length-1].getBoundingBox(),this.addShapeList(e,t),this.computeFaceNormals()},n.ExtrudeGeometry.prototype=Object.create(n.Geometry.prototype),n.ExtrudeGeometry.prototype.addShapeList=function(e,t){for(var r=e.length,i=0;i<r;i++){var n=e[i];this.addShape(n,t)}},n.ExtrudeGeometry.prototype.addShape=function(e,t){function r(e,t,r){return t||console.log("die"),t.clone().multiplyScalar(r).add(e)}function i(e,t,r){var i,o,a=n.Math.sign,s=1,c=e.x-t.x,l=e.y-t.y,u=r.x-e.x,h=r.y-e.y,f=c*c+l*l,p=c*h-l*u;if(Math.abs(p)>1e-10){var d=Math.sqrt(f),m=Math.sqrt(u*u+h*h),v=t.x-l/d,g=t.y+c/d,y=r.x-h/m,x=r.y+u/m,b=((y-v)*h-(x-g)*u)/(c*h-l*u);i=v+c*b-e.x,o=g+l*b-e.y;var w=i*i+o*o;if(w<=2)return new n.Vector2(i,o);s=Math.sqrt(w/2)}else{var _=!1;c>1e-10?u>1e-10&&(_=!0):c<-1e-10?u<-1e-10&&(_=!0):a(l)==a(h)&&(_=!0),_?(i=-l,o=c,s=Math.sqrt(f)):(i=c,o=l,s=Math.sqrt(f/2))}return new n.Vector2(i/s,o/s)}function o(e,t){var r,i;for(X=e.length;--X>=0;){r=X,i=X-1,i<0&&(i=e.length-1);var n=0,o=b+2*g;for(n=0;n<o;n++){var a=H*n,s=H*(n+1);c(t+r+a,t+i+a,t+i+s,t+r+s,e,n,o,r,i)}}}function a(e,t,r){L.vertices.push(new n.Vector3(e,t,r))}function s(r,i,o,a){r+=P,i+=P,o+=P,L.faces.push(new n.Face3(r,i,o,null,null,M));var s=a?C.generateBottomUV(L,e,t,r,i,o):C.generateTopUV(L,e,t,r,i,o);L.faceVertexUvs[0].push(s)}function c(r,i,o,a,s,c,l,u,h){r+=P,i+=P,o+=P,a+=P,L.faces.push(new n.Face3(r,i,a,null,null,S)),L.faces.push(new n.Face3(i,o,a,null,null,S));var f=C.generateSideWallUV(L,e,s,t,r,i,o,a,c,l,u,h);L.faceVertexUvs[0].push([f[0],f[1],f[3]]),L.faceVertexUvs[0].push([f[1],f[2],f[3]])}var l,u,h,f,p,d=void 0!==t.amount?t.amount:100,m=void 0!==t.bevelThickness?t.bevelThickness:6,v=void 0!==t.bevelSize?t.bevelSize:m-2,g=void 0!==t.bevelSegments?t.bevelSegments:3,y=void 0===t.bevelEnabled||t.bevelEnabled,x=void 0!==t.curveSegments?t.curveSegments:12,b=void 0!==t.steps?t.steps:1,w=t.extrudePath,_=!1,M=t.material,S=t.extrudeMaterial,C=void 0!==t.UVGenerator?t.UVGenerator:n.ExtrudeGeometry.WorldUVGenerator;this.shapebb;w&&(l=w.getSpacedPoints(b),_=!0,y=!1,u=void 0!==t.frames?t.frames:new n.TubeGeometry.FrenetFrames(w,b,!1),h=new n.Vector3,f=new n.Vector3,p=new n.Vector3),y||(g=0,m=0,v=0);var T,A,E,L=this,P=this.vertices.length,D=e.extractPoints(x),R=D.shape,F=D.holes,k=!n.Shape.Utils.isClockWise(R);if(k){for(R=R.reverse(),A=0,E=F.length;A<E;A++)T=F[A],n.Shape.Utils.isClockWise(T)&&(F[A]=T.reverse());k=!1}var O=n.Shape.Utils.triangulateShape(R,F),U=R;for(A=0,E=F.length;A<E;A++)T=F[A],R=R.concat(T);for(var N,V,B,z,I,j,H=R.length,G=O.length,W=(U.length,Math.PI,[]),X=0,q=U.length,$=q-1,Y=X+1;X<q;X++,$++,Y++){$===q&&($=0),Y===q&&(Y=0);U[X],U[$],U[Y];W[X]=i(U[X],U[$],U[Y])}var K,Z=[],Q=W.concat();for(A=0,E=F.length;A<E;A++){for(T=F[A],K=[],X=0,q=T.length,$=q-1,Y=X+1;X<q;X++,$++,Y++)$===q&&($=0),Y===q&&(Y=0),K[X]=i(T[X],T[$],T[Y]);Z.push(K),Q=Q.concat(K)}for(N=0;N<g;N++){for(B=N/g,z=m*(1-B),V=v*Math.sin(B*Math.PI/2),X=0,q=U.length;X<q;X++)I=r(U[X],W[X],V),a(I.x,I.y,-z);for(A=0,E=F.length;A<E;A++)for(T=F[A],K=Z[A],X=0,q=T.length;X<q;X++)I=r(T[X],K[X],V),a(I.x,I.y,-z)}for(V=v,X=0;X<H;X++)I=y?r(R[X],Q[X],V):R[X],_?(f.copy(u.normals[0]).multiplyScalar(I.x),h.copy(u.binormals[0]).multiplyScalar(I.y),p.copy(l[0]).add(f).add(h),a(p.x,p.y,p.z)):a(I.x,I.y,0);var J;for(J=1;J<=b;J++)for(X=0;X<H;X++)I=y?r(R[X],Q[X],V):R[X],_?(f.copy(u.normals[J]).multiplyScalar(I.x),h.copy(u.binormals[J]).multiplyScalar(I.y),p.copy(l[J]).add(f).add(h),a(p.x,p.y,p.z)):a(I.x,I.y,d/b*J);for(N=g-1;N>=0;N--){for(B=N/g,z=m*(1-B),V=v*Math.sin(B*Math.PI/2),X=0,q=U.length;X<q;X++)I=r(U[X],W[X],V),a(I.x,I.y,d+z);for(A=0,E=F.length;A<E;A++)for(T=F[A],K=Z[A],X=0,q=T.length;X<q;X++)I=r(T[X],K[X],V),_?a(I.x,I.y+l[b-1].y,l[b-1].x+z):a(I.x,I.y,d+z)}!function(){if(y){var e=0,t=H*e;for(X=0;X<G;X++)j=O[X],s(j[2]+t,j[1]+t,j[0]+t,!0);for(e=b+2*g,t=H*e,X=0;X<G;X++)j=O[X],s(j[0]+t,j[1]+t,j[2]+t,!1)}else{for(X=0;X<G;X++)j=O[X],s(j[2],j[1],j[0],!0);for(X=0;X<G;X++)j=O[X],s(j[0]+H*b,j[1]+H*b,j[2]+H*b,!1)}}(),function(){var e=0;for(o(U,e),e+=U.length,A=0,E=F.length;A<E;A++)T=F[A],o(T,e),e+=T.length}()},n.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(e,t,r,i,o,a){var s=e.vertices[i].x,c=e.vertices[i].y,l=e.vertices[o].x,u=e.vertices[o].y,h=e.vertices[a].x,f=e.vertices[a].y;return[new n.Vector2(s,c),new n.Vector2(l,u),new n.Vector2(h,f)]},generateBottomUV:function(e,t,r,i,n,o){return this.generateTopUV(e,t,r,i,n,o)},generateSideWallUV:function(e,t,r,i,o,a,s,c,l,u,h,f){var p=e.vertices[o].x,d=e.vertices[o].y,m=e.vertices[o].z,v=e.vertices[a].x,g=e.vertices[a].y,y=e.vertices[a].z,x=e.vertices[s].x,b=e.vertices[s].y,w=e.vertices[s].z,_=e.vertices[c].x,M=e.vertices[c].y,S=e.vertices[c].z;return Math.abs(d-g)<.01?[new n.Vector2(p,1-m),new n.Vector2(v,1-y),new n.Vector2(x,1-w),new n.Vector2(_,1-S)]:[new n.Vector2(d,1-m),new n.Vector2(g,1-y),new n.Vector2(b,1-w),new n.Vector2(M,1-S)]}},n.ExtrudeGeometry.__v1=new n.Vector2,n.ExtrudeGeometry.__v2=new n.Vector2,n.ExtrudeGeometry.__v3=new n.Vector2,n.ExtrudeGeometry.__v4=new n.Vector2,n.ExtrudeGeometry.__v5=new n.Vector2,n.ExtrudeGeometry.__v6=new n.Vector2,n.ShapeGeometry=function(e,t){n.Geometry.call(this),e instanceof Array==!1&&(e=[e]),this.shapebb=e[e.length-1].getBoundingBox(),this.addShapeList(e,t),this.computeFaceNormals()},n.ShapeGeometry.prototype=Object.create(n.Geometry.prototype),n.ShapeGeometry.prototype.addShapeList=function(e,t){for(var r=0,i=e.length;r<i;r++)this.addShape(e[r],t);return this},n.ShapeGeometry.prototype.addShape=function(e,t){void 0===t&&(t={});var r,i,o,a=void 0!==t.curveSegments?t.curveSegments:12,s=t.material,c=void 0===t.UVGenerator?n.ExtrudeGeometry.WorldUVGenerator:t.UVGenerator,l=(this.shapebb,this.vertices.length),u=e.extractPoints(a),h=u.shape,f=u.holes,p=!n.Shape.Utils.isClockWise(h);if(p){for(h=h.reverse(),r=0,i=f.length;r<i;r++)o=f[r],n.Shape.Utils.isClockWise(o)&&(f[r]=o.reverse());p=!1}var d=n.Shape.Utils.triangulateShape(h,f),m=h;for(r=0,i=f.length;r<i;r++)o=f[r],h=h.concat(o);var v,g,y=h.length,x=d.length;m.length;for(r=0;r<y;r++)v=h[r],this.vertices.push(new n.Vector3(v.x,v.y,0));for(r=0;r<x;r++){g=d[r];var b=g[0]+l,w=g[1]+l,_=g[2]+l;this.faces.push(new n.Face3(b,w,_,null,null,s)),this.faceVertexUvs[0].push(c.generateBottomUV(this,e,t,b,w,_))}},n.LatheGeometry=function(e,t,r,i){n.Geometry.call(this),t=t||12,r=r||0,i=i||2*Math.PI;for(var o=1/(e.length-1),a=1/t,s=0,c=t;s<=c;s++)for(var l=r+s*a*i,u=Math.cos(l),h=Math.sin(l),f=0,p=e.length;f<p;f++){var d=e[f],m=new n.Vector3;m.x=u*d.x-h*d.y,m.y=h*d.x+u*d.y,m.z=d.z,this.vertices.push(m)}for(var v=e.length,s=0,c=t;s<c;s++)for(var f=0,p=e.length-1;f<p;f++){var g=f+v*s,y=g,x=g+v,u=g+1+v,b=g+1,w=s*a,_=f*o,M=w+a,S=_+o;this.faces.push(new n.Face3(y,x,b)),this.faceVertexUvs[0].push([new n.Vector2(w,_),new n.Vector2(M,_),new n.Vector2(w,S)]),this.faces.push(new n.Face3(x,u,b)),this.faceVertexUvs[0].push([new n.Vector2(M,_),new n.Vector2(M,S),new n.Vector2(w,S)])}this.mergeVertices(),this.computeFaceNormals(),this.computeVertexNormals()},n.LatheGeometry.prototype=Object.create(n.Geometry.prototype),n.PlaneGeometry=function(e,t,r,i){n.Geometry.call(this),this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};var o,a,s=e/2,c=t/2,l=r||1,u=i||1,h=l+1,f=u+1,p=e/l,d=t/u,m=new n.Vector3(0,0,1);for(a=0;a<f;a++){var v=a*d-c;for(o=0;o<h;o++){var g=o*p-s;this.vertices.push(new n.Vector3(g,-v,0))}}for(a=0;a<u;a++)for(o=0;o<l;o++){var y=o+h*a,x=o+h*(a+1),b=o+1+h*(a+1),w=o+1+h*a,_=new n.Vector2(o/l,1-a/u),M=new n.Vector2(o/l,1-(a+1)/u),S=new n.Vector2((o+1)/l,1-(a+1)/u),C=new n.Vector2((o+1)/l,1-a/u),T=new n.Face3(y,x,w);T.normal.copy(m),T.vertexNormals.push(m.clone(),m.clone(),m.clone()),this.faces.push(T),this.faceVertexUvs[0].push([_,M,C]),T=new n.Face3(x,b,w),T.normal.copy(m),T.vertexNormals.push(m.clone(),m.clone(),m.clone()),this.faces.push(T),this.faceVertexUvs[0].push([M.clone(),S,C.clone()])}},n.PlaneGeometry.prototype=Object.create(n.Geometry.prototype),n.RingGeometry=function(e,t,r,i,o,a){n.Geometry.call(this),e=e||0,t=t||50,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,r=void 0!==r?Math.max(3,r):8,i=void 0!==i?Math.max(3,i):8;var s,c,l=[],u=e,h=(t-e)/i;for(s=0;s<=i;s++){for(c=0;c<=r;c++){var f=new n.Vector3,p=o+c/r*a;f.x=u*Math.cos(p),f.y=u*Math.sin(p),this.vertices.push(f),l.push(new n.Vector2((f.x/t+1)/2,(f.y/t+1)/2))}u+=h}var d=new n.Vector3(0,0,1);for(s=0;s<i;s++){var m=s*r;for(c=0;c<=r;c++){var p=c+m,v=p+s,g=p+r+s,y=p+r+1+s;this.faces.push(new n.Face3(v,g,y,[d.clone(),d.clone(),d.clone()])),this.faceVertexUvs[0].push([l[v].clone(),l[g].clone(),l[y].clone()]),v=p+s,g=p+r+1+s,y=p+1+s,this.faces.push(new n.Face3(v,g,y,[d.clone(),d.clone(),d.clone()])),this.faceVertexUvs[0].push([l[v].clone(),l[g].clone(),l[y].clone()])}}this.computeFaceNormals(),this.boundingSphere=new n.Sphere(new n.Vector3,u)},n.RingGeometry.prototype=Object.create(n.Geometry.prototype),n.SphereGeometry=function(e,t,r,i,o,a,s){n.Geometry.call(this),this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},e=e||50,t=Math.max(3,Math.floor(t)||8),r=Math.max(2,Math.floor(r)||6),i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,a=void 0!==a?a:0,s=void 0!==s?s:Math.PI;var c,l,u=[],h=[];for(l=0;l<=r;l++){var f=[],p=[];for(c=0;c<=t;c++){var d=c/t,m=l/r,v=new n.Vector3;v.x=-e*Math.cos(i+d*o)*Math.sin(a+m*s),v.y=e*Math.cos(a+m*s),v.z=e*Math.sin(i+d*o)*Math.sin(a+m*s),this.vertices.push(v),f.push(this.vertices.length-1),p.push(new n.Vector2(d,1-m))}u.push(f),h.push(p)}for(l=0;l<r;l++)for(c=0;c<t;c++){var g=u[l][c+1],y=u[l][c],x=u[l+1][c],b=u[l+1][c+1],w=this.vertices[g].clone().normalize(),_=this.vertices[y].clone().normalize(),M=this.vertices[x].clone().normalize(),S=this.vertices[b].clone().normalize(),C=h[l][c+1].clone(),T=h[l][c].clone(),A=h[l+1][c].clone(),E=h[l+1][c+1].clone();Math.abs(this.vertices[g].y)===e?(C.x=(C.x+T.x)/2,this.faces.push(new n.Face3(g,x,b,[w,M,S])),this.faceVertexUvs[0].push([C,A,E])):Math.abs(this.vertices[x].y)===e?(A.x=(A.x+E.x)/2,this.faces.push(new n.Face3(g,y,x,[w,_,M])),this.faceVertexUvs[0].push([C,T,A])):(this.faces.push(new n.Face3(g,y,b,[w,_,S])),this.faceVertexUvs[0].push([C,T,E]),this.faces.push(new n.Face3(y,x,b,[_.clone(),M,S.clone()])),this.faceVertexUvs[0].push([T.clone(),A,E.clone()]))}this.computeFaceNormals(),this.boundingSphere=new n.Sphere(new n.Vector3,e)},n.SphereGeometry.prototype=Object.create(n.Geometry.prototype),n.TextGeometry=function(e,t){t=t||{};var r=n.FontUtils.generateShapes(e,t);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),n.ExtrudeGeometry.call(this,r,t)},n.TextGeometry.prototype=Object.create(n.ExtrudeGeometry.prototype),n.TorusGeometry=function(e,t,r,i,o){n.Geometry.call(this),this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:o},e=e||100,t=t||40,r=r||8,i=i||6,o=o||2*Math.PI;for(var a=new n.Vector3,s=[],c=[],l=0;l<=r;l++)for(var u=0;u<=i;u++){var h=u/i*o,f=l/r*Math.PI*2;a.x=e*Math.cos(h),a.y=e*Math.sin(h);var p=new n.Vector3;p.x=(e+t*Math.cos(f))*Math.cos(h),p.y=(e+t*Math.cos(f))*Math.sin(h),p.z=t*Math.sin(f),this.vertices.push(p),s.push(new n.Vector2(u/i,l/r)),c.push(p.clone().sub(a).normalize())}for(var l=1;l<=r;l++)for(var u=1;u<=i;u++){var d=(i+1)*l+u-1,m=(i+1)*(l-1)+u-1,v=(i+1)*(l-1)+u,g=(i+1)*l+u,y=new n.Face3(d,m,g,[c[d].clone(),c[m].clone(),c[g].clone()]);this.faces.push(y),this.faceVertexUvs[0].push([s[d].clone(),s[m].clone(),s[g].clone()]),y=new n.Face3(m,v,g,[c[m].clone(),c[v].clone(),c[g].clone()]),this.faces.push(y),this.faceVertexUvs[0].push([s[m].clone(),s[v].clone(),s[g].clone()])}this.computeFaceNormals()},n.TorusGeometry.prototype=Object.create(n.Geometry.prototype),n.TorusKnotGeometry=function(e,t,r,i,o,a,s){function c(e,t,r,i,o){var a=Math.cos(e),s=Math.sin(e),c=t/r*e,l=Math.cos(c),u=i*(2+l)*.5*a,h=i*(2+l)*s*.5,f=o*i*Math.sin(c)*.5;return new n.Vector3(u,h,f)}n.Geometry.call(this),this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,p:o,q:a,heightScale:s},e=e||100,t=t||40,r=r||64,i=i||8,o=o||2,a=a||3,s=s||1;for(var l=new Array(r),u=new n.Vector3,h=new n.Vector3,f=new n.Vector3,p=0;p<r;++p){l[p]=new Array(i);var d=p/r*2*o*Math.PI,m=c(d,a,o,e,s),v=c(d+.01,a,o,e,s);u.subVectors(v,m),h.addVectors(v,m),f.crossVectors(u,h),h.crossVectors(f,u),f.normalize(),h.normalize();for(var g=0;g<i;++g){var y=g/i*2*Math.PI,x=-t*Math.cos(y),b=t*Math.sin(y),w=new n.Vector3;w.x=m.x+x*h.x+b*f.x,w.y=m.y+x*h.y+b*f.y,w.z=m.z+x*h.z+b*f.z,l[p][g]=this.vertices.push(w)-1}}for(var p=0;p<r;++p)for(var g=0;g<i;++g){var _=(p+1)%r,M=(g+1)%i,S=l[p][g],C=l[_][g],T=l[_][M],A=l[p][M],E=new n.Vector2(p/r,g/i),L=new n.Vector2((p+1)/r,g/i),P=new n.Vector2((p+1)/r,(g+1)/i),D=new n.Vector2(p/r,(g+1)/i);this.faces.push(new n.Face3(S,C,A)),this.faceVertexUvs[0].push([E,L,D]),this.faces.push(new n.Face3(C,T,A)),this.faceVertexUvs[0].push([L.clone(),P,D.clone()])}this.computeFaceNormals(),this.computeVertexNormals()},n.TorusKnotGeometry.prototype=Object.create(n.Geometry.prototype),n.TubeGeometry=function(e,t,r,i,o){n.Geometry.call(this),this.parameters={path:e,segments:t,radius:r,radialSegments:i,closed:o},t=t||64,r=r||1,i=i||8,o=o||!1;var a,s,c,l,u,h,f,p,d,m,v,g,y,x,b,w,_,M,S,C=[],T=this,A=t+1,E=new n.Vector3,L=new n.TubeGeometry.FrenetFrames(e,t,o),P=L.tangents,D=L.normals,R=L.binormals;for(this.tangents=P,this.normals=D,this.binormals=R,p=0;p<A;p++)for(C[p]=[],c=p/(A-1),f=e.getPointAt(c),P[p],a=D[p],s=R[p],d=0;d<i;d++)l=d/i*2*Math.PI,u=-r*Math.cos(l),h=r*Math.sin(l),E.copy(f),E.x+=u*a.x+h*s.x,E.y+=u*a.y+h*s.y,E.z+=u*a.z+h*s.z,C[p][d]=function(e,t,r){return T.vertices.push(new n.Vector3(e,t,r))-1}(E.x,E.y,E.z);for(p=0;p<t;p++)for(d=0;d<i;d++)m=o?(p+1)%t:p+1,v=(d+1)%i,g=C[p][d],y=C[m][d],x=C[m][v],b=C[p][v],w=new n.Vector2(p/t,d/i),_=new n.Vector2((p+1)/t,d/i),M=new n.Vector2((p+1)/t,(d+1)/i),S=new n.Vector2(p/t,(d+1)/i),this.faces.push(new n.Face3(g,y,b)),this.faceVertexUvs[0].push([w,_,S]),this.faces.push(new n.Face3(y,x,b)),this.faceVertexUvs[0].push([_.clone(),M,S.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},n.TubeGeometry.prototype=Object.create(n.Geometry.prototype),n.TubeGeometry.FrenetFrames=function(e,t,r){var i,o,a,s,c,l,u,h=(new n.Vector3,new n.Vector3),f=(new n.Vector3,[]),p=[],d=[],m=new n.Vector3,v=new n.Matrix4,g=t+1,y=1e-4;for(this.tangents=f,this.normals=p,this.binormals=d,l=0;l<g;l++)u=l/(g-1),f[l]=e.getTangentAt(u),f[l].normalize();for(function(){p[0]=new n.Vector3,d[0]=new n.Vector3,o=Number.MAX_VALUE,a=Math.abs(f[0].x),s=Math.abs(f[0].y),c=Math.abs(f[0].z),a<=o&&(o=a,h.set(1,0,0)),s<=o&&(o=s,h.set(0,1,0)),c<=o&&h.set(0,0,1),m.crossVectors(f[0],h).normalize(),p[0].crossVectors(f[0],m),d[0].crossVectors(f[0],p[0])}(),l=1;l<g;l++)p[l]=p[l-1].clone(),d[l]=d[l-1].clone(),m.crossVectors(f[l-1],f[l]),m.length()>y&&(m.normalize(),i=Math.acos(n.Math.clamp(f[l-1].dot(f[l]),-1,1)),p[l].applyMatrix4(v.makeRotationAxis(m,i))),d[l].crossVectors(f[l],p[l]);if(r)for(i=Math.acos(n.Math.clamp(p[0].dot(p[g-1]),-1,1)),i/=g-1,f[0].dot(m.crossVectors(p[0],p[g-1]))>0&&(i=-i),l=1;l<g;l++)p[l].applyMatrix4(v.makeRotationAxis(f[l],i*l)),d[l].crossVectors(f[l],p[l])},n.PolyhedronGeometry=function(e,t,r,i){function o(e){var t=e.normalize().clone();t.index=u.vertices.push(t)-1;var r=s(e)/2/Math.PI+.5,i=c(e)/Math.PI+.5;return t.uv=new n.Vector2(r,1-i),t}function a(e,t,r){var i=new n.Face3(e.index,t.index,r.index,[e.clone(),t.clone(),r.clone()]);u.faces.push(i),x.copy(e).add(t).add(r).divideScalar(3);var o=s(x);u.faceVertexUvs[0].push([l(e.uv,e,o),l(t.uv,t,o),l(r.uv,r,o)])}function s(e){return Math.atan2(e.z,-e.x)}function c(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}function l(e,t,r){return r<0&&1===e.x&&(e=new n.Vector2(e.x-1,e.y)),0===t.x&&0===t.z&&(e=new n.Vector2(r/2/Math.PI+.5,e.y)),e.clone()}n.Geometry.call(this),r=r||1,i=i||0;for(var u=this,h=0,f=e.length;h<f;h+=3)o(new n.Vector3(e[h],e[h+1],e[h+2]));for(var p=this.vertices,d=[],h=0,m=0,f=t.length;h<f;h+=3,m++){var v=p[t[h]],g=p[t[h+1]],y=p[t[h+2]];d[m]=new n.Face3(v.index,g.index,y.index,[v.clone(),g.clone(),y.clone()])}for(var x=new n.Vector3,h=0,f=d.length;h<f;h++)!function(e,t){for(var r=Math.pow(2,t),i=(Math.pow(4,t),o(u.vertices[e.a])),n=o(u.vertices[e.b]),s=o(u.vertices[e.c]),c=[],l=0;l<=r;l++){c[l]=[];for(var h=o(i.clone().lerp(s,l/r)),f=o(n.clone().lerp(s,l/r)),p=r-l,d=0;d<=p;d++)c[l][d]=0==d&&l==r?h:o(h.clone().lerp(f,d/p))}for(var l=0;l<r;l++)for(var d=0;d<2*(r-l)-1;d++){var m=Math.floor(d/2);d%2==0?a(c[l][m+1],c[l+1][m],c[l][m]):a(c[l][m+1],c[l+1][m+1],c[l+1][m])}}(d[h],i);for(var h=0,f=this.faceVertexUvs[0].length;h<f;h++){var b=this.faceVertexUvs[0][h],w=b[0].x,_=b[1].x,M=b[2].x,S=Math.max(w,Math.max(_,M)),C=Math.min(w,Math.min(_,M));S>.9&&C<.1&&(w<.2&&(b[0].x+=1),_<.2&&(b[1].x+=1),M<.2&&(b[2].x+=1))}for(var h=0,f=this.vertices.length;h<f;h++)this.vertices[h].multiplyScalar(r);this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new n.Sphere(new n.Vector3,r)},n.PolyhedronGeometry.prototype=Object.create(n.Geometry.prototype),n.IcosahedronGeometry=function(e,t){this.parameters={radius:e,detail:t};var r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];n.PolyhedronGeometry.call(this,i,o,e,t)},n.IcosahedronGeometry.prototype=Object.create(n.Geometry.prototype),n.OctahedronGeometry=function(e,t){this.parameters={radius:e,detail:t};var r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];n.PolyhedronGeometry.call(this,r,i,e,t)},n.OctahedronGeometry.prototype=Object.create(n.Geometry.prototype),n.TetrahedronGeometry=function(e,t){var r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];n.PolyhedronGeometry.call(this,r,i,e,t)},n.TetrahedronGeometry.prototype=Object.create(n.Geometry.prototype),n.ParametricGeometry=function(e,t,r){n.Geometry.call(this);var i,o,a,s,c,l=this.vertices,u=this.faces,h=this.faceVertexUvs[0],f=t+1;for(i=0;i<=r;i++)for(c=i/r,o=0;o<=t;o++)s=o/t,a=e(s,c),l.push(a);var p,d,m,v,g,y,x,b;for(i=0;i<r;i++)for(o=0;o<t;o++)p=i*f+o,d=i*f+o+1,m=(i+1)*f+o+1,v=(i+1)*f+o,g=new n.Vector2(o/t,i/r),y=new n.Vector2((o+1)/t,i/r),x=new n.Vector2((o+1)/t,(i+1)/r),b=new n.Vector2(o/t,(i+1)/r),u.push(new n.Face3(p,d,v)),h.push([g,y,b]),u.push(new n.Face3(d,m,v)),h.push([y.clone(),x,b.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},n.ParametricGeometry.prototype=Object.create(n.Geometry.prototype),n.AxisHelper=function(e){e=e||1;var t=new n.Geometry;t.vertices.push(new n.Vector3,new n.Vector3(e,0,0),new n.Vector3,new n.Vector3(0,e,0),new n.Vector3,new n.Vector3(0,0,e)),t.colors.push(new n.Color(16711680),new n.Color(16755200),new n.Color(65280),new n.Color(11206400),new n.Color(255),new n.Color(43775));var r=new n.LineBasicMaterial({vertexColors:n.VertexColors});n.Line.call(this,t,r,n.LinePieces)},n.AxisHelper.prototype=Object.create(n.Line.prototype),n.ArrowHelper=function(e,t,r,i,o,a){n.Object3D.call(this),void 0===i&&(i=16776960),void 0===r&&(r=1),void 0===o&&(o=.2*r),void 0===a&&(a=.2*o),this.position=t;var s=new n.Geometry;s.vertices.push(new n.Vector3(0,0,0)),s.vertices.push(new n.Vector3(0,1,0)),this.line=new n.Line(s,new n.LineBasicMaterial({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line);var c=new n.CylinderGeometry(0,.5,1,5,1);c.applyMatrix((new n.Matrix4).makeTranslation(0,-.5,0)),this.cone=new n.Mesh(c,new n.MeshBasicMaterial({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,a)},n.ArrowHelper.prototype=Object.create(n.Object3D.prototype),n.ArrowHelper.prototype.setDirection=function(){var e,t=new n.Vector3;return function(r){r.y>.99999?this.quaternion.set(0,0,0,1):r.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(r.z,0,-r.x).normalize(),e=Math.acos(r.y),this.quaternion.setFromAxisAngle(t,e))}}(),n.ArrowHelper.prototype.setLength=function(e,t,r){void 0===t&&(t=.2*e),void 0===r&&(r=.2*t),this.line.scale.set(1,e,1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()},n.ArrowHelper.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},n.BoxHelper=function(e){var t=[new n.Vector3(1,1,1),new n.Vector3(-1,1,1),new n.Vector3(-1,-1,1),new n.Vector3(1,-1,1),new n.Vector3(1,1,-1),new n.Vector3(-1,1,-1),new n.Vector3(-1,-1,-1),new n.Vector3(1,-1,-1)];this.vertices=t;var r=new n.Geometry;r.vertices.push(t[0],t[1],t[1],t[2],t[2],t[3],t[3],t[0],t[4],t[5],t[5],t[6],t[6],t[7],t[7],t[4],t[0],t[4],t[1],t[5],t[2],t[6],t[3],t[7]),n.Line.call(this,r,new n.LineBasicMaterial({color:16776960}),n.LinePieces),void 0!==e&&this.update(e)},n.BoxHelper.prototype=Object.create(n.Line.prototype),n.BoxHelper.prototype.update=function(e){var t=e.geometry;null===t.boundingBox&&t.computeBoundingBox();var r=t.boundingBox.min,i=t.boundingBox.max,n=this.vertices;n[0].set(i.x,i.y,i.z),n[1].set(r.x,i.y,i.z),n[2].set(r.x,r.y,i.z),n[3].set(i.x,r.y,i.z),n[4].set(i.x,i.y,r.z),n[5].set(r.x,i.y,r.z),n[6].set(r.x,r.y,r.z),n[7].set(i.x,r.y,r.z),this.geometry.computeBoundingSphere(),this.geometry.verticesNeedUpdate=!0,this.matrixAutoUpdate=!1,this.matrixWorld=e.matrixWorld},n.BoundingBoxHelper=function(e,t){var r=void 0!==t?t:8947848;this.object=e,this.box=new n.Box3,n.Mesh.call(this,new n.BoxGeometry(1,1,1),new n.MeshBasicMaterial({color:r,wireframe:!0}))},n.BoundingBoxHelper.prototype=Object.create(n.Mesh.prototype),n.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},n.CameraHelper=function(e){function t(e,t,i){r(e,i),r(t,i)}function r(e,t){i.vertices.push(new n.Vector3),i.colors.push(new n.Color(t)),void 0===a[e]&&(a[e]=[]),a[e].push(i.vertices.length-1)}var i=new n.Geometry,o=new n.LineBasicMaterial({color:16777215,vertexColors:n.FaceColors}),a={};t("n1","n2",16755200),t("n2","n4",16755200),t("n4","n3",16755200),t("n3","n1",16755200),t("f1","f2",16755200),t("f2","f4",16755200),t("f4","f3",16755200),t("f3","f1",16755200),t("n1","f1",16755200),t("n2","f2",16755200),t("n3","f3",16755200),t("n4","f4",16755200),t("p","n1",16711680),t("p","n2",16711680),t("p","n3",16711680),t("p","n4",16711680),t("u1","u2",43775),t("u2","u3",43775),t("u3","u1",43775),t("c","t",16777215),t("p","c",3355443),t("cn1","cn2",3355443),t("cn3","cn4",3355443),t("cf1","cf2",3355443),t("cf3","cf4",3355443),n.Line.call(this,i,o,n.LinePieces),this.camera=e,this.matrixWorld=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()},n.CameraHelper.prototype=Object.create(n.Line.prototype),n.CameraHelper.prototype.update=function(){var e=new n.Vector3,t=new n.Camera,r=new n.Projector;return function(){function i(i,o,a,s){e.set(o,a,s),r.unprojectVector(e,t);var c=n.pointMap[i];if(void 0!==c)for(var l=0,u=c.length;l<u;l++)n.geometry.vertices[c[l]].copy(e)}var n=this;t.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-1,-1,-1),i("n2",1,-1,-1),i("n3",-1,1,-1),i("n4",1,1,-1),i("f1",-1,-1,1),i("f2",1,-1,1),i("f3",-1,1,1),i("f4",1,1,1),i("u1",.7,1.1,-1),i("u2",-.7,1.1,-1),i("u3",0,2,-1),i("cf1",-1,0,1),i("cf2",1,0,1),i("cf3",0,-1,1),i("cf4",0,1,1),i("cn1",-1,0,-1),i("cn2",1,0,-1),i("cn3",0,-1,-1),i("cn4",0,1,-1),this.geometry.verticesNeedUpdate=!0}}(),n.DirectionalLightHelper=function(e,t){n.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrixWorld=e.matrixWorld,this.matrixAutoUpdate=!1,t=t||1;var r=new n.Geometry;r.vertices.push(new n.Vector3(-t,t,0),new n.Vector3(t,t,0),new n.Vector3(t,-t,0),new n.Vector3(-t,-t,0),new n.Vector3(-t,t,0));var i=new n.LineBasicMaterial({fog:!1});i.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new n.Line(r,i),this.add(this.lightPlane),r=new n.Geometry,r.vertices.push(new n.Vector3,new n.Vector3),i=new n.LineBasicMaterial({fog:!1}),i.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new n.Line(r,i),this.add(this.targetLine),this.update()},n.DirectionalLightHelper.prototype=Object.create(n.Object3D.prototype),n.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},n.DirectionalLightHelper.prototype.update=function(){var e=new n.Vector3,t=new n.Vector3,r=new n.Vector3;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),r.subVectors(t,e),this.lightPlane.lookAt(r),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(r),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),n.EdgesHelper=function(e,t){var r=void 0!==t?t:16777215,i=[0,0],o={},a=function(e,t){return e-t},s=["a","b","c"],c=new n.BufferGeometry,l=e.geometry.clone();l.mergeVertices(),l.computeFaceNormals();for(var u=l.vertices,h=l.faces,f=0,p=0,d=h.length;p<d;p++)for(var m=h[p],v=0;v<3;v++){i[0]=m[s[v]],i[1]=m[s[(v+1)%3]],i.sort(a);var g=i.toString();void 0===o[g]?(o[g]={vert1:i[0],vert2:i[1],face1:p,face2:void 0},f++):o[g].face2=p}c.addAttribute("position",new n.Float32Attribute(2*f,3));var y=c.attributes.position.array,x=0;for(var g in o){var b=o[g];if(void 0===b.face2||h[b.face1].normal.dot(h[b.face2].normal)<.9999){var w=u[b.vert1];y[x++]=w.x,y[x++]=w.y,y[x++]=w.z,w=u[b.vert2],y[x++]=w.x,y[x++]=w.y,y[x++]=w.z}}n.Line.call(this,c,new n.LineBasicMaterial({color:r}),n.LinePieces),this.matrixAutoUpdate=!1,this.matrixWorld=e.matrixWorld},n.EdgesHelper.prototype=Object.create(n.Line.prototype),n.FaceNormalsHelper=function(e,t,r,i){this.object=e,this.size=void 0!==t?t:1;for(var o=void 0!==r?r:16776960,a=void 0!==i?i:1,s=new n.Geometry,c=this.object.geometry.faces,l=0,u=c.length;l<u;l++)s.vertices.push(new n.Vector3,new n.Vector3);n.Line.call(this,s,new n.LineBasicMaterial({color:o,linewidth:a}),n.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new n.Matrix3,this.update()},n.FaceNormalsHelper.prototype=Object.create(n.Line.prototype),n.FaceNormalsHelper.prototype.update=function(){var e=this.geometry.vertices,t=this.object,r=t.geometry.vertices,i=t.geometry.faces,n=t.matrixWorld;t.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(n);for(var o=0,a=0,s=i.length;o<s;o++,a+=2){var c=i[o];e[a].copy(r[c.a]).add(r[c.b]).add(r[c.c]).divideScalar(3).applyMatrix4(n),e[a+1].copy(c.normal).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size).add(e[a])}return this.geometry.verticesNeedUpdate=!0,this},n.GridHelper=function(e,t){var r=new n.Geometry,i=new n.LineBasicMaterial({vertexColors:n.VertexColors});this.color1=new n.Color(4473924),this.color2=new n.Color(8947848);for(var o=-e;o<=e;o+=t){r.vertices.push(new n.Vector3(-e,0,o),new n.Vector3(e,0,o),new n.Vector3(o,0,-e),new n.Vector3(o,0,e));var a=0===o?this.color1:this.color2;r.colors.push(a,a,a,a)}n.Line.call(this,r,i,n.LinePieces)},n.GridHelper.prototype=Object.create(n.Line.prototype),n.GridHelper.prototype.setColors=function(e,t){this.color1.set(e),this.color2.set(t),this.geometry.colorsNeedUpdate=!0},n.HemisphereLightHelper=function(e,t,r,i){n.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrixWorld=e.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new n.Color,new n.Color];var o=new n.SphereGeometry(t,4,2);o.applyMatrix((new n.Matrix4).makeRotationX(-Math.PI/2));for(var a=0;a<8;a++)o.faces[a].color=this.colors[a<4?0:1];var s=new n.MeshBasicMaterial({vertexColors:n.FaceColors,wireframe:!0});this.lightSphere=new n.Mesh(o,s),this.add(this.lightSphere),this.update()},n.HemisphereLightHelper.prototype=Object.create(n.Object3D.prototype),n.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},n.HemisphereLightHelper.prototype.update=function(){var e=new n.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),n.PointLightHelper=function(e,t){this.light=e,this.light.updateMatrixWorld();var r=new n.SphereGeometry(t,4,2),i=new n.MeshBasicMaterial({wireframe:!0,fog:!1});i.color.copy(this.light.color).multiplyScalar(this.light.intensity),n.Mesh.call(this,r,i),this.matrixWorld=this.light.matrixWorld,this.matrixAutoUpdate=!1},n.PointLightHelper.prototype=Object.create(n.Mesh.prototype),n.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},n.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},n.SkeletonHelper=function(e){for(var t=e.skeleton,r=new n.Geometry,i=0;i<t.bones.length;i++){t.bones[i].parent instanceof n.Bone&&(r.vertices.push(new n.Vector3),r.vertices.push(new n.Vector3),r.colors.push(new n.Color(0,0,1)),r.colors.push(new n.Color(0,1,0)))}var o=new n.LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,transparent:!0});n.Line.call(this,r,o,n.LinePieces),this.skeleton=t,this.matrixWorld=e.matrixWorld,this.matrixAutoUpdate=!1,this.update()},n.SkeletonHelper.prototype=Object.create(n.Line.prototype),n.SkeletonHelper.prototype.update=function(){for(var e=this.geometry,t=0,r=0;r<this.skeleton.bones.length;r++){var i=this.skeleton.bones[r];i.parent instanceof n.Bone&&(e.vertices[t].setFromMatrixPosition(i.skinMatrix),e.vertices[t+1].setFromMatrixPosition(i.parent.skinMatrix),t+=2)}e.verticesNeedUpdate=!0,e.computeBoundingSphere()},n.SpotLightHelper=function(e){n.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrixWorld=e.matrixWorld,this.matrixAutoUpdate=!1;var t=new n.CylinderGeometry(0,1,1,8,1,!0);t.applyMatrix((new n.Matrix4).makeTranslation(0,-.5,0)),t.applyMatrix((new n.Matrix4).makeRotationX(-Math.PI/2));var r=new n.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new n.Mesh(t,r),this.add(this.cone),this.update()},n.SpotLightHelper.prototype=Object.create(n.Object3D.prototype),n.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},n.SpotLightHelper.prototype.update=function(){var e=new n.Vector3,t=new n.Vector3;return function(){var r=this.light.distance?this.light.distance:1e4,i=r*Math.tan(this.light.angle);this.cone.scale.set(i,i,r),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),n.VertexNormalsHelper=function(e,t,r,i){this.object=e,this.size=void 0!==t?t:1;for(var o=void 0!==r?r:16711680,a=void 0!==i?i:1,s=new n.Geometry,c=(e.geometry.vertices,e.geometry.faces),l=0,u=c.length;l<u;l++)for(var h=c[l],f=0,p=h.vertexNormals.length;f<p;f++)s.vertices.push(new n.Vector3),s.vertices.push(new n.Vector3);n.Line.call(this,s,new n.LineBasicMaterial({color:o,linewidth:a}),n.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new n.Matrix3,this.update()},n.VertexNormalsHelper.prototype=Object.create(n.Line.prototype),n.VertexNormalsHelper.prototype.update=function(e){var t=new n.Vector3;return function(e){var r=["a","b","c","d"];this.object.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(this.object.matrixWorld);for(var i=this.geometry.vertices,n=this.object.geometry.vertices,o=this.object.geometry.faces,a=this.object.matrixWorld,s=0,c=0,l=o.length;c<l;c++)for(var u=o[c],h=0,f=u.vertexNormals.length;h<f;h++){var p=u[r[h]],d=n[p],m=u.vertexNormals[h];i[s].copy(d).applyMatrix4(a),t.copy(m).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size),t.add(i[s]),s+=1,i[s].copy(t),s+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),n.VertexTangentsHelper=function(e,t,r,i){this.object=e,this.size=void 0!==t?t:1;for(var o=void 0!==r?r:255,a=void 0!==i?i:1,s=new n.Geometry,c=(e.geometry.vertices,e.geometry.faces),l=0,u=c.length;l<u;l++)for(var h=c[l],f=0,p=h.vertexTangents.length;f<p;f++)s.vertices.push(new n.Vector3),s.vertices.push(new n.Vector3);n.Line.call(this,s,new n.LineBasicMaterial({color:o,linewidth:a}),n.LinePieces),this.matrixAutoUpdate=!1,this.update()},n.VertexTangentsHelper.prototype=Object.create(n.Line.prototype),n.VertexTangentsHelper.prototype.update=function(e){var t=new n.Vector3;return function(e){var r=["a","b","c","d"];this.object.updateMatrixWorld(!0);for(var i=this.geometry.vertices,n=this.object.geometry.vertices,o=this.object.geometry.faces,a=this.object.matrixWorld,s=0,c=0,l=o.length;c<l;c++)for(var u=o[c],h=0,f=u.vertexTangents.length;h<f;h++){var p=u[r[h]],d=n[p],m=u.vertexTangents[h];i[s].copy(d).applyMatrix4(a),t.copy(m).transformDirection(a).multiplyScalar(this.size),t.add(i[s]),s+=1,i[s].copy(t),s+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),n.WireframeHelper=function(e,t){var r=void 0!==t?t:16777215,i=[0,0],o={},a=function(e,t){return e-t},s=["a","b","c"],c=new n.BufferGeometry;if(e.geometry instanceof n.Geometry){for(var l=e.geometry.vertices,u=e.geometry.faces,h=0,f=new Uint32Array(6*u.length),p=0,d=u.length;p<d;p++)for(var m=u[p],v=0;v<3;v++){i[0]=m[s[v]],i[1]=m[s[(v+1)%3]],i.sort(a);var g=i.toString();void 0===o[g]&&(f[2*h]=i[0],f[2*h+1]=i[1],o[g]=!0,h++)}c.addAttribute("position",new n.Float32Attribute(2*h,3));for(var y=c.attributes.position.array,p=0,d=h;p<d;p++)for(var v=0;v<2;v++){var x=l[f[2*p+v]],b=6*p+3*v;y[b+0]=x.x,y[b+1]=x.y,y[b+2]=x.z}}else if(e.geometry instanceof n.BufferGeometry&&void 0!==e.geometry.attributes.index){for(var l=e.geometry.attributes.position.array,w=e.geometry.attributes.index.array,_=e.geometry.offsets,h=0,f=new Uint32Array(2*w.length),M=0,S=_.length;M<S;++M)for(var C=_[M].start,T=_[M].count,b=_[M].index,p=C,A=C+T;p<A;p+=3)for(var v=0;v<3;v++){i[0]=b+w[p+v],i[1]=b+w[p+(v+1)%3],i.sort(a);var g=i.toString();void 0===o[g]&&(f[2*h]=i[0],f[2*h+1]=i[1],o[g]=!0,h++)}c.addAttribute("position",new n.Float32Attribute(2*h,3));for(var y=c.attributes.position.array,p=0,d=h;p<d;p++)for(var v=0;v<2;v++){var b=6*p+3*v,E=3*f[2*p+v];y[b+0]=l[E],y[b+1]=l[E+1],y[b+2]=l[E+2]}}else if(e.geometry instanceof n.BufferGeometry){var l=e.geometry.attributes.position.array,h=l.length/3,L=h/3;c.addAttribute("position",new n.Float32Attribute(2*h,3));for(var y=c.attributes.position.array,p=0,d=L;p<d;p++)for(var v=0;v<3;v++){var b=18*p+6*v,P=9*p+3*v;y[b+0]=l[P],y[b+1]=l[P+1],y[b+2]=l[P+2];var E=9*p+(v+1)%3*3;y[b+3]=l[E],y[b+4]=l[E+1],y[b+5]=l[E+2]}}n.Line.call(this,c,new n.LineBasicMaterial({color:r}),n.LinePieces),this.matrixAutoUpdate=!1,this.matrixWorld=e.matrixWorld},n.WireframeHelper.prototype=Object.create(n.Line.prototype),n.ImmediateRenderObject=function(){n.Object3D.call(this),this.render=function(e){}},n.ImmediateRenderObject.prototype=Object.create(n.Object3D.prototype),n.LensFlare=function(e,t,r,i,o){n.Object3D.call(this),this.lensFlares=[],this.positionScreen=new n.Vector3,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,r,i,o)},n.LensFlare.prototype=Object.create(n.Object3D.prototype),n.LensFlare.prototype.add=function(e,t,r,i,o,a){void 0===t&&(t=-1),void 0===r&&(r=0),void 0===a&&(a=1),void 0===o&&(o=new n.Color(16777215)),void 0===i&&(i=n.NormalBlending),r=Math.min(r,Math.max(0,r)),this.lensFlares.push({texture:e,size:t,distance:r,x:0,y:0,z:0,scale:1,rotation:1,opacity:a,color:o,blending:i})},n.LensFlare.prototype.updateLensFlares=function(){var e,t,r=this.lensFlares.length,i=2*-this.positionScreen.x,n=2*-this.positionScreen.y;for(e=0;e<r;e++)t=this.lensFlares[e],t.x=this.positionScreen.x+i*t.distance,t.y=this.positionScreen.y+n*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)},n.MorphBlendMesh=function(e,t){n.Mesh.call(this,e,t),this.animationsMap={},this.animationsList=[];var r=this.geometry.morphTargets.length,i=r-1,o=r/1;this.createAnimation("__default",0,i,o),this.setAnimationWeight("__default",1)},n.MorphBlendMesh.prototype=Object.create(n.Mesh.prototype),n.MorphBlendMesh.prototype.createAnimation=function(e,t,r,i){var n={startFrame:t,endFrame:r,length:r-t+1,fps:i,duration:(r-t)/i,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[e]=n,this.animationsList.push(n)},n.MorphBlendMesh.prototype.autoCreateAnimations=function(e){for(var t,r=/([a-z]+)(\d+)/,i={},n=this.geometry,o=0,a=n.morphTargets.length;o<a;o++){var s=n.morphTargets[o],c=s.name.match(r);if(c&&c.length>1){var l=c[1];c[2];i[l]||(i[l]={start:1/0,end:-1/0});var u=i[l];o<u.start&&(u.start=o),o>u.end&&(u.end=o),t||(t=l)}}for(var l in i){var u=i[l];this.createAnimation(l,u.start,u.end,e)}this.firstAnimation=t},n.MorphBlendMesh.prototype.setAnimationDirectionForward=function(e){var t=this.animationsMap[e];t&&(t.direction=1,t.directionBackwards=!1)},n.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(e){var t=this.animationsMap[e];t&&(t.direction=-1,t.directionBackwards=!0)},n.MorphBlendMesh.prototype.setAnimationFPS=function(e,t){var r=this.animationsMap[e];r&&(r.fps=t,r.duration=(r.end-r.start)/r.fps)},n.MorphBlendMesh.prototype.setAnimationDuration=function(e,t){var r=this.animationsMap[e];r&&(r.duration=t,r.fps=(r.end-r.start)/r.duration)},n.MorphBlendMesh.prototype.setAnimationWeight=function(e,t){var r=this.animationsMap[e];r&&(r.weight=t)},n.MorphBlendMesh.prototype.setAnimationTime=function(e,t){var r=this.animationsMap[e];r&&(r.time=t)},n.MorphBlendMesh.prototype.getAnimationTime=function(e){var t=0,r=this.animationsMap[e];return r&&(t=r.time),t},n.MorphBlendMesh.prototype.getAnimationDuration=function(e){var t=-1,r=this.animationsMap[e];return r&&(t=r.duration),t},n.MorphBlendMesh.prototype.playAnimation=function(e){var t=this.animationsMap[e];t?(t.time=0,t.active=!0):console.warn("animation["+e+"] undefined")},n.MorphBlendMesh.prototype.stopAnimation=function(e){var t=this.animationsMap[e];t&&(t.active=!1)};n.MorphBlendMesh.prototype.update=function(e){for(var t=0,r=this.animationsList.length;t<r;t++){var i=this.animationsList[t];if(i.active){var o=i.duration/i.length;i.time+=i.direction*e,i.mirroredLoop?(i.time>i.duration||i.time<0)&&(i.direction*=-1,i.time>i.duration&&(i.time=i.duration,i.directionBackwards=!0),i.time<0&&(i.time=0,i.directionBackwards=!1)):(i.time=i.time%i.duration,i.time<0&&(i.time+=i.duration));var a=i.startFrame+n.Math.clamp(Math.floor(i.time/o),0,i.length-1),s=i.weight;a!==i.currentFrame&&(this.morphTargetInfluences[i.lastFrame]=0,this.morphTargetInfluences[i.currentFrame]=1*s,this.morphTargetInfluences[a]=0,i.lastFrame=i.currentFrame,i.currentFrame=a);var c=i.time%o/o;i.directionBackwards&&(c=1-c),this.morphTargetInfluences[i.currentFrame]=c*s,this.morphTargetInfluences[i.lastFrame]=(1-c)*s}}},n.LensFlarePlugin=function(){function e(e,r){var i=t.createProgram(),n=t.createShader(t.FRAGMENT_SHADER),o=t.createShader(t.VERTEX_SHADER),a="precision "+r+" float;\n";return t.shaderSource(n,a+e.fragmentShader),t.shaderSource(o,a+e.vertexShader),t.compileShader(n),t.compileShader(o),t.attachShader(i,n),t.attachShader(i,o),t.linkProgram(i),i}var t,r,i,o={};this.init=function(a){t=a.context,r=a,i=a.getPrecision(),o.vertices=new Float32Array(16),o.faces=new Uint16Array(6);var s=0;o.vertices[s++]=-1,o.vertices[s++]=-1,o.vertices[s++]=0,o.vertices[s++]=0,o.vertices[s++]=1,o.vertices[s++]=-1,o.vertices[s++]=1,o.vertices[s++]=0,o.vertices[s++]=1,o.vertices[s++]=1,o.vertices[s++]=1,o.vertices[s++]=1,o.vertices[s++]=-1,o.vertices[s++]=1,o.vertices[s++]=0,o.vertices[s++]=1,s=0,o.faces[s++]=0,o.faces[s++]=1,o.faces[s++]=2,o.faces[s++]=0,o.faces[s++]=2,o.faces[s++]=3,o.vertexBuffer=t.createBuffer(),o.elementBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,o.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,o.vertices,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o.elementBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,o.faces,t.STATIC_DRAW),o.tempTexture=t.createTexture(),o.occlusionTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,o.tempTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGB,16,16,0,t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.bindTexture(t.TEXTURE_2D,o.occlusionTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,16,16,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS)<=0?(o.hasVertexTexture=!1,o.program=e(n.ShaderFlares.lensFlare,i)):(o.hasVertexTexture=!0,o.program=e(n.ShaderFlares.lensFlareVertexTexture,i)),o.attributes={},o.uniforms={},o.attributes.vertex=t.getAttribLocation(o.program,"position"),o.attributes.uv=t.getAttribLocation(o.program,"uv"),o.uniforms.renderType=t.getUniformLocation(o.program,"renderType"),o.uniforms.map=t.getUniformLocation(o.program,"map"),o.uniforms.occlusionMap=t.getUniformLocation(o.program,"occlusionMap"),o.uniforms.opacity=t.getUniformLocation(o.program,"opacity"),o.uniforms.color=t.getUniformLocation(o.program,"color"),o.uniforms.scale=t.getUniformLocation(o.program,"scale"),o.uniforms.rotation=t.getUniformLocation(o.program,"rotation"),o.uniforms.screenPosition=t.getUniformLocation(o.program,"screenPosition")},this.render=function(e,i,a,s){var c=e.__webglFlares,l=c.length;if(l){var u=new n.Vector3,h=s/a,f=.5*a,p=.5*s,d=16/s,m=new n.Vector2(d*h,d),v=new n.Vector3(1,1,0),g=new n.Vector2(1,1),y=o.uniforms,x=o.attributes;t.useProgram(o.program),t.enableVertexAttribArray(o.attributes.vertex),t.enableVertexAttribArray(o.attributes.uv),t.uniform1i(y.occlusionMap,0),t.uniform1i(y.map,1),t.bindBuffer(t.ARRAY_BUFFER,o.vertexBuffer),t.vertexAttribPointer(x.vertex,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(x.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o.elementBuffer),t.disable(t.CULL_FACE),t.depthMask(!1);var b,w,_,M,S;for(b=0;b<l;b++)if(d=16/s,m.set(d*h,d),M=c[b],u.set(M.matrixWorld.elements[12],M.matrixWorld.elements[13],M.matrixWorld.elements[14]),u.applyMatrix4(i.matrixWorldInverse),u.applyProjection(i.projectionMatrix),v.copy(u),g.x=v.x*f+f,g.y=v.y*p+p,o.hasVertexTexture||g.x>0&&g.x<a&&g.y>0&&g.y<s)for(t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,o.tempTexture),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGB,g.x-8,g.y-8,16,16,0),t.uniform1i(y.renderType,0),t.uniform2f(y.scale,m.x,m.y),t.uniform3f(y.screenPosition,v.x,v.y,v.z),t.disable(t.BLEND),t.enable(t.DEPTH_TEST),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,o.occlusionTexture),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,g.x-8,g.y-8,16,16,0),t.uniform1i(y.renderType,1),t.disable(t.DEPTH_TEST),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,o.tempTexture),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),M.positionScreen.copy(v),M.customUpdateCallback?M.customUpdateCallback(M):M.updateLensFlares(),t.uniform1i(y.renderType,2),t.enable(t.BLEND),w=0,_=M.lensFlares.length;w<_;w++)S=M.lensFlares[w],S.opacity>.001&&S.scale>.001&&(v.x=S.x,v.y=S.y,v.z=S.z,d=S.size*S.scale/s,m.x=d*h,m.y=d,t.uniform3f(y.screenPosition,v.x,v.y,v.z),t.uniform2f(y.scale,m.x,m.y),t.uniform1f(y.rotation,S.rotation),t.uniform1f(y.opacity,S.opacity),t.uniform3f(y.color,S.color.r,S.color.g,S.color.b),r.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst),r.setTexture(S.texture,1),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0));t.enable(t.CULL_FACE),t.enable(t.DEPTH_TEST),t.depthMask(!0)}}},n.ShadowMapPlugin=function(){function e(e,t){var r=new n.DirectionalLight;r.isVirtual=!0,r.onlyShadow=!0,r.castShadow=!0,r.shadowCameraNear=e.shadowCameraNear,r.shadowCameraFar=e.shadowCameraFar,r.shadowCameraLeft=e.shadowCameraLeft,r.shadowCameraRight=e.shadowCameraRight,r.shadowCameraBottom=e.shadowCameraBottom,r.shadowCameraTop=e.shadowCameraTop,r.shadowCameraVisible=e.shadowCameraVisible,r.shadowDarkness=e.shadowDarkness,r.shadowBias=e.shadowCascadeBias[t],r.shadowMapWidth=e.shadowCascadeWidth[t],r.shadowMapHeight=e.shadowCascadeHeight[t],r.pointsWorld=[],r.pointsFrustum=[];for(var i=r.pointsWorld,o=r.pointsFrustum,a=0;a<8;a++)i[a]=new n.Vector3,o[a]=new n.Vector3;var s=e.shadowCascadeNearZ[t],c=e.shadowCascadeFarZ[t];return o[0].set(-1,-1,s),o[1].set(1,-1,s),o[2].set(-1,1,s),o[3].set(1,1,s),o[4].set(-1,-1,c),o[5].set(1,-1,c),o[6].set(-1,1,c),o[7].set(1,1,c),r}function t(e,t){var r=e.shadowCascadeArray[t];r.position.copy(e.position),r.target.position.copy(e.target.position),r.lookAt(r.target),r.shadowCameraVisible=e.shadowCameraVisible,r.shadowDarkness=e.shadowDarkness,r.shadowBias=e.shadowCascadeBias[t];var i=e.shadowCascadeNearZ[t],n=e.shadowCascadeFarZ[t],o=r.pointsFrustum;o[0].z=i,o[1].z=i,o[2].z=i,o[3].z=i,o[4].z=n,o[5].z=n,o[6].z=n,o[7].z=n}function r(e,t){var r=t.shadowCamera,i=t.pointsFrustum,o=t.pointsWorld;p.set(1/0,1/0,1/0),d.set(-1/0,-1/0,-1/0);for(var a=0;a<8;a++){var s=o[a];s.copy(i[a]),n.ShadowMapPlugin.__projector.unprojectVector(s,e),s.applyMatrix4(r.matrixWorldInverse),s.x<p.x&&(p.x=s.x),s.x>d.x&&(d.x=s.x),s.y<p.y&&(p.y=s.y),s.y>d.y&&(d.y=s.y),s.z<p.z&&(p.z=s.z),s.z>d.z&&(d.z=s.z)}r.left=p.x,r.right=d.x,r.top=d.y,r.bottom=p.y,r.updateProjectionMatrix()}function i(e){return e.material instanceof n.MeshFaceMaterial?e.material.materials[0]:e.material}var o,a,s,c,l,u,h=new n.Frustum,f=new n.Matrix4,p=new n.Vector3,d=new n.Vector3,m=new n.Vector3;this.init=function(e){o=e.context,a=e;var t=n.ShaderLib.depthRGBA,r=n.UniformsUtils.clone(t.uniforms);s=new n.ShaderMaterial({fragmentShader:t.fragmentShader,vertexShader:t.vertexShader,uniforms:r}),c=new n.ShaderMaterial({fragmentShader:t.fragmentShader,vertexShader:t.vertexShader,uniforms:r,morphTargets:!0}),l=new n.ShaderMaterial({fragmentShader:t.fragmentShader,vertexShader:t.vertexShader,uniforms:r,skinning:!0}),u=new n.ShaderMaterial({fragmentShader:t.fragmentShader,vertexShader:t.vertexShader,uniforms:r,morphTargets:!0,skinning:!0}),s._shadowPass=!0,c._shadowPass=!0,l._shadowPass=!0,u._shadowPass=!0},this.render=function(e,t){a.shadowMapEnabled&&a.shadowMapAutoUpdate&&this.update(e,t)},this.update=function(p,d){var v,g,y,x,b,w,_,M,S,C,T,A,E,L,P=[],D=0;for(o.clearColor(1,1,1,1),o.disable(o.BLEND),o.enable(o.CULL_FACE),o.frontFace(o.CCW),a.shadowMapCullFace===n.CullFaceFront?o.cullFace(o.FRONT):o.cullFace(o.BACK),a.setDepthTest(!0),v=0,g=p.__lights.length;v<g;v++)if(E=p.__lights[v],E.castShadow)if(E instanceof n.DirectionalLight&&E.shadowCascade)for(b=0;b<E.shadowCascadeCount;b++){var R;if(E.shadowCascadeArray[b])R=E.shadowCascadeArray[b];else{R=e(E,b),R.originalCamera=d;var F=new n.Gyroscope;F.position.copy(E.shadowCascadeOffset),F.add(R),F.add(R.target),d.add(F),E.shadowCascadeArray[b]=R,console.log("Created virtualLight",R)}t(E,b),P[D]=R,D++}else P[D]=E,D++;for(v=0,g=P.length;v<g;v++){if(E=P[v],!E.shadowMap){var k=n.LinearFilter;a.shadowMapType===n.PCFSoftShadowMap&&(k=n.NearestFilter);var O={minFilter:k,magFilter:k,format:n.RGBAFormat};E.shadowMap=new n.WebGLRenderTarget(E.shadowMapWidth,E.shadowMapHeight,O),E.shadowMapSize=new n.Vector2(E.shadowMapWidth,E.shadowMapHeight),E.shadowMatrix=new n.Matrix4}if(!E.shadowCamera){if(E instanceof n.SpotLight)E.shadowCamera=new n.PerspectiveCamera(E.shadowCameraFov,E.shadowMapWidth/E.shadowMapHeight,E.shadowCameraNear,E.shadowCameraFar);else{if(!(E instanceof n.DirectionalLight)){console.error("Unsupported light type for shadow");continue}E.shadowCamera=new n.OrthographicCamera(E.shadowCameraLeft,E.shadowCameraRight,E.shadowCameraTop,E.shadowCameraBottom,E.shadowCameraNear,E.shadowCameraFar)}p.add(E.shadowCamera),!0===p.autoUpdate&&p.updateMatrixWorld()}for(E.shadowCameraVisible&&!E.cameraHelper&&(E.cameraHelper=new n.CameraHelper(E.shadowCamera),E.shadowCamera.add(E.cameraHelper)),E.isVirtual&&R.originalCamera==d&&r(d,E),w=E.shadowMap,_=E.shadowMatrix,M=E.shadowCamera,M.position.setFromMatrixPosition(E.matrixWorld),m.setFromMatrixPosition(E.target.matrixWorld),M.lookAt(m),M.updateMatrixWorld(),M.matrixWorldInverse.getInverse(M.matrixWorld),E.cameraHelper&&(E.cameraHelper.visible=E.shadowCameraVisible),E.shadowCameraVisible&&E.cameraHelper.update(),_.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),_.multiply(M.projectionMatrix),_.multiply(M.matrixWorldInverse),f.multiplyMatrices(M.projectionMatrix,M.matrixWorldInverse),h.setFromMatrix(f),a.setRenderTarget(w),a.clear(),L=p.__webglObjects,y=0,x=L.length;y<x;y++)T=L[y],A=T.object,T.render=!1,A.visible&&A.castShadow&&((A instanceof n.Mesh||A instanceof n.ParticleSystem)&&A.frustumCulled&&!h.intersectsObject(A)||(A._modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,A.matrixWorld),T.render=!0));var U,N,V;for(y=0,x=L.length;y<x;y++)T=L[y],T.render&&(A=T.object,S=T.buffer,U=i(A),N=void 0!==A.geometry.morphTargets&&A.geometry.morphTargets.length>0&&U.morphTargets,V=A instanceof n.SkinnedMesh&&U.skinning,C=A.customDepthMaterial?A.customDepthMaterial:V?N?u:l:N?c:s,a.setMaterialFaces(U),S instanceof n.BufferGeometry?a.renderBufferDirect(M,p.__lights,null,C,S,A):a.renderBuffer(M,p.__lights,null,C,S,A));for(L=p.__webglObjectsImmediate,y=0,x=L.length;y<x;y++)T=L[y],A=T.object,A.visible&&A.castShadow&&(A._modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,A.matrixWorld),a.renderImmediateObject(M,p.__lights,null,s,A))}var B=a.getClearColor(),z=a.getClearAlpha();o.clearColor(B.r,B.g,B.b,z),o.enable(o.BLEND),a.shadowMapCullFace===n.CullFaceFront&&o.cullFace(o.BACK)}},n.ShadowMapPlugin.__projector=new n.Projector,n.SpritePlugin=function(){function e(){var e=r.createProgram(),t=r.createShader(r.VERTEX_SHADER),n=r.createShader(r.FRAGMENT_SHADER);return r.shaderSource(t,["precision "+i.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),r.shaderSource(n,["precision "+i.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),r.compileShader(t),r.compileShader(n),r.attachShader(e,t),r.attachShader(e,n),r.linkProgram(e),e}function t(e,t){return e.z!==t.z?t.z-e.z:t.id-e.id}var r,i,o,a,s,c,l,u,h,f;this.init=function(t){r=t.context,i=t,a=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),s=new Uint16Array([0,1,2,0,2,3]),c=r.createBuffer(),l=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,c),r.bufferData(r.ARRAY_BUFFER,a,r.STATIC_DRAW),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,l),r.bufferData(r.ELEMENT_ARRAY_BUFFER,s,r.STATIC_DRAW),u=e(),h={position:r.getAttribLocation(u,"position"),uv:r.getAttribLocation(u,"uv")},f={uvOffset:r.getUniformLocation(u,"uvOffset"),uvScale:r.getUniformLocation(u,"uvScale"),rotation:r.getUniformLocation(u,"rotation"),scale:r.getUniformLocation(u,"scale"),color:r.getUniformLocation(u,"color"),map:r.getUniformLocation(u,"map"),opacity:r.getUniformLocation(u,"opacity"),modelViewMatrix:r.getUniformLocation(u,"modelViewMatrix"),projectionMatrix:r.getUniformLocation(u,"projectionMatrix"),fogType:r.getUniformLocation(u,"fogType"),fogDensity:r.getUniformLocation(u,"fogDensity"),fogNear:r.getUniformLocation(u,"fogNear"),fogFar:r.getUniformLocation(u,"fogFar"),fogColor:r.getUniformLocation(u,"fogColor"),alphaTest:r.getUniformLocation(u,"alphaTest")};var p=document.createElement("canvas");p.width=8,p.height=8;var d=p.getContext("2d");d.fillStyle="#ffffff",d.fillRect(0,0,p.width,p.height),o=new n.Texture(p),o.needsUpdate=!0},this.render=function(e,a,s,p){var d=e.__webglSprites,m=d.length;if(m){r.useProgram(u),r.enableVertexAttribArray(h.position),r.enableVertexAttribArray(h.uv),r.disable(r.CULL_FACE),r.enable(r.BLEND),r.bindBuffer(r.ARRAY_BUFFER,c),r.vertexAttribPointer(h.position,2,r.FLOAT,!1,16,0),r.vertexAttribPointer(h.uv,2,r.FLOAT,!1,16,8),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,l),r.uniformMatrix4fv(f.projectionMatrix,!1,a.projectionMatrix.elements),r.activeTexture(r.TEXTURE0),r.uniform1i(f.map,0);var v=0,g=0,y=e.fog;y?(r.uniform3f(f.fogColor,y.color.r,y.color.g,y.color.b),y instanceof n.Fog?(r.uniform1f(f.fogNear,y.near),r.uniform1f(f.fogFar,y.far),r.uniform1i(f.fogType,1),v=1,g=1):y instanceof n.FogExp2&&(r.uniform1f(f.fogDensity,y.density),r.uniform1i(f.fogType,2),v=2,g=2)):(r.uniform1i(f.fogType,0),v=0,g=0);var x,b,w,_,M=[];for(x=0;x<m;x++)b=d[x],w=b.material,!1!==b.visible&&(b._modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,b.matrixWorld),b.z=-b._modelViewMatrix.elements[14]);for(d.sort(t),x=0;x<m;x++)b=d[x],!1!==b.visible&&(w=b.material,r.uniform1f(f.alphaTest,w.alphaTest),r.uniformMatrix4fv(f.modelViewMatrix,!1,b._modelViewMatrix.elements),M[0]=b.scale.x,M[1]=b.scale.y,_=e.fog&&w.fog?g:0,v!==_&&(r.uniform1i(f.fogType,_),v=_),null!==w.map?(r.uniform2f(f.uvOffset,w.map.offset.x,w.map.offset.y),r.uniform2f(f.uvScale,w.map.repeat.x,w.map.repeat.y)):(r.uniform2f(f.uvOffset,0,0),r.uniform2f(f.uvScale,1,1)),r.uniform1f(f.opacity,w.opacity),r.uniform3f(f.color,w.color.r,w.color.g,w.color.b),r.uniform1f(f.rotation,w.rotation),r.uniform2fv(f.scale,M),i.setBlending(w.blending,w.blendEquation,w.blendSrc,w.blendDst),i.setDepthTest(w.depthTest),i.setDepthWrite(w.depthWrite),w.map&&w.map.image&&w.map.image.width?i.setTexture(w.map,0):i.setTexture(o,0),r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0));r.enable(r.CULL_FACE)}}},n.DepthPassPlugin=function(){function e(e){return e.material instanceof n.MeshFaceMaterial?e.material.materials[0]:e.material}this.enabled=!1,this.renderTarget=null;var t,r,i,o,a,s,c=new n.Frustum,l=new n.Matrix4;this.init=function(e){t=e.context,r=e;var c=n.ShaderLib.depthRGBA,l=n.UniformsUtils.clone(c.uniforms);i=new n.ShaderMaterial({fragmentShader:c.fragmentShader,vertexShader:c.vertexShader,uniforms:l}),o=new n.ShaderMaterial({fragmentShader:c.fragmentShader,vertexShader:c.vertexShader,uniforms:l,morphTargets:!0}),a=new n.ShaderMaterial({fragmentShader:c.fragmentShader,vertexShader:c.vertexShader,uniforms:l,skinning:!0}),s=new n.ShaderMaterial({fragmentShader:c.fragmentShader,vertexShader:c.vertexShader,uniforms:l,morphTargets:!0,skinning:!0}),i._shadowPass=!0,o._shadowPass=!0,a._shadowPass=!0,s._shadowPass=!0},this.render=function(e,t){this.enabled&&this.update(e,t)},this.update=function(u,h){var f,p,d,m,v,g,y;for(t.clearColor(1,1,1,1),t.disable(t.BLEND),r.setDepthTest(!0),!0===u.autoUpdate&&u.updateMatrixWorld(),h.matrixWorldInverse.getInverse(h.matrixWorld),l.multiplyMatrices(h.projectionMatrix,h.matrixWorldInverse),c.setFromMatrix(l),r.setRenderTarget(this.renderTarget),r.clear(),y=u.__webglObjects,f=0,p=y.length;f<p;f++)v=y[f],g=v.object,v.render=!1,g.visible&&((g instanceof n.Mesh||g instanceof n.ParticleSystem)&&g.frustumCulled&&!c.intersectsObject(g)||(g._modelViewMatrix.multiplyMatrices(h.matrixWorldInverse,g.matrixWorld),v.render=!0));var x,b,w;for(f=0,p=y.length;f<p;f++)if(v=y[f],v.render){if(g=v.object,d=v.buffer,g instanceof n.ParticleSystem&&!g.customDepthMaterial)continue;x=e(g),x&&r.setMaterialFaces(g.material),b=void 0!==g.geometry.morphTargets&&g.geometry.morphTargets.length>0&&x.morphTargets,w=g instanceof n.SkinnedMesh&&x.skinning,m=g.customDepthMaterial?g.customDepthMaterial:w?b?s:a:b?o:i,d instanceof n.BufferGeometry?r.renderBufferDirect(h,u.__lights,null,m,d,g):r.renderBuffer(h,u.__lights,null,m,d,g)}for(y=u.__webglObjectsImmediate,f=0,p=y.length;f<p;f++)v=y[f],g=v.object,g.visible&&(g._modelViewMatrix.multiplyMatrices(h.matrixWorldInverse,g.matrixWorld),r.renderImmediateObject(h,u.__lights,null,i,g));var _=r.getClearColor(),M=r.getClearAlpha();t.clearColor(_.r,_.g,_.b,M),t.enable(t.BLEND)}},n.ShaderFlares={lensFlareVertexTexture:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},lensFlare:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * visibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")}},void 0!==e&&e.exports&&(t=e.exports=n),t.THREE=n},7:function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},9:function(e,t,r){"use strict";(function(e){/*!
 * Vue.js v2.4.2
 * (c) 2014-2017 Evan You
 * Released under the MIT License.
 */
function r(e){return void 0===e||null===e}function i(e){return void 0!==e&&null!==e}function n(e){return!0===e}function o(e){return!1===e}function a(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Object]"===Nn.call(e)}function l(e){return"[object RegExp]"===Nn.call(e)}function u(e){var t=parseFloat(e);return t>=0&&Math.floor(t)===t&&isFinite(e)}function h(e){return null==e?"":"object"==typeof e?JSON.stringify(e,null,2):String(e)}function f(e){var t=parseFloat(e);return isNaN(t)?e:t}function p(e,t){for(var r=Object.create(null),i=e.split(","),n=0;n<i.length;n++)r[i[n]]=!0;return t?function(e){return r[e.toLowerCase()]}:function(e){return r[e]}}function d(e,t){if(e.length){var r=e.indexOf(t);if(r>-1)return e.splice(r,1)}}function m(e,t){return zn.call(e,t)}function v(e){var t=Object.create(null);return function(r){return t[r]||(t[r]=e(r))}}function g(e,t){function r(r){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,r):e.call(t)}return r._length=e.length,r}function y(e,t){t=t||0;for(var r=e.length-t,i=new Array(r);r--;)i[r]=e[r+t];return i}function x(e,t){for(var r in t)e[r]=t[r];return e}function b(e){for(var t={},r=0;r<e.length;r++)e[r]&&x(t,e[r]);return t}function w(e,t,r){}function _(e,t){if(e===t)return!0;var r=s(e),i=s(t);if(!r||!i)return!r&&!i&&String(e)===String(t);try{var n=Array.isArray(e),o=Array.isArray(t);if(n&&o)return e.length===t.length&&e.every(function(e,r){return _(e,t[r])});if(n||o)return!1;var a=Object.keys(e),c=Object.keys(t);return a.length===c.length&&a.every(function(r){return _(e[r],t[r])})}catch(e){return!1}}function M(e,t){for(var r=0;r<e.length;r++)if(_(e[r],t))return r;return-1}function S(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function C(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function T(e,t,r,i){Object.defineProperty(e,t,{value:r,enumerable:!!i,writable:!0,configurable:!0})}function A(e){if(!Jn.test(e)){var t=e.split(".");return function(e){for(var r=0;r<t.length;r++){if(!e)return;e=e[t[r]]}return e}}}function E(e,t,r){if(Zn.errorHandler)Zn.errorHandler.call(null,e,t,r);else{if(!ro||"undefined"==typeof console)throw e;console.error(e)}}function L(e){return"function"==typeof e&&/native code/.test(e.toString())}function P(e){wo.target&&_o.push(wo.target),wo.target=e}function D(){wo.target=_o.pop()}function R(e,t,r){e.__proto__=t}function F(e,t,r){for(var i=0,n=r.length;i<n;i++){var o=r[i];T(e,o,t[o])}}function k(e,t){if(s(e)){var r;return m(e,"__ob__")&&e.__ob__ instanceof Ao?r=e.__ob__:To.shouldConvert&&!vo()&&(Array.isArray(e)||c(e))&&Object.isExtensible(e)&&!e._isVue&&(r=new Ao(e)),t&&r&&r.vmCount++,r}}function O(e,t,r,i,n){var o=new wo,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get,c=a&&a.set,l=!n&&k(r);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):r;return wo.target&&(o.depend(),l&&l.dep.depend(),Array.isArray(t)&&V(t)),t},set:function(t){var i=s?s.call(e):r;t===i||t!==t&&i!==i||(c?c.call(e,t):r=t,l=!n&&k(t),o.notify())}})}}function U(e,t,r){if(Array.isArray(e)&&u(t))return e.length=Math.max(e.length,t),e.splice(t,1,r),r;if(m(e,t))return e[t]=r,r;var i=e.__ob__;return e._isVue||i&&i.vmCount?r:i?(O(i.value,t,r),i.dep.notify(),r):(e[t]=r,r)}function N(e,t){if(Array.isArray(e)&&u(t))return void e.splice(t,1);var r=e.__ob__;e._isVue||r&&r.vmCount||m(e,t)&&(delete e[t],r&&r.dep.notify())}function V(e){for(var t=void 0,r=0,i=e.length;r<i;r++)t=e[r],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&V(t)}function B(e,t){if(!t)return e;for(var r,i,n,o=Object.keys(t),a=0;a<o.length;a++)r=o[a],i=e[r],n=t[r],m(e,r)?c(i)&&c(n)&&B(i,n):U(e,r,n);return e}function z(e,t,r){return r?e||t?function(){var i="function"==typeof t?t.call(r):t,n="function"==typeof e?e.call(r):void 0;return i?B(i,n):n}:void 0:t?e?function(){return B("function"==typeof t?t.call(this):t,"function"==typeof e?e.call(this):e)}:t:e}function I(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}function j(e,t){var r=Object.create(e||null);return t?x(r,t):r}function H(e){var t=e.props;if(t){var r,i,n,o={};if(Array.isArray(t))for(r=t.length;r--;)"string"==typeof(i=t[r])&&(n=jn(i),o[n]={type:null});else if(c(t))for(var a in t)i=t[a],n=jn(a),o[n]=c(i)?i:{type:i};e.props=o}}function G(e){var t=e.inject;if(Array.isArray(t))for(var r=e.inject={},i=0;i<t.length;i++)r[t[i]]=t[i]}function W(e){var t=e.directives;if(t)for(var r in t){var i=t[r];"function"==typeof i&&(t[r]={bind:i,update:i})}}function X(e,t,r){function i(i){var n=Eo[i]||Lo;c[i]=n(e[i],t[i],r,i)}"function"==typeof t&&(t=t.options),H(t),G(t),W(t);var n=t.extends;if(n&&(e=X(e,n,r)),t.mixins)for(var o=0,a=t.mixins.length;o<a;o++)e=X(e,t.mixins[o],r);var s,c={};for(s in e)i(s);for(s in t)m(e,s)||i(s);return c}function q(e,t,r,i){if("string"==typeof r){var n=e[t];if(m(n,r))return n[r];var o=jn(r);if(m(n,o))return n[o];var a=Hn(o);if(m(n,a))return n[a];return n[r]||n[o]||n[a]}}function $(e,t,r,i){var n=t[e],o=!m(r,e),a=r[e];if(Z(Boolean,n.type)&&(o&&!m(n,"default")?a=!1:Z(String,n.type)||""!==a&&a!==Wn(e)||(a=!0)),void 0===a){a=Y(i,n,e);var s=To.shouldConvert;To.shouldConvert=!0,k(a),To.shouldConvert=s}return a}function Y(e,t,r){if(m(t,"default")){var i=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[r]&&void 0!==e._props[r]?e._props[r]:"function"==typeof i&&"Function"!==K(t.type)?i.call(e):i}}function K(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Z(e,t){if(!Array.isArray(t))return K(t)===K(e);for(var r=0,i=t.length;r<i;r++)if(K(t[r])===K(e))return!0;return!1}function Q(e){return new Po(void 0,void 0,void 0,String(e))}function J(e){var t=new Po(e.tag,e.data,e.children,e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.isCloned=!0,t}function ee(e){for(var t=e.length,r=new Array(t),i=0;i<t;i++)r[i]=J(e[i]);return r}function te(e){function t(){var e=arguments,r=t.fns;if(!Array.isArray(r))return r.apply(null,arguments);for(var i=r.slice(),n=0;n<i.length;n++)i[n].apply(null,e)}return t.fns=e,t}function re(e,t,i,n,o){var a,s,c,l;for(a in e)s=e[a],c=t[a],l=ko(a),r(s)||(r(c)?(r(s.fns)&&(s=e[a]=te(s)),i(l.name,s,l.once,l.capture,l.passive)):s!==c&&(c.fns=s,e[a]=c));for(a in t)r(e[a])&&(l=ko(a),n(l.name,t[a],l.capture))}function ie(e,t,o){function a(){o.apply(this,arguments),d(s.fns,a)}var s,c=e[t];r(c)?s=te([a]):i(c.fns)&&n(c.merged)?(s=c,s.fns.push(a)):s=te([c,a]),s.merged=!0,e[t]=s}function ne(e,t,n){var o=t.options.props;if(!r(o)){var a={},s=e.attrs,c=e.props;if(i(s)||i(c))for(var l in o){var u=Wn(l);oe(a,c,l,u,!0)||oe(a,s,l,u,!1)}return a}}function oe(e,t,r,n,o){if(i(t)){if(m(t,r))return e[r]=t[r],o||delete t[r],!0;if(m(t,n))return e[r]=t[n],o||delete t[n],!0}return!1}function ae(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function se(e){return a(e)?[Q(e)]:Array.isArray(e)?le(e):void 0}function ce(e){return i(e)&&i(e.text)&&o(e.isComment)}function le(e,t){var o,s,c,l=[];for(o=0;o<e.length;o++)s=e[o],r(s)||"boolean"==typeof s||(c=l[l.length-1],Array.isArray(s)?l.push.apply(l,le(s,(t||"")+"_"+o)):a(s)?ce(c)?c.text+=String(s):""!==s&&l.push(Q(s)):ce(s)&&ce(c)?l[l.length-1]=Q(c.text+s.text):(n(e._isVList)&&i(s.tag)&&r(s.key)&&i(t)&&(s.key="__vlist"+t+"_"+o+"__"),l.push(s)));return l}function ue(e,t){return e.__esModule&&e.default&&(e=e.default),s(e)?t.extend(e):e}function he(e,t,r,i,n){var o=Fo();return o.asyncFactory=e,o.asyncMeta={data:t,context:r,children:i,tag:n},o}function fe(e,t,o){if(n(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;if(n(e.loading)&&i(e.loadingComp))return e.loadingComp;if(!i(e.contexts)){var a=e.contexts=[o],c=!0,l=function(){for(var e=0,t=a.length;e<t;e++)a[e].$forceUpdate()},u=S(function(r){e.resolved=ue(r,t),c||l()}),h=S(function(t){i(e.errorComp)&&(e.error=!0,l())}),f=e(u,h);return s(f)&&("function"==typeof f.then?r(e.resolved)&&f.then(u,h):i(f.component)&&"function"==typeof f.component.then&&(f.component.then(u,h),i(f.error)&&(e.errorComp=ue(f.error,t)),i(f.loading)&&(e.loadingComp=ue(f.loading,t),0===f.delay?e.loading=!0:setTimeout(function(){r(e.resolved)&&r(e.error)&&(e.loading=!0,l())},f.delay||200)),i(f.timeout)&&setTimeout(function(){r(e.resolved)&&h(null)},f.timeout))),c=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(o)}function pe(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var r=e[t];if(i(r)&&i(r.componentOptions))return r}}function de(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&ge(e,t)}function me(e,t,r){r?Ro.$once(e,t):Ro.$on(e,t)}function ve(e,t){Ro.$off(e,t)}function ge(e,t,r){Ro=e,re(t,r||{},me,ve,e)}function ye(e,t){var r={};if(!e)return r;for(var i=[],n=0,o=e.length;n<o;n++){var a=e[n];if(a.context!==t&&a.functionalContext!==t||!a.data||null==a.data.slot)i.push(a);else{var s=a.data.slot,c=r[s]||(r[s]=[]);"template"===a.tag?c.push.apply(c,a.children):c.push(a)}}return i.every(xe)||(r.default=i),r}function xe(e){return e.isComment||" "===e.text}function be(e,t){t=t||{};for(var r=0;r<e.length;r++)Array.isArray(e[r])?be(e[r],t):t[e[r].key]=e[r].fn;return t}function we(e){var t=e.$options,r=t.parent;if(r&&!t.abstract){for(;r.$options.abstract&&r.$parent;)r=r.$parent;r.$children.push(e)}e.$parent=r,e.$root=r?r.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function _e(e,t,r){e.$el=t,e.$options.render||(e.$options.render=Fo),Ae(e,"beforeMount");var i;return i=function(){e._update(e._render(),r)},e._watcher=new Ho(e,i,w),r=!1,null==e.$vnode&&(e._isMounted=!0,Ae(e,"mounted")),e}function Me(e,t,r,i,n){var o=!!(n||e.$options._renderChildren||i.data.scopedSlots||e.$scopedSlots!==Qn);if(e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=n,e.$attrs=i.data&&i.data.attrs,e.$listeners=r,t&&e.$options.props){To.shouldConvert=!1;for(var a=e._props,s=e.$options._propKeys||[],c=0;c<s.length;c++){var l=s[c];a[l]=$(l,e.$options.props,t,e)}To.shouldConvert=!0,e.$options.propsData=t}if(r){var u=e.$options._parentListeners;e.$options._parentListeners=r,ge(e,r,u)}o&&(e.$slots=ye(n,i.context),e.$forceUpdate())}function Se(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Ce(e,t){if(t){if(e._directInactive=!1,Se(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var r=0;r<e.$children.length;r++)Ce(e.$children[r]);Ae(e,"activated")}}function Te(e,t){if(!(t&&(e._directInactive=!0,Se(e))||e._inactive)){e._inactive=!0;for(var r=0;r<e.$children.length;r++)Te(e.$children[r]);Ae(e,"deactivated")}}function Ae(e,t){var r=e.$options[t];if(r)for(var i=0,n=r.length;i<n;i++)try{r[i].call(e)}catch(r){E(r,e,t+" hook")}e._hasHookEvent&&e.$emit("hook:"+t)}function Ee(){Io=Uo.length=No.length=0,Vo={},Bo=zo=!1}function Le(){zo=!0;var e,t;for(Uo.sort(function(e,t){return e.id-t.id}),Io=0;Io<Uo.length;Io++)e=Uo[Io],t=e.id,Vo[t]=null,e.run();var r=No.slice(),i=Uo.slice();Ee(),Re(r),Pe(i),go&&Zn.devtools&&go.emit("flush")}function Pe(e){for(var t=e.length;t--;){var r=e[t],i=r.vm;i._watcher===r&&i._isMounted&&Ae(i,"updated")}}function De(e){e._inactive=!1,No.push(e)}function Re(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Ce(e[t],!0)}function Fe(e){var t=e.id;if(null==Vo[t]){if(Vo[t]=!0,zo){for(var r=Uo.length-1;r>Io&&Uo[r].id>e.id;)r--;Uo.splice(r+1,0,e)}else Uo.push(e);Bo||(Bo=!0,xo(Le))}}function ke(e){Go.clear(),Oe(e,Go)}function Oe(e,t){var r,i,n=Array.isArray(e);if((n||s(e))&&Object.isExtensible(e)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(n)for(r=e.length;r--;)Oe(e[r],t);else for(i=Object.keys(e),r=i.length;r--;)Oe(e[i[r]],t)}}function Ue(e,t,r){Wo.get=function(){return this[t][r]},Wo.set=function(e){this[t][r]=e},Object.defineProperty(e,r,Wo)}function Ne(e){e._watchers=[];var t=e.$options;t.props&&Ve(e,t.props),t.methods&&Ge(e,t.methods),t.data?Be(e):k(e._data={},!0),t.computed&&Ie(e,t.computed),t.watch&&t.watch!==uo&&We(e,t.watch)}function Ve(e,t){var r=e.$options.propsData||{},i=e._props={},n=e.$options._propKeys=[],o=!e.$parent;To.shouldConvert=o;for(var a in t)!function(o){n.push(o);var a=$(o,t,r,e);O(i,o,a),o in e||Ue(e,"_props",o)}(a);To.shouldConvert=!0}function Be(e){var t=e.$options.data;t=e._data="function"==typeof t?ze(t,e):t||{},c(t)||(t={});for(var r=Object.keys(t),i=e.$options.props,n=(e.$options.methods,r.length);n--;){var o=r[n];i&&m(i,o)||C(o)||Ue(e,"_data",o)}k(t,!0)}function ze(e,t){try{return e.call(t)}catch(e){return E(e,t,"data()"),{}}}function Ie(e,t){var r=e._computedWatchers=Object.create(null);for(var i in t){var n=t[i],o="function"==typeof n?n:n.get;r[i]=new Ho(e,o||w,w,Xo),i in e||je(e,i,n)}}function je(e,t,r){"function"==typeof r?(Wo.get=He(t),Wo.set=w):(Wo.get=r.get?!1!==r.cache?He(t):r.get:w,Wo.set=r.set?r.set:w),Object.defineProperty(e,t,Wo)}function He(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),wo.target&&t.depend(),t.value}}function Ge(e,t){e.$options.props;for(var r in t)e[r]=null==t[r]?w:g(t[r],e)}function We(e,t){for(var r in t){var i=t[r];if(Array.isArray(i))for(var n=0;n<i.length;n++)Xe(e,r,i[n]);else Xe(e,r,i)}}function Xe(e,t,r,i){return c(r)&&(i=r,r=r.handler),"string"==typeof r&&(r=e[r]),e.$watch(t,r,i)}function qe(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}function $e(e){var t=Ye(e.$options.inject,e);t&&(To.shouldConvert=!1,Object.keys(t).forEach(function(r){O(e,r,t[r])}),To.shouldConvert=!0)}function Ye(e,t){if(e){for(var r=Object.create(null),i=yo?Reflect.ownKeys(e):Object.keys(e),n=0;n<i.length;n++)for(var o=i[n],a=e[o],s=t;s;){if(s._provided&&a in s._provided){r[o]=s._provided[a];break}s=s.$parent}return r}}function Ke(e,t,r,n,o){var a={},s=e.options.props;if(i(s))for(var c in s)a[c]=$(c,s,t||{});else i(r.attrs)&&Ze(a,r.attrs),i(r.props)&&Ze(a,r.props);var l=Object.create(n),u=function(e,t,r,i){return it(l,e,t,r,i,!0)},h=e.options.render.call(null,u,{data:r,props:a,children:o,parent:n,listeners:r.on||{},injections:Ye(e.options.inject,n),slots:function(){return ye(o,n)}});return h instanceof Po&&(h.functionalContext=n,h.functionalOptions=e.options,r.slot&&((h.data||(h.data={})).slot=r.slot)),h}function Ze(e,t){for(var r in t)e[jn(r)]=t[r]}function Qe(e,t,o,a,c){if(!r(e)){var l=o.$options._base;if(s(e)&&(e=l.extend(e)),"function"==typeof e){var u;if(r(e.cid)&&(u=e,void 0===(e=fe(u,l,o))))return he(u,t,o,a,c);t=t||{},yt(e),i(t.model)&&rt(e.options,t);var h=ne(t,e,c);if(n(e.options.functional))return Ke(e,h,t,o,a);var f=t.on;if(t.on=t.nativeOn,n(e.options.abstract)){var p=t.slot;t={},p&&(t.slot=p)}et(t);var d=e.options.name||c;return new Po("vue-component-"+e.cid+(d?"-"+d:""),t,void 0,void 0,void 0,o,{Ctor:e,propsData:h,listeners:f,tag:c,children:a},u)}}}function Je(e,t,r,n){var o=e.componentOptions,a={_isComponent:!0,parent:t,propsData:o.propsData,_componentTag:o.tag,_parentVnode:e,_parentListeners:o.listeners,_renderChildren:o.children,_parentElm:r||null,_refElm:n||null},s=e.data.inlineTemplate;return i(s)&&(a.render=s.render,a.staticRenderFns=s.staticRenderFns),new o.Ctor(a)}function et(e){e.hook||(e.hook={});for(var t=0;t<$o.length;t++){var r=$o[t],i=e.hook[r],n=qo[r];e.hook[r]=i?tt(n,i):n}}function tt(e,t){return function(r,i,n,o){e(r,i,n,o),t(r,i,n,o)}}function rt(e,t){var r=e.model&&e.model.prop||"value",n=e.model&&e.model.event||"input";(t.props||(t.props={}))[r]=t.model.value;var o=t.on||(t.on={});i(o[n])?o[n]=[t.model.callback].concat(o[n]):o[n]=t.model.callback}function it(e,t,r,i,o,s){return(Array.isArray(r)||a(r))&&(o=i,i=r,r=void 0),n(s)&&(o=Ko),nt(e,t,r,i,o)}function nt(e,t,r,n,o){if(i(r)&&i(r.__ob__))return Fo();if(i(r)&&i(r.is)&&(t=r.is),!t)return Fo();Array.isArray(n)&&"function"==typeof n[0]&&(r=r||{},r.scopedSlots={default:n[0]},n.length=0),o===Ko?n=se(n):o===Yo&&(n=ae(n));var a,s;if("string"==typeof t){var c;s=Zn.getTagNamespace(t),a=Zn.isReservedTag(t)?new Po(Zn.parsePlatformTagName(t),r,n,void 0,void 0,e):i(c=q(e.$options,"components",t))?Qe(c,r,e,n,t):new Po(t,r,n,void 0,void 0,e)}else a=Qe(t,r,e,n);return i(a)?(s&&ot(a,s),a):Fo()}function ot(e,t){if(e.ns=t,"foreignObject"!==e.tag&&i(e.children))for(var n=0,o=e.children.length;n<o;n++){var a=e.children[n];i(a.tag)&&r(a.ns)&&ot(a,t)}}function at(e,t){var r,n,o,a,c;if(Array.isArray(e)||"string"==typeof e)for(r=new Array(e.length),n=0,o=e.length;n<o;n++)r[n]=t(e[n],n);else if("number"==typeof e)for(r=new Array(e),n=0;n<e;n++)r[n]=t(n+1,n);else if(s(e))for(a=Object.keys(e),r=new Array(a.length),n=0,o=a.length;n<o;n++)c=a[n],r[n]=t(e[c],c,n);return i(r)&&(r._isVList=!0),r}function st(e,t,r,i){var n=this.$scopedSlots[e];if(n)return r=r||{},i&&(r=x(x({},i),r)),n(r)||t;var o=this.$slots[e];return o||t}function ct(e){return q(this.$options,"filters",e,!0)||qn}function lt(e,t,r){var i=Zn.keyCodes[t]||r;return Array.isArray(i)?-1===i.indexOf(e):i!==e}function ut(e,t,r,i,n){if(r)if(s(r)){Array.isArray(r)&&(r=b(r));var o;for(var a in r)!function(a){if("class"===a||"style"===a||Bn(a))o=e;else{var s=e.attrs&&e.attrs.type;o=i||Zn.mustUseProp(t,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}if(!(a in o)&&(o[a]=r[a],n)){(e.on||(e.on={}))["update:"+a]=function(e){r[a]=e}}}(a)}else;return e}function ht(e,t){var r=this._staticTrees[e];return r&&!t?Array.isArray(r)?ee(r):J(r):(r=this._staticTrees[e]=this.$options.staticRenderFns[e].call(this._renderProxy),pt(r,"__static__"+e,!1),r)}function ft(e,t,r){return pt(e,"__once__"+t+(r?"_"+r:""),!0),e}function pt(e,t,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&dt(e[i],t+"_"+i,r);else dt(e,t,r)}function dt(e,t,r){e.isStatic=!0,e.key=t,e.isOnce=r}function mt(e,t){if(t)if(c(t)){var r=e.on=e.on?x({},e.on):{};for(var i in t){var n=r[i],o=t[i];r[i]=n?[].concat(o,n):o}}else;return e}function vt(e){e._vnode=null,e._staticTrees=null;var t=e.$vnode=e.$options._parentVnode,r=t&&t.context;e.$slots=ye(e.$options._renderChildren,r),e.$scopedSlots=Qn,e._c=function(t,r,i,n){return it(e,t,r,i,n,!1)},e.$createElement=function(t,r,i,n){return it(e,t,r,i,n,!0)};var i=t&&t.data;O(e,"$attrs",i&&i.attrs,null,!0),O(e,"$listeners",e.$options._parentListeners,null,!0)}function gt(e,t){var r=e.$options=Object.create(e.constructor.options);r.parent=t.parent,r.propsData=t.propsData,r._parentVnode=t._parentVnode,r._parentListeners=t._parentListeners,r._renderChildren=t._renderChildren,r._componentTag=t._componentTag,r._parentElm=t._parentElm,r._refElm=t._refElm,t.render&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns)}function yt(e){var t=e.options;if(e.super){var r=yt(e.super);if(r!==e.superOptions){e.superOptions=r;var i=xt(e);i&&x(e.extendOptions,i),t=e.options=X(r,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function xt(e){var t,r=e.options,i=e.extendOptions,n=e.sealedOptions;for(var o in r)r[o]!==n[o]&&(t||(t={}),t[o]=bt(r[o],i[o],n[o]));return t}function bt(e,t,r){if(Array.isArray(e)){var i=[];r=Array.isArray(r)?r:[r],t=Array.isArray(t)?t:[t];for(var n=0;n<e.length;n++)(t.indexOf(e[n])>=0||r.indexOf(e[n])<0)&&i.push(e[n]);return i}return e}function wt(e){this._init(e)}function _t(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var r=y(arguments,1);return r.unshift(this),"function"==typeof e.install?e.install.apply(e,r):"function"==typeof e&&e.apply(null,r),t.push(e),this}}function Mt(e){e.mixin=function(e){return this.options=X(this.options,e),this}}function St(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var r=this,i=r.cid,n=e._Ctor||(e._Ctor={});if(n[i])return n[i];var o=e.name||r.options.name,a=function(e){this._init(e)};return a.prototype=Object.create(r.prototype),a.prototype.constructor=a,a.cid=t++,a.options=X(r.options,e),a.super=r,a.options.props&&Ct(a),a.options.computed&&Tt(a),a.extend=r.extend,a.mixin=r.mixin,a.use=r.use,Yn.forEach(function(e){a[e]=r[e]}),o&&(a.options.components[o]=a),a.superOptions=r.options,a.extendOptions=e,a.sealedOptions=x({},a.options),n[i]=a,a}}function Ct(e){var t=e.options.props;for(var r in t)Ue(e.prototype,"_props",r)}function Tt(e){var t=e.options.computed;for(var r in t)je(e.prototype,r,t[r])}function At(e){Yn.forEach(function(t){e[t]=function(e,r){return r?("component"===t&&c(r)&&(r.name=r.name||e,r=this.options._base.extend(r)),"directive"===t&&"function"==typeof r&&(r={bind:r,update:r}),this.options[t+"s"][e]=r,r):this.options[t+"s"][e]}})}function Et(e){return e&&(e.Ctor.options.name||e.tag)}function Lt(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!l(e)&&e.test(t)}function Pt(e,t,r){for(var i in e){var n=e[i];if(n){var o=Et(n.componentOptions);o&&!r(o)&&(n!==t&&Dt(n),e[i]=null)}}}function Dt(e){e&&e.componentInstance.$destroy()}function Rt(e){for(var t=e.data,r=e,n=e;i(n.componentInstance);)n=n.componentInstance._vnode,n.data&&(t=Ft(n.data,t));for(;i(r=r.parent);)r.data&&(t=Ft(t,r.data));return kt(t.staticClass,t.class)}function Ft(e,t){return{staticClass:Ot(e.staticClass,t.staticClass),class:i(e.class)?[e.class,t.class]:t.class}}function kt(e,t){return i(e)||i(t)?Ot(e,Ut(t)):""}function Ot(e,t){return e?t?e+" "+t:e:t||""}function Ut(e){return Array.isArray(e)?Nt(e):s(e)?Vt(e):"string"==typeof e?e:""}function Nt(e){for(var t,r="",n=0,o=e.length;n<o;n++)i(t=Ut(e[n]))&&""!==t&&(r&&(r+=" "),r+=t);return r}function Vt(e){var t="";for(var r in e)e[r]&&(t&&(t+=" "),t+=r);return t}function Bt(e){return wa(e)?"svg":"math"===e?"math":void 0}function zt(e){if(!ro)return!0;if(Ma(e))return!1;if(e=e.toLowerCase(),null!=Sa[e])return Sa[e];var t=document.createElement(e);return e.indexOf("-")>-1?Sa[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Sa[e]=/HTMLUnknownElement/.test(t.toString())}function It(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function jt(e,t){var r=document.createElement(e);return"select"!==e?r:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&r.setAttribute("multiple","multiple"),r)}function Ht(e,t){return document.createElementNS(xa[e],t)}function Gt(e){return document.createTextNode(e)}function Wt(e){return document.createComment(e)}function Xt(e,t,r){e.insertBefore(t,r)}function qt(e,t){e.removeChild(t)}function $t(e,t){e.appendChild(t)}function Yt(e){return e.parentNode}function Kt(e){return e.nextSibling}function Zt(e){return e.tagName}function Qt(e,t){e.textContent=t}function Jt(e,t,r){e.setAttribute(t,r)}function er(e,t){var r=e.data.ref;if(r){var i=e.context,n=e.componentInstance||e.elm,o=i.$refs;t?Array.isArray(o[r])?d(o[r],n):o[r]===n&&(o[r]=void 0):e.data.refInFor?Array.isArray(o[r])?o[r].indexOf(n)<0&&o[r].push(n):o[r]=[n]:o[r]=n}}function tr(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&i(e.data)===i(t.data)&&rr(e,t)||n(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&r(t.asyncFactory.error))}function rr(e,t){if("input"!==e.tag)return!0;var r;return(i(r=e.data)&&i(r=r.attrs)&&r.type)===(i(r=t.data)&&i(r=r.attrs)&&r.type)}function ir(e,t,r){var n,o,a={};for(n=t;n<=r;++n)o=e[n].key,i(o)&&(a[o]=n);return a}function nr(e,t){(e.data.directives||t.data.directives)&&or(e,t)}function or(e,t){var r,i,n,o=e===Aa,a=t===Aa,s=ar(e.data.directives,e.context),c=ar(t.data.directives,t.context),l=[],u=[];for(r in c)i=s[r],n=c[r],i?(n.oldValue=i.value,cr(n,"update",t,e),n.def&&n.def.componentUpdated&&u.push(n)):(cr(n,"bind",t,e),n.def&&n.def.inserted&&l.push(n));if(l.length){var h=function(){for(var r=0;r<l.length;r++)cr(l[r],"inserted",t,e)};o?ie(t.data.hook||(t.data.hook={}),"insert",h):h()}if(u.length&&ie(t.data.hook||(t.data.hook={}),"postpatch",function(){for(var r=0;r<u.length;r++)cr(u[r],"componentUpdated",t,e)}),!o)for(r in s)c[r]||cr(s[r],"unbind",e,e,a)}function ar(e,t){var r=Object.create(null);if(!e)return r;var i,n;for(i=0;i<e.length;i++)n=e[i],n.modifiers||(n.modifiers=Pa),r[sr(n)]=n,n.def=q(t.$options,"directives",n.name,!0);return r}function sr(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function cr(e,t,r,i,n){var o=e.def&&e.def[t];if(o)try{o(r.elm,e,r,i,n)}catch(i){E(i,r.context,"directive "+e.name+" "+t+" hook")}}function lr(e,t){var n=t.componentOptions;if(!(i(n)&&!1===n.Ctor.options.inheritAttrs||r(e.data.attrs)&&r(t.data.attrs))){var o,a,s=t.elm,c=e.data.attrs||{},l=t.data.attrs||{};i(l.__ob__)&&(l=t.data.attrs=x({},l));for(o in l)a=l[o],c[o]!==a&&ur(s,o,a);oo&&l.value!==c.value&&ur(s,"value",l.value);for(o in c)r(l[o])&&(va(o)?s.removeAttributeNS(ma,ga(o)):pa(o)||s.removeAttribute(o))}}function ur(e,t,r){da(t)?ya(r)?e.removeAttribute(t):e.setAttribute(t,t):pa(t)?e.setAttribute(t,ya(r)||"false"===r?"false":"true"):va(t)?ya(r)?e.removeAttributeNS(ma,ga(t)):e.setAttributeNS(ma,t,r):ya(r)?e.removeAttribute(t):e.setAttribute(t,r)}function hr(e,t){var n=t.elm,o=t.data,a=e.data;if(!(r(o.staticClass)&&r(o.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=Rt(t),c=n._transitionClasses;i(c)&&(s=Ot(s,Ut(c))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}function fr(e){function t(){(a||(a=[])).push(e.slice(d,n).trim()),d=n+1}var r,i,n,o,a,s=!1,c=!1,l=!1,u=!1,h=0,f=0,p=0,d=0;for(n=0;n<e.length;n++)if(i=r,r=e.charCodeAt(n),s)39===r&&92!==i&&(s=!1);else if(c)34===r&&92!==i&&(c=!1);else if(l)96===r&&92!==i&&(l=!1);else if(u)47===r&&92!==i&&(u=!1);else if(124!==r||124===e.charCodeAt(n+1)||124===e.charCodeAt(n-1)||h||f||p){switch(r){case 34:c=!0;break;case 39:s=!0;break;case 96:l=!0;break;case 40:p++;break;case 41:p--;break;case 91:f++;break;case 93:f--;break;case 123:h++;break;case 125:h--}if(47===r){for(var m=n-1,v=void 0;m>=0&&" "===(v=e.charAt(m));m--);v&&ka.test(v)||(u=!0)}}else void 0===o?(d=n+1,o=e.slice(0,n).trim()):t();if(void 0===o?o=e.slice(0,n).trim():0!==d&&t(),a)for(n=0;n<a.length;n++)o=pr(o,a[n]);return o}function pr(e,t){var r=t.indexOf("(");return r<0?'_f("'+t+'")('+e+")":'_f("'+t.slice(0,r)+'")('+e+","+t.slice(r+1)}function dr(e){console.error("[Vue compiler]: "+e)}function mr(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function vr(e,t,r){(e.props||(e.props=[])).push({name:t,value:r})}function gr(e,t,r){(e.attrs||(e.attrs=[])).push({name:t,value:r})}function yr(e,t,r,i,n,o){(e.directives||(e.directives=[])).push({name:t,rawName:r,value:i,arg:n,modifiers:o})}function xr(e,t,r,i,n,o){i&&i.capture&&(delete i.capture,t="!"+t),i&&i.once&&(delete i.once,t="~"+t),i&&i.passive&&(delete i.passive,t="&"+t);var a;i&&i.native?(delete i.native,a=e.nativeEvents||(e.nativeEvents={})):a=e.events||(e.events={});var s={value:r,modifiers:i},c=a[t];Array.isArray(c)?n?c.unshift(s):c.push(s):a[t]=c?n?[s,c]:[c,s]:s}function br(e,t,r){var i=wr(e,":"+t)||wr(e,"v-bind:"+t);if(null!=i)return fr(i);if(!1!==r){var n=wr(e,t);if(null!=n)return JSON.stringify(n)}}function wr(e,t){var r;if(null!=(r=e.attrsMap[t]))for(var i=e.attrsList,n=0,o=i.length;n<o;n++)if(i[n].name===t){i.splice(n,1);break}return r}function _r(e,t,r){var i=r||{},n=i.number,o=i.trim,a="$$v";o&&(a="(typeof $$v === 'string'? $$v.trim(): $$v)"),n&&(a="_n("+a+")");var s=Mr(t,a);e.model={value:"("+t+")",expression:'"'+t+'"',callback:"function ($$v) {"+s+"}"}}function Mr(e,t){var r=Sr(e);return null===r.idx?e+"="+t:"$set("+r.exp+", "+r.idx+", "+t+")"}function Sr(e){if(ra=e,ta=ra.length,na=oa=aa=0,e.indexOf("[")<0||e.lastIndexOf("]")<ta-1)return{exp:e,idx:null};for(;!Tr();)ia=Cr(),Ar(ia)?Lr(ia):91===ia&&Er(ia);return{exp:e.substring(0,oa),idx:e.substring(oa+1,aa)}}function Cr(){return ra.charCodeAt(++na)}function Tr(){return na>=ta}function Ar(e){return 34===e||39===e}function Er(e){var t=1;for(oa=na;!Tr();)if(e=Cr(),Ar(e))Lr(e);else if(91===e&&t++,93===e&&t--,0===t){aa=na;break}}function Lr(e){for(var t=e;!Tr()&&(e=Cr())!==t;);}function Pr(e,t,r){sa=r;var i=t.value,n=t.modifiers,o=e.tag,a=e.attrsMap.type;if(e.component)return _r(e,i,n),!1;if("select"===o)Fr(e,i,n);else if("input"===o&&"checkbox"===a)Dr(e,i,n);else if("input"===o&&"radio"===a)Rr(e,i,n);else if("input"===o||"textarea"===o)kr(e,i,n);else if(!Zn.isReservedTag(o))return _r(e,i,n),!1;return!0}function Dr(e,t,r){var i=r&&r.number,n=br(e,"value")||"null",o=br(e,"true-value")||"true",a=br(e,"false-value")||"false";vr(e,"checked","Array.isArray("+t+")?_i("+t+","+n+")>-1"+("true"===o?":("+t+")":":_q("+t+","+o+")")),xr(e,Ua,"var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+a+");if(Array.isArray($$a)){var $$v="+(i?"_n("+n+")":n)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+t+"=$$a.concat($$v))}else{$$i>-1&&("+t+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{"+Mr(t,"$$c")+"}",null,!0)}function Rr(e,t,r){var i=r&&r.number,n=br(e,"value")||"null";n=i?"_n("+n+")":n,vr(e,"checked","_q("+t+","+n+")"),xr(e,Ua,Mr(t,n),null,!0)}function Fr(e,t,r){var i=r&&r.number,n='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(i?"_n(val)":"val")+"})",o="var $$selectedVal = "+n+";";o=o+" "+Mr(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),xr(e,"change",o,null,!0)}function kr(e,t,r){var i=e.attrsMap.type,n=r||{},o=n.lazy,a=n.number,s=n.trim,c=!o&&"range"!==i,l=o?"change":"range"===i?Oa:"input",u="$event.target.value";s&&(u="$event.target.value.trim()"),a&&(u="_n("+u+")");var h=Mr(t,u);c&&(h="if($event.target.composing)return;"+h),vr(e,"value","("+t+")"),xr(e,l,h,null,!0),(s||a)&&xr(e,"blur","$forceUpdate()")}function Or(e){var t;i(e[Oa])&&(t=no?"change":"input",e[t]=[].concat(e[Oa],e[t]||[]),delete e[Oa]),i(e[Ua])&&(t=lo?"click":"change",e[t]=[].concat(e[Ua],e[t]||[]),delete e[Ua])}function Ur(e,t,r,i,n){if(r){var o=t,a=ca;t=function(r){null!==(1===arguments.length?o(r):o.apply(null,arguments))&&Nr(e,t,i,a)}}ca.addEventListener(e,t,ho?{capture:i,passive:n}:i)}function Nr(e,t,r,i){(i||ca).removeEventListener(e,t,r)}function Vr(e,t){if(!r(e.data.on)||!r(t.data.on)){var i=t.data.on||{},n=e.data.on||{};ca=t.elm,Or(i),re(i,n,Ur,Nr,t.context)}}function Br(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,o,a=t.elm,s=e.data.domProps||{},c=t.data.domProps||{};i(c.__ob__)&&(c=t.data.domProps=x({},c));for(n in s)r(c[n])&&(a[n]="");for(n in c)if(o=c[n],"textContent"!==n&&"innerHTML"!==n||(t.children&&(t.children.length=0),o!==s[n]))if("value"===n){a._value=o;var l=r(o)?"":String(o);zr(a,t,l)&&(a.value=l)}else a[n]=o}}function zr(e,t,r){return!e.composing&&("option"===t.tag||Ir(e,r)||jr(e,r))}function Ir(e,t){var r=!0;try{r=document.activeElement!==e}catch(e){}return r&&e.value!==t}function jr(e,t){var r=e.value,n=e._vModifiers;return i(n)&&n.number?f(r)!==f(t):i(n)&&n.trim?r.trim()!==t.trim():r!==t}function Hr(e){var t=Gr(e.style);return e.staticStyle?x(e.staticStyle,t):t}function Gr(e){return Array.isArray(e)?b(e):"string"==typeof e?Ba(e):e}function Wr(e,t){var r,i={};if(t)for(var n=e;n.componentInstance;)n=n.componentInstance._vnode,n.data&&(r=Hr(n.data))&&x(i,r);(r=Hr(e.data))&&x(i,r);for(var o=e;o=o.parent;)o.data&&(r=Hr(o.data))&&x(i,r);return i}function Xr(e,t){var n=t.data,o=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var a,s,c=t.elm,l=o.staticStyle,u=o.normalizedStyle||o.style||{},h=l||u,f=Gr(t.data.style)||{};t.data.normalizedStyle=i(f.__ob__)?x({},f):f;var p=Wr(t,!0);for(s in h)r(p[s])&&ja(c,s,"");for(s in p)(a=p[s])!==h[s]&&ja(c,s,null==a?"":a)}}function qr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var r=" "+(e.getAttribute("class")||"")+" ";r.indexOf(" "+t+" ")<0&&e.setAttribute("class",(r+t).trim())}}function $r(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var r=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";r.indexOf(i)>=0;)r=r.replace(i," ");r=r.trim(),r?e.setAttribute("class",r):e.removeAttribute("class")}}function Yr(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&x(t,Xa(e.name||"v")),x(t,e),t}return"string"==typeof e?Xa(e):void 0}}function Kr(e){es(function(){es(e)})}function Zr(e,t){var r=e._transitionClasses||(e._transitionClasses=[]);r.indexOf(t)<0&&(r.push(t),qr(e,t))}function Qr(e,t){e._transitionClasses&&d(e._transitionClasses,t),$r(e,t)}function Jr(e,t,r){var i=ei(e,t),n=i.type,o=i.timeout,a=i.propCount;if(!n)return r();var s=n===$a?Za:Ja,c=0,l=function(){e.removeEventListener(s,u),r()},u=function(t){t.target===e&&++c>=a&&l()};setTimeout(function(){c<a&&l()},o+1),e.addEventListener(s,u)}function ei(e,t){var r,i=window.getComputedStyle(e),n=i[Ka+"Delay"].split(", "),o=i[Ka+"Duration"].split(", "),a=ti(n,o),s=i[Qa+"Delay"].split(", "),c=i[Qa+"Duration"].split(", "),l=ti(s,c),u=0,h=0;return t===$a?a>0&&(r=$a,u=a,h=o.length):t===Ya?l>0&&(r=Ya,u=l,h=c.length):(u=Math.max(a,l),r=u>0?a>l?$a:Ya:null,h=r?r===$a?o.length:c.length:0),{type:r,timeout:u,propCount:h,hasTransform:r===$a&&ts.test(i[Ka+"Property"])}}function ti(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,r){return ri(t)+ri(e[r])}))}function ri(e){return 1e3*Number(e.slice(0,-1))}function ii(e,t){var n=e.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=Yr(e.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){for(var a=o.css,c=o.type,l=o.enterClass,u=o.enterToClass,h=o.enterActiveClass,p=o.appearClass,d=o.appearToClass,m=o.appearActiveClass,v=o.beforeEnter,g=o.enter,y=o.afterEnter,x=o.enterCancelled,b=o.beforeAppear,w=o.appear,_=o.afterAppear,M=o.appearCancelled,C=o.duration,T=Oo,A=Oo.$vnode;A&&A.parent;)A=A.parent,T=A.context;var E=!T._isMounted||!e.isRootInsert;if(!E||w||""===w){var L=E&&p?p:l,P=E&&m?m:h,D=E&&d?d:u,R=E?b||v:v,F=E&&"function"==typeof w?w:g,k=E?_||y:y,O=E?M||x:x,U=f(s(C)?C.enter:C),N=!1!==a&&!oo,V=ai(F),B=n._enterCb=S(function(){N&&(Qr(n,D),Qr(n,P)),B.cancelled?(N&&Qr(n,L),O&&O(n)):k&&k(n),n._enterCb=null});e.data.show||ie(e.data.hook||(e.data.hook={}),"insert",function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),F&&F(n,B)}),R&&R(n),N&&(Zr(n,L),Zr(n,P),Kr(function(){Zr(n,D),Qr(n,L),B.cancelled||V||(oi(U)?setTimeout(B,U):Jr(n,c,B))})),e.data.show&&(t&&t(),F&&F(n,B)),N||V||B()}}}function ni(e,t){function n(){M.cancelled||(e.data.show||((o.parentNode._pending||(o.parentNode._pending={}))[e.key]=e),d&&d(o),b&&(Zr(o,u),Zr(o,p),Kr(function(){Zr(o,h),Qr(o,u),M.cancelled||w||(oi(_)?setTimeout(M,_):Jr(o,l,M))})),m&&m(o,M),b||w||M())}var o=e.elm;i(o._enterCb)&&(o._enterCb.cancelled=!0,o._enterCb());var a=Yr(e.data.transition);if(r(a))return t();if(!i(o._leaveCb)&&1===o.nodeType){var c=a.css,l=a.type,u=a.leaveClass,h=a.leaveToClass,p=a.leaveActiveClass,d=a.beforeLeave,m=a.leave,v=a.afterLeave,g=a.leaveCancelled,y=a.delayLeave,x=a.duration,b=!1!==c&&!oo,w=ai(m),_=f(s(x)?x.leave:x),M=o._leaveCb=S(function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[e.key]=null),b&&(Qr(o,h),Qr(o,p)),M.cancelled?(b&&Qr(o,u),g&&g(o)):(t(),v&&v(o)),o._leaveCb=null});y?y(n):n()}}function oi(e){return"number"==typeof e&&!isNaN(e)}function ai(e){if(r(e))return!1;var t=e.fns;return i(t)?ai(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function si(e,t){!0!==t.data.show&&ii(t)}function ci(e,t,r){var i=t.value,n=e.multiple;if(!n||Array.isArray(i)){for(var o,a,s=0,c=e.options.length;s<c;s++)if(a=e.options[s],n)o=M(i,li(a))>-1,a.selected!==o&&(a.selected=o);else if(_(li(a),i))return void(e.selectedIndex!==s&&(e.selectedIndex=s));n||(e.selectedIndex=-1)}}function li(e){return"_value"in e?e._value:e.value}function ui(e){e.target.composing=!0}function hi(e){e.target.composing&&(e.target.composing=!1,fi(e.target,"input"))}function fi(e,t){var r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}function pi(e){return!e.componentInstance||e.data&&e.data.transition?e:pi(e.componentInstance._vnode)}function di(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?di(pe(t.children)):e}function mi(e){var t={},r=e.$options;for(var i in r.propsData)t[i]=e[i];var n=r._parentListeners;for(var o in n)t[jn(o)]=n[o];return t}function vi(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function gi(e){for(;e=e.parent;)if(e.data.transition)return!0}function yi(e,t){return t.key===e.key&&t.tag===e.tag}function xi(e){return e.isComment&&e.asyncFactory}function bi(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function wi(e){e.data.newPos=e.elm.getBoundingClientRect()}function _i(e){var t=e.data.pos,r=e.data.newPos,i=t.left-r.left,n=t.top-r.top;if(i||n){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+n+"px)",o.transitionDuration="0s"}}function Mi(e,t){var r=t?xs(t):gs;if(r.test(e)){for(var i,n,o=[],a=r.lastIndex=0;i=r.exec(e);){n=i.index,n>a&&o.push(JSON.stringify(e.slice(a,n)));var s=fr(i[1].trim());o.push("_s("+s+")"),a=n+i[0].length}return a<e.length&&o.push(JSON.stringify(e.slice(a))),o.join("+")}}function Si(e,t){var r=(t.warn,wr(e,"class"));r&&(e.staticClass=JSON.stringify(r));var i=br(e,"class",!1);i&&(e.classBinding=i)}function Ci(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}function Ti(e,t){var r=(t.warn,wr(e,"style"));if(r){e.staticStyle=JSON.stringify(Ba(r))}var i=br(e,"style",!1);i&&(e.styleBinding=i)}function Ai(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}function Ei(e,t){t.value&&vr(e,"textContent","_s("+t.value+")")}function Li(e,t){t.value&&vr(e,"innerHTML","_s("+t.value+")")}function Pi(e,t){var r=t?rc:tc;return e.replace(r,function(e){return ec[e]})}function Di(e,t){function r(t){u+=t,e=e.substring(t)}function i(e,r,i){var n,s;if(null==r&&(r=u),null==i&&(i=u),e&&(s=e.toLowerCase()),e)for(n=a.length-1;n>=0&&a[n].lowerCasedTag!==s;n--);else n=0;if(n>=0){for(var c=a.length-1;c>=n;c--)t.end&&t.end(a[c].tag,r,i);a.length=n,o=n&&a[n-1].tag}else"br"===s?t.start&&t.start(e,[],!0,r,i):"p"===s&&(t.start&&t.start(e,[],!1,r,i),t.end&&t.end(e,r,i))}for(var n,o,a=[],s=t.expectHTML,c=t.isUnaryTag||Xn,l=t.canBeLeftOpenTag||Xn,u=0;e;){if(n=e,o&&Qs(o)){var h=0,f=o.toLowerCase(),p=Js[f]||(Js[f]=new RegExp("([\\s\\S]*?)(</"+f+"[^>]*>)","i")),d=e.replace(p,function(e,r,i){return h=i.length,Qs(f)||"noscript"===f||(r=r.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),nc(f,r)&&(r=r.slice(1)),t.chars&&t.chars(r),""});u+=e.length-d.length,e=d,i(f,u-h,u)}else{var m=e.indexOf("<");if(0===m){if(Bs.test(e)){var v=e.indexOf("--\x3e");if(v>=0){t.shouldKeepComment&&t.comment(e.substring(4,v)),r(v+3);continue}}if(zs.test(e)){var g=e.indexOf("]>");if(g>=0){r(g+2);continue}}var y=e.match(Vs);if(y){r(y[0].length);continue}var x=e.match(Ns);if(x){var b=u;r(x[0].length),i(x[1],b,u);continue}var w=function(){var t=e.match(Os);if(t){var i={tagName:t[1],attrs:[],start:u};r(t[0].length);for(var n,o;!(n=e.match(Us))&&(o=e.match(Rs));)r(o[0].length),i.attrs.push(o);if(n)return i.unarySlash=n[1],r(n[0].length),i.end=u,i}}();if(w){!function(e){var r=e.tagName,n=e.unarySlash;s&&("p"===o&&Ts(r)&&i(o),l(r)&&o===r&&i(r));for(var u=c(r)||!!n,h=e.attrs.length,f=new Array(h),p=0;p<h;p++){var d=e.attrs[p];Is&&-1===d[0].indexOf('""')&&(""===d[3]&&delete d[3],""===d[4]&&delete d[4],""===d[5]&&delete d[5]);var m=d[3]||d[4]||d[5]||"";f[p]={name:d[1],value:Pi(m,t.shouldDecodeNewlines)}}u||(a.push({tag:r,lowerCasedTag:r.toLowerCase(),attrs:f}),o=r),t.start&&t.start(r,f,u,e.start,e.end)}(w),nc(o,e)&&r(1);continue}}var _=void 0,M=void 0,S=void 0;if(m>=0){for(M=e.slice(m);!(Ns.test(M)||Os.test(M)||Bs.test(M)||zs.test(M)||(S=M.indexOf("<",1))<0);)m+=S,M=e.slice(m);_=e.substring(0,m),r(m)}m<0&&(_=e,e=""),t.chars&&_&&t.chars(_)}if(e===n){t.chars&&t.chars(e);break}}i()}function Ri(e,t){function r(e){e.pre&&(s=!1),qs(e.tag)&&(c=!1)}js=t.warn||dr,qs=t.isPreTag||Xn,$s=t.mustUseProp||Xn,Ys=t.getTagNamespace||Xn,Gs=mr(t.modules,"transformNode"),Ws=mr(t.modules,"preTransformNode"),Xs=mr(t.modules,"postTransformNode"),Hs=t.delimiters;var i,n,o=[],a=!1!==t.preserveWhitespace,s=!1,c=!1;return Di(e,{warn:js,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldKeepComment:t.comments,start:function(e,a,l){var u=n&&n.ns||Ys(e);no&&"svg"===u&&(a=Zi(a));var h={type:1,tag:e,attrsList:a,attrsMap:$i(a),parent:n,children:[]};u&&(h.ns=u),Ki(h)&&!vo()&&(h.forbidden=!0);for(var f=0;f<Ws.length;f++)Ws[f](h,t);if(s||(Fi(h),h.pre&&(s=!0)),qs(h.tag)&&(c=!0),s)ki(h);else{Ni(h),Vi(h),ji(h),Oi(h),h.plain=!h.key&&!a.length,Ui(h),Hi(h),Gi(h);for(var p=0;p<Gs.length;p++)Gs[p](h,t);Wi(h)}if(i?o.length||i.if&&(h.elseif||h.else)&&Ii(i,{exp:h.elseif,block:h}):i=h,n&&!h.forbidden)if(h.elseif||h.else)Bi(h,n);else if(h.slotScope){n.plain=!1;var d=h.slotTarget||'"default"';(n.scopedSlots||(n.scopedSlots={}))[d]=h}else n.children.push(h),h.parent=n;l?r(h):(n=h,o.push(h));for(var m=0;m<Xs.length;m++)Xs[m](h,t)},end:function(){var e=o[o.length-1],t=e.children[e.children.length-1];t&&3===t.type&&" "===t.text&&!c&&e.children.pop(),o.length-=1,n=o[o.length-1],r(e)},chars:function(e){if(n&&(!no||"textarea"!==n.tag||n.attrsMap.placeholder!==e)){var t=n.children;if(e=c||e.trim()?Yi(n)?e:fc(e):a&&t.length?" ":""){var r;!s&&" "!==e&&(r=Mi(e,Hs))?t.push({type:2,expression:r,text:e}):" "===e&&t.length&&" "===t[t.length-1].text||t.push({type:3,text:e})}}},comment:function(e){n.children.push({type:3,text:e,isComment:!0})}}),i}function Fi(e){null!=wr(e,"v-pre")&&(e.pre=!0)}function ki(e){var t=e.attrsList.length;if(t)for(var r=e.attrs=new Array(t),i=0;i<t;i++)r[i]={name:e.attrsList[i].name,value:JSON.stringify(e.attrsList[i].value)};else e.pre||(e.plain=!0)}function Oi(e){var t=br(e,"key");t&&(e.key=t)}function Ui(e){var t=br(e,"ref");t&&(e.ref=t,e.refInFor=Xi(e))}function Ni(e){var t;if(t=wr(e,"v-for")){var r=t.match(sc);if(!r)return;e.for=r[2].trim();var i=r[1].trim(),n=i.match(cc);n?(e.alias=n[1].trim(),e.iterator1=n[2].trim(),n[3]&&(e.iterator2=n[3].trim())):e.alias=i}}function Vi(e){var t=wr(e,"v-if");if(t)e.if=t,Ii(e,{exp:t,block:e});else{null!=wr(e,"v-else")&&(e.else=!0);var r=wr(e,"v-else-if");r&&(e.elseif=r)}}function Bi(e,t){var r=zi(t.children);r&&r.if&&Ii(r,{exp:e.elseif,block:e})}function zi(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];e.pop()}}function Ii(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function ji(e){null!=wr(e,"v-once")&&(e.once=!0)}function Hi(e){if("slot"===e.tag)e.slotName=br(e,"name");else{var t=br(e,"slot");t&&(e.slotTarget='""'===t?'"default"':t),"template"===e.tag&&(e.slotScope=wr(e,"scope"))}}function Gi(e){var t;(t=br(e,"is"))&&(e.component=t),null!=wr(e,"inline-template")&&(e.inlineTemplate=!0)}function Wi(e){var t,r,i,n,o,a,s,c=e.attrsList;for(t=0,r=c.length;t<r;t++)if(i=n=c[t].name,o=c[t].value,ac.test(i))if(e.hasBindings=!0,a=qi(i),a&&(i=i.replace(hc,"")),uc.test(i))i=i.replace(uc,""),o=fr(o),s=!1,a&&(a.prop&&(s=!0,"innerHtml"===(i=jn(i))&&(i="innerHTML")),a.camel&&(i=jn(i)),a.sync&&xr(e,"update:"+jn(i),Mr(o,"$event"))),s||!e.component&&$s(e.tag,e.attrsMap.type,i)?vr(e,i,o):gr(e,i,o);else if(oc.test(i))i=i.replace(oc,""),xr(e,i,o,a,!1,js);else{i=i.replace(ac,"");var l=i.match(lc),u=l&&l[1];u&&(i=i.slice(0,-(u.length+1))),yr(e,i,n,o,u,a)}else{gr(e,i,JSON.stringify(o))}}function Xi(e){for(var t=e;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}function qi(e){var t=e.match(hc);if(t){var r={};return t.forEach(function(e){r[e.slice(1)]=!0}),r}}function $i(e){for(var t={},r=0,i=e.length;r<i;r++)t[e[r].name]=e[r].value;return t}function Yi(e){return"script"===e.tag||"style"===e.tag}function Ki(e){return"style"===e.tag||"script"===e.tag&&(!e.attrsMap.type||"text/javascript"===e.attrsMap.type)}function Zi(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];pc.test(i.name)||(i.name=i.name.replace(dc,""),t.push(i))}return t}function Qi(e,t){e&&(Ks=mc(t.staticKeys||""),Zs=t.isReservedTag||Xn,en(e),tn(e,!1))}function Ji(e){return p("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(e?","+e:""))}function en(e){if(e.static=rn(e),1===e.type){if(!Zs(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var t=0,r=e.children.length;t<r;t++){var i=e.children[t];en(i),i.static||(e.static=!1)}if(e.ifConditions)for(var n=1,o=e.ifConditions.length;n<o;n++){var a=e.ifConditions[n].block;en(a),a.static||(e.static=!1)}}}function tn(e,t){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=t),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var r=0,i=e.children.length;r<i;r++)tn(e.children[r],t||!!e.for);if(e.ifConditions)for(var n=1,o=e.ifConditions.length;n<o;n++)tn(e.ifConditions[n].block,t)}}function rn(e){return 2!==e.type&&(3===e.type||!(!e.pre&&(e.hasBindings||e.if||e.for||Vn(e.tag)||!Zs(e.tag)||nn(e)||!Object.keys(e).every(Ks))))}function nn(e){for(;e.parent;){if(e=e.parent,"template"!==e.tag)return!1;if(e.for)return!0}return!1}function on(e,t,r){var i=t?"nativeOn:{":"on:{";for(var n in e){i+='"'+n+'":'+an(n,e[n])+","}return i.slice(0,-1)+"}"}function an(e,t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map(function(t){return an(e,t)}).join(",")+"]";var r=gc.test(t.value),i=vc.test(t.value);if(t.modifiers){var n="",o="",a=[];for(var s in t.modifiers)bc[s]?(o+=bc[s],yc[s]&&a.push(s)):a.push(s);a.length&&(n+=sn(a)),o&&(n+=o);return"function($event){"+n+(r?t.value+"($event)":i?"("+t.value+")($event)":t.value)+"}"}return r||i?t.value:"function($event){"+t.value+"}"}function sn(e){return"if(!('button' in $event)&&"+e.map(cn).join("&&")+")return null;"}function cn(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var r=yc[e];return"_k($event.keyCode,"+JSON.stringify(e)+(r?","+JSON.stringify(r):"")+")"}function ln(e,t){e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}}function un(e,t){e.wrapData=function(r){return"_b("+r+",'"+e.tag+"',"+t.value+","+(t.modifiers&&t.modifiers.prop?"true":"false")+(t.modifiers&&t.modifiers.sync?",true":"")+")"}}function hn(e,t){var r=new _c(t);return{render:"with(this){return "+(e?fn(e,r):'_c("div")')+"}",staticRenderFns:r.staticRenderFns}}function fn(e,t){if(e.staticRoot&&!e.staticProcessed)return pn(e,t);if(e.once&&!e.onceProcessed)return dn(e,t);if(e.for&&!e.forProcessed)return gn(e,t);if(e.if&&!e.ifProcessed)return mn(e,t);if("template"!==e.tag||e.slotTarget){if("slot"===e.tag)return Pn(e,t);var r;if(e.component)r=Dn(e.component,e,t);else{var i=e.plain?void 0:yn(e,t),n=e.inlineTemplate?null:Sn(e,t,!0);r="_c('"+e.tag+"'"+(i?","+i:"")+(n?","+n:"")+")"}for(var o=0;o<t.transforms.length;o++)r=t.transforms[o](e,r);return r}return Sn(e,t)||"void 0"}function pn(e,t){return e.staticProcessed=!0,t.staticRenderFns.push("with(this){return "+fn(e,t)+"}"),"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function dn(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return mn(e,t);if(e.staticInFor){for(var r="",i=e.parent;i;){if(i.for){r=i.key;break}i=i.parent}return r?"_o("+fn(e,t)+","+t.onceId+++(r?","+r:"")+")":fn(e,t)}return pn(e,t)}function mn(e,t,r,i){return e.ifProcessed=!0,vn(e.ifConditions.slice(),t,r,i)}function vn(e,t,r,i){function n(e){return r?r(e,t):e.once?dn(e,t):fn(e,t)}if(!e.length)return i||"_e()";var o=e.shift();return o.exp?"("+o.exp+")?"+n(o.block)+":"+vn(e,t,r,i):""+n(o.block)}function gn(e,t,r,i){var n=e.for,o=e.alias,a=e.iterator1?","+e.iterator1:"",s=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,(i||"_l")+"(("+n+"),function("+o+a+s+"){return "+(r||fn)(e,t)+"})"}function yn(e,t){var r="{",i=xn(e,t);i&&(r+=i+","),e.key&&(r+="key:"+e.key+","),e.ref&&(r+="ref:"+e.ref+","),e.refInFor&&(r+="refInFor:true,"),e.pre&&(r+="pre:true,"),e.component&&(r+='tag:"'+e.tag+'",');for(var n=0;n<t.dataGenFns.length;n++)r+=t.dataGenFns[n](e);if(e.attrs&&(r+="attrs:{"+Rn(e.attrs)+"},"),e.props&&(r+="domProps:{"+Rn(e.props)+"},"),e.events&&(r+=on(e.events,!1,t.warn)+","),e.nativeEvents&&(r+=on(e.nativeEvents,!0,t.warn)+","),e.slotTarget&&(r+="slot:"+e.slotTarget+","),e.scopedSlots&&(r+=wn(e.scopedSlots,t)+","),e.model&&(r+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var o=bn(e,t);o&&(r+=o+",")}return r=r.replace(/,$/,"")+"}",e.wrapData&&(r=e.wrapData(r)),e.wrapListeners&&(r=e.wrapListeners(r)),r}function xn(e,t){var r=e.directives;if(r){var i,n,o,a,s="directives:[",c=!1;for(i=0,n=r.length;i<n;i++){o=r[i],a=!0;var l=t.directives[o.name];l&&(a=!!l(e,o,t.warn)),a&&(c=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?',arg:"'+o.arg+'"':"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}return c?s.slice(0,-1)+"]":void 0}}function bn(e,t){var r=e.children[0];if(1===r.type){var i=hn(r,t.options);return"inlineTemplate:{render:function(){"+i.render+"},staticRenderFns:["+i.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}}function wn(e,t){return"scopedSlots:_u(["+Object.keys(e).map(function(r){return _n(r,e[r],t)}).join(",")+"])"}function _n(e,t,r){return t.for&&!t.forProcessed?Mn(e,t,r):"{key:"+e+",fn:function("+String(t.attrsMap.scope)+"){return "+("template"===t.tag?Sn(t,r)||"void 0":fn(t,r))+"}}"}function Mn(e,t,r){var i=t.for,n=t.alias,o=t.iterator1?","+t.iterator1:"",a=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,"_l(("+i+"),function("+n+o+a+"){return "+_n(e,t,r)+"})"}function Sn(e,t,r,i,n){var o=e.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag)return(i||fn)(a,t);var s=r?Cn(o,t.maybeComponent):0,c=n||An;return"["+o.map(function(e){return c(e,t)}).join(",")+"]"+(s?","+s:"")}}function Cn(e,t){for(var r=0,i=0;i<e.length;i++){var n=e[i];if(1===n.type){if(Tn(n)||n.ifConditions&&n.ifConditions.some(function(e){return Tn(e.block)})){r=2;break}(t(n)||n.ifConditions&&n.ifConditions.some(function(e){return t(e.block)}))&&(r=1)}}return r}function Tn(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function An(e,t){return 1===e.type?fn(e,t):3===e.type&&e.isComment?Ln(e):En(e)}function En(e){return"_v("+(2===e.type?e.expression:Fn(JSON.stringify(e.text)))+")"}function Ln(e){return"_e("+JSON.stringify(e.text)+")"}function Pn(e,t){var r=e.slotName||'"default"',i=Sn(e,t),n="_t("+r+(i?","+i:""),o=e.attrs&&"{"+e.attrs.map(function(e){return jn(e.name)+":"+e.value}).join(",")+"}",a=e.attrsMap["v-bind"];return!o&&!a||i||(n+=",null"),o&&(n+=","+o),a&&(n+=(o?"":",null")+","+a),n+")"}function Dn(e,t,r){var i=t.inlineTemplate?null:Sn(t,r,!0);return"_c("+e+","+yn(t,r)+(i?","+i:"")+")"}function Rn(e){for(var t="",r=0;r<e.length;r++){var i=e[r];t+='"'+i.name+'":'+Fn(i.value)+","}return t.slice(0,-1)}function Fn(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function kn(e,t){try{return new Function(e)}catch(r){return t.push({err:r,code:e}),w}}function On(e){var t=Object.create(null);return function(r,i,n){i=i||{};var o=i.delimiters?String(i.delimiters)+r:r;if(t[o])return t[o];var a=e(r,i),s={},c=[];return s.render=kn(a.render,c),s.staticRenderFns=a.staticRenderFns.map(function(e){return kn(e,c)}),t[o]=s}}function Un(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}var Nn=Object.prototype.toString,Vn=p("slot,component",!0),Bn=p("key,ref,slot,is"),zn=Object.prototype.hasOwnProperty,In=/-(\w)/g,jn=v(function(e){return e.replace(In,function(e,t){return t?t.toUpperCase():""})}),Hn=v(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),Gn=/([^-])([A-Z])/g,Wn=v(function(e){return e.replace(Gn,"$1-$2").replace(Gn,"$1-$2").toLowerCase()}),Xn=function(e,t,r){return!1},qn=function(e){return e},$n="data-server-rendered",Yn=["component","directive","filter"],Kn=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],Zn={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Xn,isReservedAttr:Xn,isUnknownElement:Xn,getTagNamespace:w,parsePlatformTagName:qn,mustUseProp:Xn,_lifecycleHooks:Kn},Qn=Object.freeze({}),Jn=/[^\w.$]/,eo=w,to="__proto__"in{},ro="undefined"!=typeof window,io=ro&&window.navigator.userAgent.toLowerCase(),no=io&&/msie|trident/.test(io),oo=io&&io.indexOf("msie 9.0")>0,ao=io&&io.indexOf("edge/")>0,so=io&&io.indexOf("android")>0,co=io&&/iphone|ipad|ipod|ios/.test(io),lo=io&&/chrome\/\d+/.test(io)&&!ao,uo={}.watch,ho=!1;if(ro)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){ho=!0}}),window.addEventListener("test-passive",null,fo)}catch(e){}var po,mo,vo=function(){return void 0===po&&(po=!ro&&void 0!==e&&"server"===e.process.env.VUE_ENV),po},go=ro&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,yo="undefined"!=typeof Symbol&&L(Symbol)&&"undefined"!=typeof Reflect&&L(Reflect.ownKeys),xo=function(){function e(){i=!1;var e=r.slice(0);r.length=0;for(var t=0;t<e.length;t++)e[t]()}var t,r=[],i=!1;if("undefined"!=typeof Promise&&L(Promise)){var n=Promise.resolve(),o=function(e){console.error(e)};t=function(){n.then(e).catch(o),co&&setTimeout(w)}}else if("undefined"==typeof MutationObserver||!L(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())t=function(){setTimeout(e,0)};else{var a=1,s=new MutationObserver(e),c=document.createTextNode(String(a));s.observe(c,{characterData:!0}),t=function(){a=(a+1)%2,c.data=String(a)}}return function(e,n){var o;if(r.push(function(){if(e)try{e.call(n)}catch(e){E(e,n,"nextTick")}else o&&o(n)}),i||(i=!0,t()),!e&&"undefined"!=typeof Promise)return new Promise(function(e,t){o=e})}}();mo="undefined"!=typeof Set&&L(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var bo=0,wo=function(){this.id=bo++,this.subs=[]};wo.prototype.addSub=function(e){this.subs.push(e)},wo.prototype.removeSub=function(e){d(this.subs,e)},wo.prototype.depend=function(){wo.target&&wo.target.addDep(this)},wo.prototype.notify=function(){for(var e=this.subs.slice(),t=0,r=e.length;t<r;t++)e[t].update()},wo.target=null;var _o=[],Mo=Array.prototype,So=Object.create(Mo);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=Mo[e];T(So,e,function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];var n,o=t.apply(this,r),a=this.__ob__;switch(e){case"push":case"unshift":n=r;break;case"splice":n=r.slice(2)}return n&&a.observeArray(n),a.dep.notify(),o})});var Co=Object.getOwnPropertyNames(So),To={shouldConvert:!0},Ao=function(e){if(this.value=e,this.dep=new wo,this.vmCount=0,T(e,"__ob__",this),Array.isArray(e)){(to?R:F)(e,So,Co),this.observeArray(e)}else this.walk(e)};Ao.prototype.walk=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)O(e,t[r],e[t[r]])},Ao.prototype.observeArray=function(e){for(var t=0,r=e.length;t<r;t++)k(e[t])};var Eo=Zn.optionMergeStrategies;Eo.data=function(e,t,r){return r?z(e,t,r):t&&"function"!=typeof t?e:z.call(this,e,t)},Kn.forEach(function(e){Eo[e]=I}),Yn.forEach(function(e){Eo[e+"s"]=j}),Eo.watch=function(e,t){if(e===uo&&(e=void 0),t===uo&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};x(r,e);for(var i in t){var n=r[i],o=t[i];n&&!Array.isArray(n)&&(n=[n]),r[i]=n?n.concat(o):Array.isArray(o)?o:[o]}return r},Eo.props=Eo.methods=Eo.inject=Eo.computed=function(e,t){if(!e)return t;var r=Object.create(null);return x(r,e),t&&x(r,t),r},Eo.provide=z;var Lo=function(e,t){return void 0===t?e:t},Po=function(e,t,r,i,n,o,a,s){this.tag=e,this.data=t,this.children=r,this.text=i,this.elm=n,this.ns=void 0,this.context=o,this.functionalContext=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Do={child:{}};Do.child.get=function(){return this.componentInstance},Object.defineProperties(Po.prototype,Do);var Ro,Fo=function(e){void 0===e&&(e="");var t=new Po;return t.text=e,t.isComment=!0,t},ko=v(function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var r="~"===e.charAt(0);e=r?e.slice(1):e;var i="!"===e.charAt(0);return e=i?e.slice(1):e,{name:e,once:r,capture:i,passive:t}}),Oo=null,Uo=[],No=[],Vo={},Bo=!1,zo=!1,Io=0,jo=0,Ho=function(e,t,r,i){this.vm=e,e._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++jo,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new mo,this.newDepIds=new mo,this.expression="","function"==typeof t?this.getter=t:(this.getter=A(t),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};Ho.prototype.get=function(){P(this);var e,t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;E(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ke(e),D(),this.cleanupDeps()}return e},Ho.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},Ho.prototype.cleanupDeps=function(){for(var e=this,t=this.deps.length;t--;){var r=e.deps[t];e.newDepIds.has(r.id)||r.removeSub(e)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},Ho.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Fe(this)},Ho.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||s(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){E(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},Ho.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Ho.prototype.depend=function(){for(var e=this,t=this.deps.length;t--;)e.deps[t].depend()},Ho.prototype.teardown=function(){var e=this;if(this.active){this.vm._isBeingDestroyed||d(this.vm._watchers,this);for(var t=this.deps.length;t--;)e.deps[t].removeSub(e);this.active=!1}};var Go=new mo,Wo={enumerable:!0,configurable:!0,get:w,set:w},Xo={lazy:!0},qo={init:function(e,t,r,i){if(!e.componentInstance||e.componentInstance._isDestroyed){(e.componentInstance=Je(e,Oo,r,i)).$mount(t?e.elm:void 0,t)}else if(e.data.keepAlive){var n=e;qo.prepatch(n,n)}},prepatch:function(e,t){var r=t.componentOptions;Me(t.componentInstance=e.componentInstance,r.propsData,r.listeners,t,r.children)},insert:function(e){var t=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,Ae(r,"mounted")),e.data.keepAlive&&(t._isMounted?De(r):Ce(r,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Te(t,!0):t.$destroy())}},$o=Object.keys(qo),Yo=1,Ko=2,Zo=0;!function(e){e.prototype._init=function(e){var t=this;t._uid=Zo++,t._isVue=!0,e&&e._isComponent?gt(t,e):t.$options=X(yt(t.constructor),e||{},t),t._renderProxy=t,t._self=t,we(t),de(t),vt(t),Ae(t,"beforeCreate"),$e(t),Ne(t),qe(t),Ae(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(wt),function(e){var t={};t.get=function(){return this._data};var r={};r.get=function(){return this._props},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",r),e.prototype.$set=U,e.prototype.$delete=N,e.prototype.$watch=function(e,t,r){var i=this;if(c(t))return Xe(i,e,t,r);r=r||{},r.user=!0;var n=new Ho(i,e,t,r);return r.immediate&&t.call(i,n.value),function(){n.teardown()}}}(wt),function(e){var t=/^hook:/;e.prototype.$on=function(e,r){var i=this,n=this;if(Array.isArray(e))for(var o=0,a=e.length;o<a;o++)i.$on(e[o],r);else(n._events[e]||(n._events[e]=[])).push(r),t.test(e)&&(n._hasHookEvent=!0);return n},e.prototype.$once=function(e,t){function r(){i.$off(e,r),t.apply(i,arguments)}var i=this;return r.fn=t,i.$on(e,r),i},e.prototype.$off=function(e,t){var r=this,i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(e)){for(var n=0,o=e.length;n<o;n++)r.$off(e[n],t);return i}var a=i._events[e];if(!a)return i;if(1===arguments.length)return i._events[e]=null,i;for(var s,c=a.length;c--;)if((s=a[c])===t||s.fn===t){a.splice(c,1);break}return i},e.prototype.$emit=function(e){var t=this,r=t._events[e];if(r){r=r.length>1?y(r):r;for(var i=y(arguments,1),n=0,o=r.length;n<o;n++)try{r[n].apply(t,i)}catch(r){E(r,t,'event handler for "'+e+'"')}}return t}}(wt),function(e){e.prototype._update=function(e,t){var r=this;r._isMounted&&Ae(r,"beforeUpdate");var i=r.$el,n=r._vnode,o=Oo;Oo=r,r._vnode=e,n?r.$el=r.__patch__(n,e):(r.$el=r.__patch__(r.$el,e,t,!1,r.$options._parentElm,r.$options._refElm),r.$options._parentElm=r.$options._refElm=null),Oo=o,i&&(i.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Ae(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||d(t.$children,e),e._watcher&&e._watcher.teardown();for(var r=e._watchers.length;r--;)e._watchers[r].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Ae(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null)}}}(wt),function(e){e.prototype.$nextTick=function(e){return xo(e,this)},e.prototype._render=function(){var e=this,t=e.$options,r=t.render,i=t.staticRenderFns,n=t._parentVnode;if(e._isMounted)for(var o in e.$slots)e.$slots[o]=ee(e.$slots[o]);e.$scopedSlots=n&&n.data.scopedSlots||Qn,i&&!e._staticTrees&&(e._staticTrees=[]),e.$vnode=n;var a;try{a=r.call(e._renderProxy,e.$createElement)}catch(t){E(t,e,"render function"),a=e._vnode}return a instanceof Po||(a=Fo()),a.parent=n,a},e.prototype._o=ft,e.prototype._n=f,e.prototype._s=h,e.prototype._l=at,e.prototype._t=st,e.prototype._q=_,e.prototype._i=M,e.prototype._m=ht,e.prototype._f=ct,e.prototype._k=lt,e.prototype._b=ut,e.prototype._v=Q,e.prototype._e=Fo,e.prototype._u=be,e.prototype._g=mt}(wt);var Qo=[String,RegExp,Array],Jo={name:"keep-alive",abstract:!0,props:{include:Qo,exclude:Qo},created:function(){this.cache=Object.create(null)},destroyed:function(){var e=this;for(var t in e.cache)Dt(e.cache[t])},watch:{include:function(e){Pt(this.cache,this._vnode,function(t){return Lt(e,t)})},exclude:function(e){Pt(this.cache,this._vnode,function(t){return!Lt(e,t)})}},render:function(){var e=pe(this.$slots.default),t=e&&e.componentOptions;if(t){var r=Et(t);if(r&&(this.include&&!Lt(this.include,r)||this.exclude&&Lt(this.exclude,r)))return e;var i=null==e.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):e.key;this.cache[i]?e.componentInstance=this.cache[i].componentInstance:this.cache[i]=e,e.data.keepAlive=!0}return e}},ea={KeepAlive:Jo};!function(e){var t={};t.get=function(){return Zn},Object.defineProperty(e,"config",t),e.util={warn:eo,extend:x,mergeOptions:X,defineReactive:O},e.set=U,e.delete=N,e.nextTick=xo,e.options=Object.create(null),Yn.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,x(e.options.components,ea),_t(e),Mt(e),St(e),At(e)}(wt),Object.defineProperty(wt.prototype,"$isServer",{get:vo}),Object.defineProperty(wt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),wt.version="2.4.2";var ta,ra,ia,na,oa,aa,sa,ca,la,ua=p("style,class"),ha=p("input,textarea,option,select"),fa=function(e,t,r){return"value"===r&&ha(e)&&"button"!==t||"selected"===r&&"option"===e||"checked"===r&&"input"===e||"muted"===r&&"video"===e},pa=p("contenteditable,draggable,spellcheck"),da=p("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),ma="http://www.w3.org/1999/xlink",va=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},ga=function(e){return va(e)?e.slice(6,e.length):""},ya=function(e){return null==e||!1===e},xa={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ba=p("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),wa=p("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),_a=function(e){return"pre"===e},Ma=function(e){return ba(e)||wa(e)},Sa=Object.create(null),Ca=Object.freeze({createElement:jt,createElementNS:Ht,createTextNode:Gt,createComment:Wt,insertBefore:Xt,removeChild:qt,appendChild:$t,parentNode:Yt,nextSibling:Kt,tagName:Zt,setTextContent:Qt,setAttribute:Jt}),Ta={create:function(e,t){er(t)},update:function(e,t){e.data.ref!==t.data.ref&&(er(e,!0),er(t))},destroy:function(e){er(e,!0)}},Aa=new Po("",{},[]),Ea=["create","activate","update","remove","destroy"],La={create:nr,update:nr,destroy:function(e){nr(e,Aa)}},Pa=Object.create(null),Da=[Ta,La],Ra={create:lr,update:lr},Fa={create:hr,update:hr},ka=/[\w).+\-_$\]]/,Oa="__r",Ua="__c",Na={create:Vr,update:Vr},Va={create:Br,update:Br},Ba=v(function(e){var t={},r=/;(?![^(]*\))/g,i=/:(.+)/;return e.split(r).forEach(function(e){if(e){var r=e.split(i);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}),za=/^--/,Ia=/\s*!important$/,ja=function(e,t,r){if(za.test(t))e.style.setProperty(t,r);else if(Ia.test(r))e.style.setProperty(t,r.replace(Ia,""),"important");else{var i=Ga(t);if(Array.isArray(r))for(var n=0,o=r.length;n<o;n++)e.style[i]=r[n];else e.style[i]=r}},Ha=["Webkit","Moz","ms"],Ga=v(function(e){if(la=la||document.createElement("div").style,"filter"!==(e=jn(e))&&e in la)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<Ha.length;r++){var i=Ha[r]+t;if(i in la)return i}}),Wa={create:Xr,update:Xr},Xa=v(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),qa=ro&&!oo,$a="transition",Ya="animation",Ka="transition",Za="transitionend",Qa="animation",Ja="animationend";qa&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ka="WebkitTransition",Za="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Qa="WebkitAnimation",Ja="webkitAnimationEnd"));var es=ro&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout,ts=/\b(transform|all)(,|$)/,rs=ro?{create:si,activate:si,remove:function(e,t){!0!==e.data.show?ni(e,t):t()}}:{},is=[Ra,Fa,Na,Va,Wa,rs],ns=is.concat(Da),os=function(e){function t(e){return new Po(P.tagName(e).toLowerCase(),{},[],void 0,e)}function o(e,t){function r(){0==--r.listeners&&s(e)}return r.listeners=t,r}function s(e){var t=P.parentNode(e);i(t)&&P.removeChild(t,e)}function c(e,t,r,o,a){if(e.isRootInsert=!a,!l(e,t,r,o)){var s=e.data,c=e.children,u=e.tag;i(u)?(e.elm=e.ns?P.createElementNS(e.ns,u):P.createElement(u,e),g(e),d(e,c,t),i(s)&&v(e,t),f(r,e.elm,o)):n(e.isComment)?(e.elm=P.createComment(e.text),f(r,e.elm,o)):(e.elm=P.createTextNode(e.text),f(r,e.elm,o))}}function l(e,t,r,o){var a=e.data;if(i(a)){var s=i(e.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(e,!1,r,o),i(e.componentInstance))return u(e,t),n(s)&&h(e,t,r,o),!0}}function u(e,t){i(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,m(e)?(v(e,t),g(e)):(er(e),t.push(e))}function h(e,t,r,n){for(var o,a=e;a.componentInstance;)if(a=a.componentInstance._vnode,i(o=a.data)&&i(o=o.transition)){for(o=0;o<E.activate.length;++o)E.activate[o](Aa,a);t.push(a);break}f(r,e.elm,n)}function f(e,t,r){i(e)&&(i(r)?r.parentNode===e&&P.insertBefore(e,t,r):P.appendChild(e,t))}function d(e,t,r){if(Array.isArray(t))for(var i=0;i<t.length;++i)c(t[i],r,e.elm,null,!0);else a(e.text)&&P.appendChild(e.elm,P.createTextNode(e.text))}function m(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return i(e.tag)}function v(e,t){for(var r=0;r<E.create.length;++r)E.create[r](Aa,e);T=e.data.hook,i(T)&&(i(T.create)&&T.create(Aa,e),i(T.insert)&&t.push(e))}function g(e){for(var t,r=e;r;)i(t=r.context)&&i(t=t.$options._scopeId)&&P.setAttribute(e.elm,t,""),r=r.parent;i(t=Oo)&&t!==e.context&&i(t=t.$options._scopeId)&&P.setAttribute(e.elm,t,"")}function y(e,t,r,i,n,o){for(;i<=n;++i)c(r[i],o,e,t)}function x(e){var t,r,n=e.data;if(i(n))for(i(t=n.hook)&&i(t=t.destroy)&&t(e),t=0;t<E.destroy.length;++t)E.destroy[t](e);if(i(t=e.children))for(r=0;r<e.children.length;++r)x(e.children[r])}function b(e,t,r,n){for(;r<=n;++r){var o=t[r];i(o)&&(i(o.tag)?(w(o),x(o)):s(o.elm))}}function w(e,t){if(i(t)||i(e.data)){var r,n=E.remove.length+1;for(i(t)?t.listeners+=n:t=o(e.elm,n),i(r=e.componentInstance)&&i(r=r._vnode)&&i(r.data)&&w(r,t),r=0;r<E.remove.length;++r)E.remove[r](e,t);i(r=e.data.hook)&&i(r=r.remove)?r(e,t):t()}else s(e.elm)}function _(e,t,n,o,a){for(var s,l,u,h,f=0,p=0,d=t.length-1,m=t[0],v=t[d],g=n.length-1,x=n[0],w=n[g],_=!a;f<=d&&p<=g;)r(m)?m=t[++f]:r(v)?v=t[--d]:tr(m,x)?(M(m,x,o),m=t[++f],x=n[++p]):tr(v,w)?(M(v,w,o),v=t[--d],w=n[--g]):tr(m,w)?(M(m,w,o),_&&P.insertBefore(e,m.elm,P.nextSibling(v.elm)),m=t[++f],w=n[--g]):tr(v,x)?(M(v,x,o),_&&P.insertBefore(e,v.elm,m.elm),v=t[--d],x=n[++p]):(r(s)&&(s=ir(t,f,d)),l=i(x.key)?s[x.key]:null,r(l)?(c(x,o,e,m.elm),x=n[++p]):(u=t[l],tr(u,x)?(M(u,x,o),t[l]=void 0,_&&P.insertBefore(e,u.elm,m.elm),x=n[++p]):(c(x,o,e,m.elm),x=n[++p])));f>d?(h=r(n[g+1])?null:n[g+1].elm,y(e,h,n,p,g,o)):p>g&&b(e,t,f,d)}function M(e,t,o,a){if(e!==t){var s=t.elm=e.elm;if(n(e.isAsyncPlaceholder))return void(i(t.asyncFactory.resolved)?C(e.elm,t,o):t.isAsyncPlaceholder=!0);if(n(t.isStatic)&&n(e.isStatic)&&t.key===e.key&&(n(t.isCloned)||n(t.isOnce)))return void(t.componentInstance=e.componentInstance);var c,l=t.data;i(l)&&i(c=l.hook)&&i(c=c.prepatch)&&c(e,t);var u=e.children,h=t.children;if(i(l)&&m(t)){for(c=0;c<E.update.length;++c)E.update[c](e,t);i(c=l.hook)&&i(c=c.update)&&c(e,t)}r(t.text)?i(u)&&i(h)?u!==h&&_(s,u,h,o,a):i(h)?(i(e.text)&&P.setTextContent(s,""),y(s,null,h,0,h.length-1,o)):i(u)?b(s,u,0,u.length-1):i(e.text)&&P.setTextContent(s,""):e.text!==t.text&&P.setTextContent(s,t.text),i(l)&&i(c=l.hook)&&i(c=c.postpatch)&&c(e,t)}}function S(e,t,r){if(n(r)&&i(e.parent))e.parent.data.pendingInsert=t;else for(var o=0;o<t.length;++o)t[o].data.hook.insert(t[o])}function C(e,t,r){if(n(t.isComment)&&i(t.asyncFactory))return t.elm=e,t.isAsyncPlaceholder=!0,!0;t.elm=e;var o=t.tag,a=t.data,s=t.children;if(i(a)&&(i(T=a.hook)&&i(T=T.init)&&T(t,!0),i(T=t.componentInstance)))return u(t,r),!0;if(i(o)){if(i(s))if(e.hasChildNodes()){for(var c=!0,l=e.firstChild,h=0;h<s.length;h++){if(!l||!C(l,s[h],r)){c=!1;break}l=l.nextSibling}if(!c||l)return!1}else d(t,s,r);if(i(a))for(var f in a)if(!D(f)){v(t,r);break}}else e.data!==t.text&&(e.data=t.text);return!0}var T,A,E={},L=e.modules,P=e.nodeOps;for(T=0;T<Ea.length;++T)for(E[Ea[T]]=[],A=0;A<L.length;++A)i(L[A][Ea[T]])&&E[Ea[T]].push(L[A][Ea[T]]);var D=p("attrs,style,class,staticClass,staticStyle,key");return function(e,o,a,s,l,u){if(r(o))return void(i(e)&&x(e));var h=!1,f=[];if(r(e))h=!0,c(o,f,l,u);else{var p=i(e.nodeType);if(!p&&tr(e,o))M(e,o,f,s);else{if(p){if(1===e.nodeType&&e.hasAttribute($n)&&(e.removeAttribute($n),a=!0),n(a)&&C(e,o,f))return S(o,f,!0),e;e=t(e)}var d=e.elm,v=P.parentNode(d);if(c(o,f,d._leaveCb?null:v,P.nextSibling(d)),i(o.parent)){for(var g=o.parent;g;)g.elm=o.elm,g=g.parent;if(m(o))for(var y=0;y<E.create.length;++y)E.create[y](Aa,o.parent)}i(v)?b(v,[e],0,0):i(e.tag)&&x(e)}}return S(o,f,h),o.elm}}({nodeOps:Ca,modules:ns}),as=p("text,number,password,search,email,tel,url");oo&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&fi(e,"input")});var ss={inserted:function(e,t,r){if("select"===r.tag){var i=function(){ci(e,t,r.context)};i(),(no||ao)&&setTimeout(i,0),e._vOptions=[].map.call(e.options,li)}else("textarea"===r.tag||as(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("change",hi),so||(e.addEventListener("compositionstart",ui),e.addEventListener("compositionend",hi)),oo&&(e.vmodel=!0)))},componentUpdated:function(e,t,r){if("select"===r.tag){ci(e,t,r.context);var i=e._vOptions;(e._vOptions=[].map.call(e.options,li)).some(function(e,t){return!_(e,i[t])})&&fi(e,"change")}}},cs={bind:function(e,t,r){var i=t.value;r=pi(r);var n=r.data&&r.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&n?(r.data.show=!0,ii(r,function(){e.style.display=o})):e.style.display=i?o:"none"},update:function(e,t,r){var i=t.value;i!==t.oldValue&&(r=pi(r),r.data&&r.data.transition?(r.data.show=!0,i?ii(r,function(){e.style.display=e.__vOriginalDisplay}):ni(r,function(){e.style.display="none"})):e.style.display=i?e.__vOriginalDisplay:"none")},unbind:function(e,t,r,i,n){n||(e.style.display=e.__vOriginalDisplay)}},ls={model:ss,show:cs},us={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},hs={name:"transition",props:us,abstract:!0,render:function(e){var t=this,r=this.$options._renderChildren;if(r&&(r=r.filter(function(e){return e.tag||xi(e)}),r.length)){var i=this.mode,n=r[0];if(gi(this.$vnode))return n;var o=di(n);if(!o)return n;if(this._leaving)return vi(e,n);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var c=(o.data||(o.data={})).transition=mi(this),l=this._vnode,u=di(l);if(o.data.directives&&o.data.directives.some(function(e){return"show"===e.name})&&(o.data.show=!0),u&&u.data&&!yi(o,u)&&!xi(u)){var h=u&&(u.data.transition=x({},c));if("out-in"===i)return this._leaving=!0,ie(h,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),vi(e,n);if("in-out"===i){if(xi(o))return l;var f,p=function(){f()};ie(c,"afterEnter",p),ie(c,"enterCancelled",p),ie(h,"delayLeave",function(e){f=e})}}return n}}},fs=x({tag:String,moveClass:String},us);delete fs.mode;var ps={props:fs,render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),i=this.prevChildren=this.children,n=this.$slots.default||[],o=this.children=[],a=mi(this),s=0;s<n.length;s++){var c=n[s];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),r[c.key]=c,(c.data||(c.data={})).transition=a;else;}if(i){for(var l=[],u=[],h=0;h<i.length;h++){var f=i[h];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),r[f.key]?l.push(f):u.push(f)}this.kept=e(t,null,l),this.removed=u}return e(t,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";if(e.length&&this.hasMove(e[0].elm,t)){e.forEach(bi),e.forEach(wi),e.forEach(_i);var r=document.body;r.offsetHeight;e.forEach(function(e){if(e.data.moved){var r=e.elm,i=r.style;Zr(r,t),i.transform=i.WebkitTransform=i.transitionDuration="",r.addEventListener(Za,r._moveCb=function e(i){i&&!/transform$/.test(i.propertyName)||(r.removeEventListener(Za,e),r._moveCb=null,Qr(r,t))})}})}},methods:{hasMove:function(e,t){if(!qa)return!1;if(this._hasMove)return this._hasMove;var r=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){$r(r,e)}),qr(r,t),r.style.display="none",this.$el.appendChild(r);var i=ei(r);return this.$el.removeChild(r),this._hasMove=i.hasTransform}}},ds={Transition:hs,TransitionGroup:ps};wt.config.mustUseProp=fa,wt.config.isReservedTag=Ma,wt.config.isReservedAttr=ua,wt.config.getTagNamespace=Bt,wt.config.isUnknownElement=zt,x(wt.options.directives,ls),x(wt.options.components,ds),wt.prototype.__patch__=ro?os:w,wt.prototype.$mount=function(e,t){return e=e&&ro?It(e):void 0,_e(this,e,t)},setTimeout(function(){Zn.devtools&&go&&go.emit("init",wt)},0);var ms,vs=!!ro&&function(e,t){var r=document.createElement("div");return r.innerHTML='<div a="'+e+'"/>',r.innerHTML.indexOf(t)>0}("\n","&#10;"),gs=/\{\{((?:.|\n)+?)\}\}/g,ys=/[-.*+?^${}()|[\]\/\\]/g,xs=v(function(e){var t=e[0].replace(ys,"\\$&"),r=e[1].replace(ys,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+r,"g")}),bs={staticKeys:["staticClass"],transformNode:Si,genData:Ci},ws={staticKeys:["staticStyle"],transformNode:Ti,genData:Ai},_s=[bs,ws],Ms={model:Pr,text:Ei,html:Li},Ss=p("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Cs=p("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Ts=p("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),As={expectHTML:!0,modules:_s,directives:Ms,isPreTag:_a,isUnaryTag:Ss,mustUseProp:fa,canBeLeftOpenTag:Cs,isReservedTag:Ma,getTagNamespace:Bt,staticKeys:function(e){return e.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")}(_s)},Es={decode:function(e){return ms=ms||document.createElement("div"),ms.innerHTML=e,ms.textContent}},Ls=/([^\s"'<>\/=]+)/,Ps=/(?:=)/,Ds=[/"([^"]*)"+/.source,/'([^']*)'+/.source,/([^\s"'=<>`]+)/.source],Rs=new RegExp("^\\s*"+Ls.source+"(?:\\s*("+Ps.source+")\\s*(?:"+Ds.join("|")+"))?"),Fs="[a-zA-Z_][\\w\\-\\.]*",ks="((?:"+Fs+"\\:)?"+Fs+")",Os=new RegExp("^<"+ks),Us=/^\s*(\/?)>/,Ns=new RegExp("^<\\/"+ks+"[^>]*>"),Vs=/^<!DOCTYPE [^>]+>/i,Bs=/^<!--/,zs=/^<!\[/,Is=!1;"x".replace(/x(.)?/g,function(e,t){Is=""===t});var js,Hs,Gs,Ws,Xs,qs,$s,Ys,Ks,Zs,Qs=p("script,style,textarea",!0),Js={},ec={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n"},tc=/&(?:lt|gt|quot|amp);/g,rc=/&(?:lt|gt|quot|amp|#10);/g,ic=p("pre,textarea",!0),nc=function(e,t){return e&&ic(e)&&"\n"===t[0]},oc=/^@|^v-on:/,ac=/^v-|^@|^:/,sc=/(.*?)\s+(?:in|of)\s+(.*)/,cc=/\((\{[^}]*\}|[^,]*),([^,]*)(?:,([^,]*))?\)/,lc=/:(.*)$/,uc=/^:|^v-bind:/,hc=/\.[^.]+/g,fc=v(Es.decode),pc=/^xmlns:NS\d+/,dc=/^NS\d+:/,mc=v(Ji),vc=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,gc=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,yc={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},xc=function(e){return"if("+e+")return null;"},bc={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:xc("$event.target !== $event.currentTarget"),ctrl:xc("!$event.ctrlKey"),shift:xc("!$event.shiftKey"),alt:xc("!$event.altKey"),meta:xc("!$event.metaKey"),left:xc("'button' in $event && $event.button !== 0"),middle:xc("'button' in $event && $event.button !== 1"),right:xc("'button' in $event && $event.button !== 2")},wc={on:ln,bind:un,cloak:w},_c=function(e){this.options=e,this.warn=e.warn||dr,this.transforms=mr(e.modules,"transformCode"),this.dataGenFns=mr(e.modules,"genData"),this.directives=x(x({},wc),e.directives);var t=e.isReservedTag||Xn;this.maybeComponent=function(e){return!t(e.tag)},this.onceId=0,this.staticRenderFns=[]},Mc=(new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),function(e){return function(t){function r(r,i){var n=Object.create(t),o=[],a=[];if(n.warn=function(e,t){(t?a:o).push(e)},i){i.modules&&(n.modules=(t.modules||[]).concat(i.modules)),i.directives&&(n.directives=x(Object.create(t.directives),i.directives));for(var s in i)"modules"!==s&&"directives"!==s&&(n[s]=i[s])}var c=e(r,n);return c.errors=o,c.tips=a,c}return{compile:r,compileToFunctions:On(r)}}}(function(e,t){var r=Ri(e.trim(),t);Qi(r,t);var i=hn(r,t);return{ast:r,render:i.render,staticRenderFns:i.staticRenderFns}})),Sc=Mc(As),Cc=Sc.compileToFunctions,Tc=v(function(e){var t=It(e);return t&&t.innerHTML}),Ac=wt.prototype.$mount;wt.prototype.$mount=function(e,t){if((e=e&&It(e))===document.body||e===document.documentElement)return this;var r=this.$options;if(!r.render){var i=r.template;if(i)if("string"==typeof i)"#"===i.charAt(0)&&(i=Tc(i));else{if(!i.nodeType)return this;i=i.innerHTML}else e&&(i=Un(e));if(i){var n=Cc(i,{shouldDecodeNewlines:vs,delimiters:r.delimiters,comments:r.comments},this),o=n.render,a=n.staticRenderFns;r.render=o,r.staticRenderFns=a}}return Ac.call(this,e,t)},wt.compile=Cc,t.a=wt}).call(t,r(7))}});
//# sourceMappingURL=vendor.160d9754ba909a8c7b4a.js.map